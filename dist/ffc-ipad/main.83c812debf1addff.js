"use strict";(self.webpackChunkffc_ipad=self.webpackChunkffc_ipad||[]).push([[179],{114:()=>{function be(t){return"function"==typeof t}function ku(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Td=ku(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Po(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof Td?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{MS(s)}catch(o){e=e??[],o instanceof Td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Td(e)}}add(e){var n;if(e&&e!==this)if(this.closed)MS(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Po(n,e)}remove(e){const{_finalizers:n}=this;n&&Po(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const SS=kn.EMPTY;function AS(t){return t instanceof kn||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function MS(t){be(t)?t():t.unsubscribe()}const Ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sd={setTimeout(t,e,...n){const{delegate:r}=Sd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Sd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xS(t){Sd.setTimeout(()=>{const{onUnhandledError:e}=Ds;if(!e)throw t;e(t)})}function NS(){}const bH=lm("C",void 0,void 0);function lm(t,e,n){return{kind:t,value:e,error:n}}let Cs=null;function Ad(t){if(Ds.useDeprecatedSynchronousErrorHandling){const e=!Cs;if(e&&(Cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Cs;if(Cs=null,n)throw r}}else t()}class dm extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AS(e)&&e.add(this)):this.destination=RH}static create(e,n,r){return new Pu(e,n,r)}next(e){this.isStopped?fm(function SH(t){return lm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?fm(function TH(t){return lm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fm(bH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const MH=Function.prototype.bind;function hm(t,e){return MH.call(t,e)}class xH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Md(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Md(r)}else Md(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Md(n)}}}class Pu extends dm{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hm(e.next,s),error:e.error&&hm(e.error,s),complete:e.complete&&hm(e.complete,s)}):i=e}this.destination=new xH(i)}}function Md(t){Ds.useDeprecatedSynchronousErrorHandling?function AH(t){Ds.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=t)}(t):xS(t)}function fm(t,e){const{onStoppedNotification:n}=Ds;n&&Sd.setTimeout(()=>n(t,e))}const RH={closed:!0,next:NS,error:function NH(t){throw t},complete:NS},pm="function"==typeof Symbol&&Symbol.observable||"@@observable";function bs(t){return t}function RS(t){return 0===t.length?bs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function OH(t){return t&&t instanceof dm||function PH(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&AS(t)}(n)?n:new Pu(n,r,i);return Ad(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=kS(r))((i,s)=>{const o=new Pu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[pm](){return this}pipe(...n){return RS(n)(this)}toPromise(n){return new(n=kS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function kS(t){var e;return null!==(e=t??Ds.Promise)&&void 0!==e?e:Promise}const FH=ku(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kr=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new PS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FH}next(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?SS:(this.currentObservers=null,s.push(n),new kn(()=>{this.currentObservers=null,Po(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return t.create=(e,n)=>new PS(e,n),t})();class PS extends Kr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:SS}}function OS(t){return be(t?.lift)}function Ft(t){return e=>{if(OS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new LH(t,e,n,r,i)}class LH extends dm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Ct(r,s=>{r.next(t.call(e,s,i++))}))})}function LS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ts(t){return this instanceof Ts?(this.v=t,this):new Ts(t)}function $H(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function US(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const BS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $S(t){return be(t?.then)}function jS(t){return be(t[pm])}function HS(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function GS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zS=function HH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qS(t){return be(t?.[zS])}function WS(t){return function BH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ts?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ts(n.read());if(i)return yield Ts(void 0);yield yield Ts(r)}}finally{n.releaseLock()}})}function KS(t){return be(t?.getReader)}function ir(t){if(t instanceof qe)return t;if(null!=t){if(jS(t))return function GH(t){return new qe(e=>{const n=t[pm]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(BS(t))return function zH(t){return new qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($S(t))return function qH(t){return new qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xS)})}(t);if(HS(t))return QS(t);if(qS(t))return function WH(t){return new qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(KS(t))return function KH(t){return QS(WS(t))}(t)}throw GS(t)}function QS(t){return new qe(e=>{(function QH(t,e){var n,r,i,s;return function VH(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$H(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Lt(t,e,n=1/0){return be(e)?Lt((r,i)=>Se((s,o)=>e(r,s,i,o))(ir(t(r,i))),n):("number"==typeof e&&(n=e),Ft((r,i)=>function YH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;ir(n(m,l++)).subscribe(Ct(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Qr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Oo(t=1/0){return Lt(bs,t)}const wr=new qe(t=>t.complete());function mm(t){return t[t.length-1]}function YS(t){return be(mm(t))?t.pop():void 0}function Ou(t){return function JH(t){return t&&be(t.schedule)}(mm(t))?t.pop():void 0}function xd(t,e=0){return Ft((n,r)=>{n.subscribe(Ct(r,i=>Qr(r,t,()=>r.next(i),e),()=>Qr(r,t,()=>r.complete(),e),i=>Qr(r,t,()=>r.error(i),e)))})}function Nd(t,e=0){return Ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XS(t,e){if(!t)throw new Error("Iterable cannot be null");return new qe(n=>{Qr(n,e,()=>{const r=t[Symbol.asyncIterator]();Qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bt(t,e){return e?function sG(t,e){if(null!=t){if(jS(t))return function eG(t,e){return ir(t).pipe(Nd(e),xd(e))}(t,e);if(BS(t))return function nG(t,e){return new qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($S(t))return function tG(t,e){return ir(t).pipe(Nd(e),xd(e))}(t,e);if(HS(t))return XS(t,e);if(qS(t))return function rG(t,e){return new qe(n=>{let r;return Qr(n,e,()=>{r=t[zS](),Qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(t,e);if(KS(t))return function iG(t,e){return XS(WS(t),e)}(t,e)}throw GS(t)}(t,e):ir(t)}function ym(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Pu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function _m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const uG=we({__forward_ref__:we});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return yt(this())},t}function Q(t){return wm(t)?t():t}function wm(t){return"function"==typeof t&&t.hasOwnProperty(uG)&&t.__forward_ref__===Ae}function Im(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function Em(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function Rd(t,e){throw new T(-201,!1)}function qn(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function an(t){return{providers:t.providers||[],imports:t.imports||[]}}function kd(t){return ZS(t,Pd)||ZS(t,tA)}function ZS(t,e){return t.hasOwnProperty(e)?t[e]:null}function eA(t){return t&&(t.hasOwnProperty(Dm)||t.hasOwnProperty(mG))?t[Dm]:null}const Pd=we({\u0275prov:we}),Dm=we({\u0275inj:we}),tA=we({ngInjectableDef:we}),mG=we({ngInjectorDef:we});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let Cm;function vn(t){const e=Cm;return Cm=t,e}function rA(t,e,n){const r=kd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void Rd(yt(t))}const Me=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fu={},bm="__NG_DI_FLAG__",Od="ngTempTokenPath",_G=/\n/gm,iA="__source";let Fo;function Fi(t){const e=Fo;return Fo=t,e}function IG(t,e=G.Default){if(void 0===Fo)throw new T(-203,!1);return null===Fo?rA(t,void 0,e):Fo.get(t,e&G.Optional?null:void 0,e)}function $(t,e=G.Default){return(function nA(){return Cm}()||IG)(Q(t),e)}function O(t,e=G.Default){return $(t,Fd(e))}function Fd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tm(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=EG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Lu(t,e){return t[bm]=e,t.prototype[bm]=e,t}function EG(t){return t[bm]}function Yr(t){return{toString:t}.toString()}var Ir=(()=>((Ir=Ir||{})[Ir.OnPush=0]="OnPush",Ir[Ir.Default=1]="Default",Ir))(),On=(()=>{return(t=On||(On={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",On;var t})();const Xr={},me=[],Ld=we({\u0275cmp:we}),Sm=we({\u0275dir:we}),Am=we({\u0275pipe:we}),oA=we({\u0275mod:we}),Jr=we({\u0275fac:we}),Vu=we({__NG_ELEMENT_ID__:we}),aA=we({__NG_ENV_ID__:we});function uA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Mm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];lA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function cA(t){return 3===t||4===t||6===t}function lA(t){return 64===t.charCodeAt(0)}function Uu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||dA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function dA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const hA="ng-template";function bG(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==uA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function fA(t){return 4===t.type&&t.value!==hA}function TG(t,e,n){return e===(4!==t.type||n?t.value:hA)}function SG(t,e,n){let r=4;const i=t.attrs||[],s=function xG(t){for(let e=0;e<t.length;e++)if(cA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!TG(t,u,n)||""===u&&1===e.length){if(sr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bG(t.attrs,c,n)){if(sr(r))return!1;o=!0}continue}const d=AG(8&r?"class":u,i,fA(t),n);if(-1===d){if(sr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==uA(f,c,0)||2&r&&c!==h){if(sr(r))return!1;o=!0}}}}else{if(!o&&!sr(r)&&!sr(u))return!1;if(o&&sr(u))continue;o=!1,r=u|1&r}}return sr(r)||o}function sr(t){return 0==(1&t)}function AG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function NG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function pA(t,e,n=!1){for(let r=0;r<e.length;r++)if(SG(t,e[r],n))return!0;return!1}function RG(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function gA(t,e){return t?":not("+e.trim()+")":e}function kG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!sr(o)&&(e+=gA(s,i),i=""),r=o,s=s||!sr(r);n++}return""!==i&&(e+=gA(s,i)),e}function Zr(t){return Yr(()=>{const e=yA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||me,_:null,schemas:t.schemas||null,tView:null,id:""};_A(n);const r=t.dependencies;return n.directiveDefs=Vd(r,!1),n.pipeDefs=Vd(r,!0),n.id=function $G(t){let e=0;const n=JSON.stringify([t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,t.inputs,t.outputs,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery]);for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function LG(t){return ye(t)||Kt(t)}function VG(t){return null!==t}function wn(t){return Yr(()=>({type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mA(t,e){if(null==t)return Xr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function W(t){return Yr(()=>{const e=yA(t);return _A(e),e})}function In(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[Ld]||null}function Kt(t){return t[Sm]||null}function En(t){return t[Am]||null}function Fn(t,e){const n=t[oA]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function yA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mA(t.inputs,e),outputs:mA(t.outputs)}}function _A(t){t.features?.forEach(e=>e(t))}function Vd(t,e){if(!t)return null;const n=e?En:LG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(VG)}const _t=0,N=1,ne=2,$e=3,or=4,Ss=5,Qt=6,Vo=7,We=8,Uo=9,As=10,ee=11,Bu=12,vA=13,Bo=14,ut=15,$u=16,$o=17,Er=18,ju=19,wA=20,Li=21,ei=22,Ud=23,Bd=24,le=25,xm=1,IA=2,Dr=7,$d=8,jo=9,Vt=11;function Ln(t){return Array.isArray(t)&&"object"==typeof t[xm]}function Dn(t){return Array.isArray(t)&&!0===t[xm]}function Nm(t){return 0!=(4&t.flags)}function Ms(t){return t.componentOffset>-1}function jd(t){return 1==(1&t.flags)}function ar(t){return!!t.template}function Rm(t){return 0!=(512&t[ne])}function xs(t,e){return t.hasOwnProperty(Jr)?t[Jr]:null}let qG=Me.WeakRef??class zG{constructor(e){this.ref=e}deref(){return this.ref}},KG=0,Cr=null,Hd=!1;function Tt(t){const e=Cr;return Cr=t,e}class TA{constructor(){this.id=KG++,this.ref=function WG(t){return new qG(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Hd;Hd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Hd=e}}producerAccessed(){if(Hd)throw new Error("");if(null===Cr)return;let e=Cr.producers.get(this.id);void 0===e?(e={consumerNode:Cr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Cr.trackingVersion},Cr.producers.set(this.id,e),this.consumers.set(Cr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Cr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Cr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let SA=null;const AA=()=>{};class JG extends TA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=AA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Tt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=AA,this.watch(this.registerOnCleanup)}finally{Tt(e)}}cleanup(){this.cleanupFn()}}class ZG{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wn(){return MA}function MA(t){return t.type.prototype.ngOnChanges&&(t.setInput=t4),e4}function e4(){const t=NA(this),e=t?.current;if(e){const n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function t4(t,e,n,r){const i=this.declaredInputs[n],s=NA(t)||function n4(t,e){return t[xA]=e}(t,{previous:Xr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new ZG(u&&u.currentValue,e,a===Xr),t[r]=e}Wn.ngInherit=!0;const xA="__ngSimpleChanges__";function NA(t){return t[xA]||null}const br=function(t,e,n){};function ke(t){for(;Array.isArray(t);)t=t[_t];return t}function qd(t,e){return ke(e[t])}function Cn(t,e){return ke(e[t.index])}function PA(t,e){return t.data[e]}function Ho(t,e){return t[e]}function bn(t,e){const n=e[t];return Ln(n)?n:n[_t]}function Wd(t){return 128==(128&t[ne])}function Vi(t,e){return null==e?null:t[e]}function OA(t){t[$o]=0}function u4(t){1024&t[ne]||(t[ne]|=1024,LA(t,1))}function FA(t){1024&t[ne]&&(t[ne]&=-1025,LA(t,-1))}function LA(t,e){let n=t[$e];if(null===n)return;n[Ss]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[Ss]||-1===e&&0===r[Ss]);)n[Ss]+=e,r=n,n=n[$e]}const q={lFrame:KA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BA(){return q.bindingsEnabled}function Go(){return null!==q.skipHydrationRootTNode}function E(){return q.lFrame.lView}function fe(){return q.lFrame.tView}function Kd(t){return q.lFrame.contextLView=t,t[We]}function Qd(t){return q.lFrame.contextLView=null,t}function Ut(){let t=$A();for(;null!==t&&64===t.type;)t=t.parent;return t}function $A(){return q.lFrame.currentTNode}function Tr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function Vm(){return q.lFrame.isParent}function Um(){q.lFrame.isParent=!1}function un(){const t=q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zo(){return q.lFrame.bindingIndex++}function w4(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bm(e)}function Bm(t){q.lFrame.currentDirectiveIndex=t}function jm(t){q.lFrame.currentQueryIndex=t}function E4(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Qt]:null}function qA(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=E4(s),null===i||(s=s[Bo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=WA();return r.currentTNode=e,r.lView=t,!0}function Hm(t){const e=WA(),n=t[N];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WA(){const t=q.lFrame,e=null===t?null:t.child;return null===e?KA(t):e}function KA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function QA(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const YA=QA;function Gm(){const t=QA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cn(){return q.lFrame.selectedIndex}function Ns(t){q.lFrame.selectedIndex=t}let JA=!0;function Yd(){return JA}function Ui(t){JA=t}function Xd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Jd(t,e,n){ZA(t,e,3,n)}function Zd(t,e,n,r){(3&t[ne])===n&&ZA(t,e,n,r)}function zm(t,e){let n=t[ne];(3&n)===e&&(n&=4095,n+=1,t[ne]=n)}function ZA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[$o]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[$o]+=65536),(a<s||-1==s)&&(x4(t,n,e,u),t[$o]=(4294901760&t[$o])+u+2),u++}function eM(t,e){br(4,t,e);const n=Tt(null);try{e.call(t)}finally{Tt(n),br(5,t,e)}}function x4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>12<t[$o]>>16&&(3&t[ne])===e&&(t[ne]+=4096,eM(a,s)):eM(a,s)}const qo=-1;class zu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function tM(t){return t!==qo}function eh(t){return 32767&t}function th(t,e){let n=function P4(t){return t>>16}(t),r=e;for(;n>0;)r=r[Bo],n--;return r}let Wm=!0;function nh(t){const e=Wm;return Wm=t,e}const nM=255,rM=5;let O4=0;const Sr={};function rh(t,e){const n=iM(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Km(r.data,t),Km(e,null),Km(r.blueprint,null));const i=Qm(t,e),s=t.injectorIndex;if(tM(i)){const o=eh(i),a=th(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Km(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=dM(i),null===r)return qo;if(n++,i=i[Bo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return qo}function Ym(t,e,n){!function F4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vu)&&(r=n[Vu]),null==r&&(r=n[Vu]=O4++);const i=r&nM;e.data[t+(i>>rM)]|=1<<i}(t,e,n)}function sM(t,e,n){if(n&G.Optional||void 0!==t)return t;Rd()}function oM(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),!(n&(G.Self|G.Host))){const i=t[Uo],s=vn(void 0);try{return i?i.get(e,r,n&G.Optional):rA(e,r,n&G.Optional)}finally{vn(s)}}return sM(r,0,n)}function aM(t,e,n,r=G.Default,i){if(null!==t){if(2048&e[ne]){const o=function $4(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=uM(s,o,n,r|G.Self,Sr);if(a!==Sr)return a;let u=s.parent;if(!u){const c=o[wA];if(c){const l=c.get(n,Sr,r);if(l!==Sr)return l}u=dM(o),o=o[Bo]}s=u}return i}(t,e,n,r,Sr);if(o!==Sr)return o}const s=uM(t,e,n,r,Sr);if(s!==Sr)return s}return oM(e,n,r,i)}function uM(t,e,n,r,i){const s=function U4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vu)?t[Vu]:void 0;return"number"==typeof e?e>=0?e&nM:B4:e}(n);if("function"==typeof s){if(!qA(e,t,r))return r&G.Host?sM(i,0,r):oM(e,n,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;Rd()}finally{YA()}}else if("number"==typeof s){let o=null,a=iM(t,e),u=qo,c=r&G.Host?e[ut][Qt]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?Qm(t,e):e[a+8],u!==qo&&lM(r,!1)?(o=e[N],a=eh(u),e=th(u,e)):a=-1);-1!==a;){const l=e[N];if(cM(s,a,l.data)){const d=V4(a,e,n,o,r,c);if(d!==Sr)return d}u=e[a+8],u!==qo&&lM(r,e[N].data[a+8]===c)&&cM(s,a,e)?(o=l,a=eh(u),e=th(u,e)):a=-1}}return i}function V4(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=function ih(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ar(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ms(a)&&Wm:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==l?Rs(e,o,l,a):Sr}function Rs(t,e,n,r){let i=t[n];const s=e.data;if(function N4(t){return t instanceof zu}(i)){const o=i;o.resolving&&function cG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=nh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?vn(o.injectImpl):null;qA(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function M4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=MA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&vn(u),nh(a),o.resolving=!1,YA()}}return i}function cM(t,e,n){return!!(n[e+(t>>rM)]&1<<t)}function lM(t,e){return!(t&G.Self||t&G.Host&&e)}class Wo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aM(this._tNode,this._lView,e,Fd(r),n)}}function B4(){return new Wo(Ut(),E())}function Bt(t){return Yr(()=>{const e=t.prototype.constructor,n=e[Jr]||Xm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Jr]||Xm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xm(t){return wm(t)?()=>{const e=Xm(Q(t));return e&&e()}:xs(t)}function dM(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Qt]:null}const Qo="__parameters__";function Xo(t,e,n){return Yr(()=>{const r=function Jm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Qo)?u[Qo]:Object.defineProperty(u,Qo,{value:[]})[Qo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ku(t,e){t.forEach(n=>Array.isArray(n)?Ku(n,e):e(n))}function fM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vn(t,e,n){let r=Jo(t,e);return r>=0?t[1|r]=n:(r=~r,function q4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Zm(t,e){const n=Jo(t,e);if(n>=0)return t[1|n]}function Jo(t,e){return function pM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ln=Lu(Xo("Optional"),8),uh=Lu(Xo("SkipSelf"),4);function dh(t){return 128==(128&t.flags)}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const fz=/^>|^->|<!--|-->|--!>|<!-$/g,pz=/(<|>)/,gz="\u200b$1\u200b";const oy=new Map;let mz=0;const uy="__ngContext__";function Yt(t,e){Ln(e)?(t[uy]=e[ju],function _z(t){oy.set(t[ju],t)}(e)):t[uy]=e}let cy;function ly(t,e){return cy(t,e)}function Ju(t){const e=t[$e];return Dn(e)?e[$e]:e}function dy(t){return kM(t[Bu])}function hy(t){return kM(t[or])}function kM(t){for(;null!==t&&!Dn(t);)t=t[or];return t}function ta(t,e,n,r,i){if(null!=r){let s,o=!1;Dn(r)?s=r:Ln(r)&&(o=!0,r=r[_t]);const a=ke(r);0===t&&null!==n?null==i?VM(e,n,a):ks(e,n,a,i||null,!0):1===t&&null!==n?ks(e,n,a,i||null,!0):2===t?function yh(t,e,n){const r=gh(t,e);r&&function Lz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Bz(t,e,n,r,i){const s=n[Dr];s!==ke(n)&&ta(e,t,r,s,i);for(let a=Vt;a<n.length;a++){const u=n[a];ec(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function fy(t,e){return t.createComment(function bM(t){return t.replace(fz,e=>e.replace(pz,gz))}(e))}function ph(t,e,n){return t.createElement(e,n)}function OM(t,e){const n=t[jo],r=n.indexOf(e);FA(e),n.splice(r,1)}function py(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const i=r[$u];null!==i&&i!==t&&OM(i,r),e>0&&(t[n-1][or]=r[or]);const s=oh(t,Vt+e);!function Mz(t,e){ec(t,e,e[ee],2,null,null),e[_t]=null,e[Qt]=null}(r[N],r);const o=s[Er];null!==o&&o.detachView(s[N]),r[$e]=null,r[or]=null,r[ne]&=-129}return r}function FM(t,e){if(!(256&e[ne])){const n=e[ee];e[Ud]?.destroy(),e[Bd]?.destroy(),n.destroyNode&&ec(t,e,n,3,null,null),function Rz(t){let e=t[Bu];if(!e)return gy(t[N],t);for(;e;){let n=null;if(Ln(e))n=e[Bu];else{const r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[or]&&e!==t;)Ln(e)&&gy(e[N],e),e=e[$e];null===e&&(e=t),Ln(e)&&gy(e[N],e),n=e&&e[or]}e=n}}(e)}}function gy(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function Fz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof zu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];br(4,a,u);try{u.call(a)}finally{br(5,a,u)}}else{br(4,i,s);try{s.call(i)}finally{br(5,i,s)}}}}}(t,e),function Oz(t,e){const n=t.cleanup,r=e[Vo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Vo]=null);const i=e[Li];if(null!==i){for(let s=0;s<i.length;s++)(0,i[s])();e[Li]=null}}(t,e),1===e[N].type&&e[ee].destroy();const n=e[$u];if(null!==n&&Dn(e[$e])){n!==e[$e]&&OM(n,e);const r=e[Er];null!==r&&r.detachView(t)}!function vz(t){oy.delete(t[ju])}(e)}}function my(t,e,n){return function LM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[_t];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===On.None||s===On.Emulated)return null}return Cn(r,n)}}(t,e.parent,n)}function ks(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VM(t,e,n){t.appendChild(e,n)}function UM(t,e,n,r,i){null!==r?ks(t,e,n,r,i):VM(t,e,n)}function gh(t,e){return t.parentNode(e)}function BM(t,e,n){return jM(t,e,n)}let yy,Iy,jM=function $M(t,e,n){return 40&t.type?Cn(t,n):null};function mh(t,e,n,r){const i=my(t,r,e),s=e[ee],a=BM(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)UM(s,i,n[u],a,!1);else UM(s,i,n,a,!1);void 0!==yy&&yy(s,r,e,n,i)}function Zu(t,e){if(null!==e){const n=e.type;if(3&n)return Cn(e,t);if(4&n)return _y(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Zu(t,r);{const i=t[e.index];return Dn(i)?_y(-1,i):ke(i)}}if(32&n)return ly(e,t)()||ke(t[e.index]);{const r=GM(t,e);return null!==r?Array.isArray(r)?r[0]:Zu(Ju(t[ut]),r):Zu(t,e.next)}}return null}function GM(t,e){return null!==e?t[ut][Qt].projection[e.projection]:null}function _y(t,e){const n=Vt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Zu(r,i)}return e[Dr]}function vy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Yt(ke(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)vy(t,e,n.child,r,i,s,!1),ta(e,t,i,a,s);else if(32&u){const c=ly(n,r);let l;for(;l=c();)ta(e,t,i,l,s);ta(e,t,i,a,s)}else 16&u?qM(t,e,r,n,i,s):ta(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ec(t,e,n,r,i,s){vy(n,r,t.firstChild,e,i,s,!1)}function qM(t,e,n,r,i,s){const o=n[ut],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ta(e,t,i,u[c],s);else{let c=u;const l=o[$e];dh(r)&&(c.flags|=128),vy(t,e,c,l,i,s,!0)}}function WM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KM(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Mm(t,e,r),null!==i&&WM(t,e,i),null!==s&&function jz(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class JM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const sc=new L("ENVIRONMENT_INITIALIZER"),ux=new L("INJECTOR",-1),cx=new L("INJECTOR_DEF_TYPES");class lx{get(e,n=Fu){if(n===Fu){const r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}}function g3(...t){return{\u0275providers:hx(0,t),\u0275fromNgModule:!0}}function hx(t,...e){const n=[],r=new Set;let i;return Ku(e,s=>{const o=s;Sy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&fx(i,n),n}function fx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Ay(i,s=>{e.push(s)})}}function Sy(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=eA(t);const o=!s&&ye(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=eA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Sy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ku(s.imports,l=>{Sy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&fx(c,e)}if(!a){const c=xs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:me},{provide:cx,useValue:i,multi:!0},{provide:sc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Ay(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Ay(t,e){for(let n of t)Im(n)&&(n=n.\u0275providers),Array.isArray(n)?Ay(n,e):e(n)}const m3=we({provide:String,useValue:we});function My(t){return null!==t&&"object"==typeof t&&m3 in t}function Ps(t){return"function"==typeof t}const xy=new L("Set Injector scope."),Ih={},_3={};let Ny;function Eh(){return void 0===Ny&&(Ny=new lx),Ny}class ii{}class Ry extends ii{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Py(e,o=>this.processProvider(o)),this.records.set(ux,ra(void 0,this)),i.has("environment")&&this.records.set(ii,ra(void 0,this));const s=this.records.get(xy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cx.multi,me,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Fi(this),r=vn(void 0);try{return e()}finally{Fi(n),vn(r)}}get(e,n=Fu,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aA))return e[aA](this);r=Fd(r);const i=Fi(this),s=vn(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function D3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&kd(e);a=u&&this.injectableDefInScope(u)?ra(ky(e),Ih):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?Eh():this.parent).get(e,n=r&G.Optional&&n===Fu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Od]=o[Od]||[]).unshift(yt(e)),i)throw o;return function DG(t,e,n,r){const i=t[Od];throw e[iA]&&i.unshift(e[iA]),t.message=function CG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_G,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Od]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{vn(s),Fi(i)}}resolveInjectorInitializers(){const e=Fi(this),n=vn(void 0);try{const r=this.get(sc.multi,me,G.Self);for(const i of r)i()}finally{Fi(e),vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Ps(e=Q(e))?e:Q(e&&e.provide);const r=function w3(t){return My(t)?ra(void 0,t.useValue):ra(mx(t),Ih)}(e);if(Ps(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ra(void 0,Ih,!0),i.factory=()=>Tm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ih&&(n.value=_3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function E3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ky(t){const e=kd(t),n=null!==e?e.factory:xs(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function v3(t){const e=t.length;if(e>0)throw Qu(e,"?"),new T(204,!1);const n=function gG(t){return t&&(t[Pd]||t[tA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function mx(t,e,n){let r;if(Ps(t)){const i=Q(t);return xs(i)||ky(i)}if(My(t))r=()=>Q(t.useValue);else if(function gx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Tm(t.deps||[]));else if(function px(t){return!(!t||!t.useExisting)}(t))r=()=>$(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function I3(t){return!!t.deps}(t))return xs(i)||ky(i);r=()=>new i(...Tm(t.deps))}return r}function ra(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Py(t,e){for(const n of t)Array.isArray(n)?Py(n,e):n&&Im(n)?Py(n.\u0275providers,e):e(n)}const Dh=new L("AppId",{providedIn:"root",factory:()=>C3}),C3="ng",yx=new L("Platform Initializer"),$i=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_x=new L("CSP nonce",{providedIn:"root",factory:()=>function tc(){if(void 0!==Iy)return Iy;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wx=(t,e)=>null;function Ix(t,e){return wx(t,e)}class P3{}class Cx{}class F3{resolveComponentFactory(e){throw function O3(t){const e=Error(`No component factory found for ${yt(t)}.`);return e.ngComponent=t,e}(e)}}let Ah=(()=>{class t{}return t.NULL=new F3,t})();function L3(){return ia(Ut(),E())}function ia(t,e){return new Un(Cn(t,e))}let Un=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=L3,t})();class Tx{}let si=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function U3(){const t=E(),n=bn(Ut().index,t);return(Ln(n)?n:t)[ee]}(),t})(),B3=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Sx=new sa("16.0.1"),zy={};function cc(t){for(;t;){t[ne]|=64;const e=Ju(t);if(Rm(t)&&!e)return t;t=e}return null}function qy(t){return t.ngOriginalError}class Os{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qy(e);for(;n&&qy(n);)n=qy(n);return n||null}}const xx=new L("",{providedIn:"root",factory:()=>!1});function oi(t){return t instanceof Function?t():t}class kx extends TA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){cc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Tt(this);this.trackingVersion++;try{e(n,r)}finally{Tt(i)}}destroy(){this.trackingVersion++}}let xh=null;function Px(){return xh??=new kx,xh}function Ox(t,e){return t[e]??Px()}function Fx(t,e){const n=Px();n.hasReadASignal&&(t[e]=xh,n.lView=t,xh=new kx)}const te={};function Le(t){Lx(fe(),E(),cn()+t,!1)}function Lx(t,e,n,r){if(!r)if(3==(3&e[ne])){const s=t.preOrderCheckHooks;null!==s&&Jd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Zd(e,s,0,n)}Ns(n)}function $x(t,e=null,n=null,r){const i=jx(t,e,n,r);return i.resolveInjectorInitializers(),i}function jx(t,e=null,n=null,r,i=new Set){const s=[n||me,g3(t)];return r=r||("object"==typeof t?void 0:yt(t)),new Ry(s,e||Eh(),r||null,i)}let Bn=(()=>{class t{static create(n,r){if(Array.isArray(n))return $x({name:""},r,n,"");{const i=n.name??"";return $x({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Fu,t.NULL=new lx,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(ux)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=G.Default){const n=E();return null===n?$(t,e):aM(Ut(),n,Q(t),e)}function Nh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[_t]=i,d[ne]=140|r,(null!==c||t&&2048&t[ne])&&(d[ne]|=2048),OA(d),d[$e]=d[Bo]=t,d[We]=n,d[As]=o||t&&t[As],d[ee]=a||t&&t[ee],d[Uo]=u||t&&t[Uo]||null,d[Qt]=s,d[ju]=function yz(){return mz++}(),d[ei]=l,d[wA]=c,d[ut]=2==e.type?t[ut]:d,d}function aa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Wy(t,e,n,r,i){const s=$A(),o=Vm(),u=t.data[e]=function aq(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Go()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function v4(){return q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Gu(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Tr(s,!0),s}function lc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gx(t,e,n,r,i){const s=Ox(e,Ud),o=cn(),a=2&r;try{if(Ns(-1),a&&e.length>le&&Lx(t,e,le,!1),br(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Tt(null);try{n(r,i)}finally{Tt(c)}}}finally{a&&null===e[Ud]&&Fx(e,Ud),Ns(o),br(a?3:1,i)}}function Ky(t,e,n){if(Nm(e)){const r=Tt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Tt(r)}}}function Qy(t,e,n){BA()&&(function pq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ms(n)&&function Iq(t,e,n){const r=Cn(e,t),o=Rh(t,Nh(t,zx(n),null,n.onPush?64:16,r,e,null,t[As].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rh(n,e),Yt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Rs(e,t,a,n);Yt(c,e),null!==o&&Eq(0,a-i,c,u,0,o),ar(u)&&(bn(n.index,e)[We]=Rs(e,t,a,n))}}(t,e,n,Cn(n,e)),64==(64&n.flags)&&Yx(t,e,n))}function Yy(t,e,n=Cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function zx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xy(t,e,n,r,i,s,o,a,u,c,l){const d=le+r,h=d+i,f=function tq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:te);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let qx=t=>null;function Wx(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Kx(n,e,i,s):r.hasOwnProperty(i)&&Kx(n,e,r[i],s)}return n}function Kx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Jy(t,e,n,r){if(BA()){const i=null===r?null:{"":-1},s=function mq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(pA(e,o.selectors,!1))if(r||(r=[]),ar(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Zy(t,e,a.length)}else r.unshift(o),Zy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Qx(t,e,n,o,i,a),i&&function yq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Uu(n.mergedAttrs,n.attrs)}function Qx(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ym(rh(n,e),t,r[c].type);!function vq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=lc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Uu(n.mergedAttrs,l.hostAttrs),wq(t,n,e,u,l),_q(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function uq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Wx(d.inputs,l,u,h?h.inputs:null),c=Wx(d.outputs,l,c,p);const m=null===u||null===o||fA(e)?null:Dq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Yx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function I4(){return q.lFrame.currentDirectiveIndex}();try{Ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Bm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&gq(u,c)}}finally{Ns(-1),Bm(o)}}function gq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _q(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function wq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xs(i.type)),o=new zu(s,ar(i),D);t.blueprint[r]=o,n[r]=o,function hq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function fq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,lc(t,n,i.hostVars,te),i)}function Eq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Xx(r,n,o[a++],o[a++],o[a++])}function Xx(t,e,n,r,i){const s=Tt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Tt(s)}}function Dq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Jx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Zx(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];jm(n[r]),o.contentQueries(2,e[s],s)}}}function Rh(t,e){return t[Bu]?t[vA][or]=e:t[Bu]=e,t[vA]=e,e}function t_(t,e,n){jm(0);const r=Tt(null);try{e(t,n)}finally{Tt(r)}}function rN(t,e){const n=t[Uo],r=n?n.get(Os,null):null;r&&r.handleError(e)}function n_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];Xx(t.data[o],e[o],r,a,i)}}function Cq(t,e){const n=bn(e,t),r=n[N];!function bq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[_t];null!==i&&null===n[ei]&&(n[ei]=Ix(i,n[Uo])),r_(r,n,n[We])}function r_(t,e,n){Hm(e);try{const r=t.viewQuery;null!==r&&t_(1,r,n);const i=t.template;null!==i&&Gx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zx(t,e),t.staticViewQueries&&t_(2,t.viewQuery,n);const s=t.components;null!==s&&function Tq(t,e){for(let n=0;n<e.length;n++)Cq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Gm()}}let iN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new JG(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vm(i,a):2==s&&(r=vm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function dc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ke(s)),Dn(s)){for(let a=Vt;a<s.length;a++){const u=s[a],c=u[N].firstChild;null!==c&&dc(u[N],u,c,r)}s[Dr]!==s[_t]&&r.push(s[Dr])}const o=n.type;if(8&o)dc(t,e,n.child,r);else if(32&o){const a=ly(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=GM(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ju(e[ut]);dc(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ph(t,e,n,r=!0){const i=e[As].rendererFactory;i.begin&&i.begin();try{Oh(t,e,t.template,n)}catch(o){throw r&&rN(e,o),o}finally{i.end&&i.end(),e[As].effectManager?.flush()}}function Oh(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[As].effectManager?.flush(),Hm(e);try{OA(e),function HA(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Gx(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Jd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Zd(e,c,0,null),zm(e,0)}if(function Rq(t){for(let e=dy(t);null!==e;e=hy(e)){if(!e[IA])continue;const n=e[jo];for(let r=0;r<n.length;r++){u4(n[r])}}}(e),function Nq(t){for(let e=dy(t);null!==e;e=hy(e))for(let n=Vt;n<e.length;n++){const r=e[n],i=r[N];Wd(r)&&Oh(i,r,i.template,r[We])}}(e),null!==t.contentQueries&&Zx(t,e),o){const c=t.contentCheckHooks;null!==c&&Jd(e,c)}else{const c=t.contentHooks;null!==c&&Zd(e,c,1),zm(e,1)}!function eq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Ox(e,Bd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ns(~s);else{const o=s,a=n[++i],u=n[++i];w4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Bd]&&Fx(e,Bd),Ns(-1)}}(t,e);const a=t.components;null!==a&&function Pq(t,e){for(let n=0;n<e.length;n++)kq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&t_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Jd(e,c)}else{const c=t.viewHooks;null!==c&&Zd(e,c,2),zm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,FA(e)}finally{Gm()}}}function kq(t,e){const n=bn(e,t);if(Wd(n)){const r=n[N];80&n[ne]?Oh(r,n,r.template,n[We]):n[Ss]>0&&i_(n)}}function i_(t){for(let r=dy(t);null!==r;r=hy(r))for(let i=Vt;i<r.length;i++){const s=r[i];if(Wd(s))if(1024&s[ne]){const o=s[N];Oh(o,s,o.template,s[We])}else s[Ss]>0&&i_(s)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);Wd(i)&&i[Ss]>0&&i_(i)}}class hc{get rootNodes(){const e=this._lView,n=e[N];return dc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(Dn(e)){const n=e[$d],r=n?n.indexOf(this):-1;r>-1&&(py(e,r),oh(n,r))}this._attachedToViewContainer=!1}FM(this._lView[N],this._lView)}onDestroy(e){!function VA(t,e){if(256==(256&t[ne]))throw new T(911,!1);null===t[Li]&&(t[Li]=[]),t[Li].push(e)}(this._lView,e)}markForCheck(){cc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){Ph(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nz(t,e){ec(t,e,e[ee],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Oq extends hc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ph(e[N],e,e[We],!1)}checkNoChanges(){}get context(){return null}}class sN extends Ah{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ye(e);return new fc(n,this.ngModule)}}function oN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Lq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fd(r);const i=this.injector.get(e,zy,r);return i!==zy||n===zy?i:this.parentInjector.get(e,n,r)}}class fc extends Cx{get inputs(){return oN(this.componentDef.inputs)}get outputs(){return oN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function PG(t){return t.map(kG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ii?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Lq(e,s):e,a=o.get(Tx,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:o.get(B3,null),effectManager:o.get(iN,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function nq(t,e,n,r){const s=r.get(xx,!1)||n===On.ShadowDom,o=t.selectRootElement(e,s);return function rq(t){qx(t)}(o),o}(d,r,this.componentDef.encapsulation,o):ph(d,h,function Fq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=Xy(0,null,null,1,0,null,null,null,null,null,null),y=Nh(null,m,null,p,null,null,l,d,o,null,null);let w,_;Hm(y);try{const C=this.componentDef;let P,V=null;C.findHostDirectiveDefs?(P=[],V=new Map,C.findHostDirectiveDefs(C,P,V),P.push(C)):P=[C];const ae=function Uq(t,e){const n=t[N],r=le;return t[r]=e,aa(n,r,2,"#host",null)}(y,f),mt=function Bq(t,e,n,r,i,s,o){const a=i[N];!function $q(t,e,n,r){for(const i of t)e.mergedAttrs=Uu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(kh(e,e.mergedAttrs,!0),null!==n&&KM(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Ix(e,i[Uo]));const c=s.rendererFactory.createRenderer(e,n),l=Nh(i,zx(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Zy(a,t,r.length-1),Rh(i,l),i[t.index]=l}(ae,f,C,P,y,l,d);_=PA(m,le),f&&function Hq(t,e,n,r){if(r)Mm(t,n,["ng-version",Sx.full]);else{const{attrs:i,classes:s}=function OG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!sr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Mm(t,n,i),s&&s.length>0&&WM(t,n,s.join(" "))}}(d,C,f,r),void 0!==n&&function Gq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),w=function jq(t,e,n,r,i,s){const o=Ut(),a=i[N],u=Cn(o,i);Qx(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Yt(Rs(i,a,o.directiveStart+l,o),i);Yx(a,i,o),u&&Yt(u,i);const c=Rs(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=c,null!==s)for(const l of s)l(c,e);return Ky(a,o,t),c}(mt,C,P,V,y,[zq]),r_(m,y,null)}finally{Gm()}return new Vq(this.componentType,w,ia(_,y),y,_)}}class Vq extends P3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Oq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;n_(s[N],s,i,e,n),this.previousInputValues.set(e,n),cc(bn(this._tNode.index,s))}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function zq(){const t=Ut();Xd(E()[N],t)}function Ie(t){let e=function aN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=s_(t.inputs),o.declaredInputs=s_(t.declaredInputs),o.outputs=s_(t.outputs);const a=i.hostBindings;a&&Qq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Wq(t,u),c&&Kq(t,c),_m(t.inputs,i.inputs),_m(t.declaredInputs,i.declaredInputs),_m(t.outputs,i.outputs),ar(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function qq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Uu(i.hostAttrs,n=Uu(n,i.hostAttrs))}}(r)}function s_(t){return t===Xr?{}:t===me?[]:t}function Wq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Kq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Qq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Fh(t){return!!o_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function o_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ui(t,e,n,r,i,s,o,a){const u=E(),c=fe(),l=t+le,d=c.firstCreatePass?function w6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=aa(e,t,4,o||null,Vi(c,a));Jy(e,n,l,Vi(c,u)),Xd(e,l);const d=l.tView=Xy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Tr(d,!1);const h=DN(c,u,d,t);Yd()&&mh(c,u,h,d),Yt(h,u),Rh(u,u[l]=Jx(h,u,h,d)),jd(d)&&Qy(c,u,d),null!=o&&Yy(u,d,a)}let DN=function CN(t,e,n,r){return Ui(!0),e[ee].createComment("")};function Ke(t,e,n){const r=E();return Xt(r,zo(),e)&&function $n(t,e,n,r,i,s,o,a){const u=Cn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(n_(t,n,l,r,i),Ms(e)&&function lq(t,e){const n=bn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function cq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(fe(),function je(){const t=q.lFrame;return PA(t.tView,t.selectedIndex)}(),r,t,e,r[ee],n,!1),Ke}function h_(t,e,n,r,i){const o=i?"class":"style";n_(t,n,e.inputs[o],o,r)}function ue(t,e,n,r){const i=E(),s=fe(),o=le+t,a=i[ee],u=s.firstCreatePass?function C6(t,e,n,r,i,s){const o=e.consts,u=aa(e,t,2,r,Vi(o,i));return Jy(e,n,u,Vi(o,s)),null!==u.attrs&&kh(u,u.attrs,!1),null!==u.mergedAttrs&&kh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=TN(s,i,u,a,e,t);i[o]=c;const l=jd(u);return Tr(u,!0),KM(a,c,u),32!=(32&u.flags)&&Yd()&&mh(s,i,c,u),0===function l4(){return q.lFrame.elementDepthCount}()&&Yt(c,i),function d4(){q.lFrame.elementDepthCount++}(),l&&(Qy(s,i,u),Ky(s,u,i)),null!==r&&Yy(i,u),ue}function se(){let t=Ut();Vm()?Um():(t=t.parent,Tr(t,!1));const e=t;(function f4(t){return q.skipHydrationRootTNode===t})(e)&&function y4(){q.skipHydrationRootTNode=null}(),function h4(){q.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(Xd(n,t),Nm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function R4(t){return 0!=(8&t.flags)}(e)&&h_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function k4(t){return 0!=(16&t.flags)}(e)&&h_(n,e,E(),e.stylesWithoutHost,!1),se}function St(t,e,n,r){return ue(t,e,n,r),se(),St}let TN=(t,e,n,r,i,s)=>(Ui(!0),ph(r,i,function XA(){return q.lFrame.currentNamespace}()));function ya(t,e,n){const r=E(),i=fe(),s=t+le,o=i.firstCreatePass?function S6(t,e,n,r,i){const s=e.consts,o=Vi(s,r),a=aa(e,t,8,"ng-container",o);return null!==o&&kh(a,o,!0),Jy(e,n,a,Vi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Tr(o,!0);const a=AN(i,r,o,t);return r[s]=a,Yd()&&mh(i,r,a,o),Yt(a,r),jd(o)&&(Qy(i,r,o),Ky(i,o,r)),null!=n&&Yy(r,o),ya}function _a(){let t=Ut();const e=fe();return Vm()?Um():(t=t.parent,Tr(t,!1)),e.firstCreatePass&&(Xd(e,t),Nm(t)&&e.queries.elementEnd(t)),_a}let AN=(t,e,n,r)=>(Ui(!0),fy(e[ee],""));function $h(){return E()}function _c(t){return!!t&&"function"==typeof t.then}function MN(t){return!!t&&"function"==typeof t.subscribe}function lt(t,e,n,r){const i=E(),s=fe(),o=Ut();return function NN(t,e,n,r,i,s,o){const a=jd(r),c=t.firstCreatePass&&function tN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[We],d=function eN(t){return t[Vo]||(t[Vo]=[])}(e);let h=!0;if(3&r.type||o){const m=Cn(r,e),y=o?o(m):m,w=d.length,_=o?P=>o(ke(P[r.index])):r.index;let C=null;if(!o&&a&&(C=function x6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Vo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,h=!1;else{s=kN(r,e,l,s,!1);const P=n.listen(y,i,s);d.push(s,P),c&&c.push(i,_,w,w+1)}}else s=kN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),ae=d.length;d.push(s,V),c&&c.push(i,r.index,ae,-(ae+1))}}}(s,i,i[ee],o,t,e,r),lt}function RN(t,e,n,r){try{return br(6,e,n),!1!==n(r)}catch(i){return rN(t,i),!1}finally{br(7,e,n)}}function kN(t,e,n,r,i){return function s(o){if(o===Function)return r;cc(t.componentOffset>-1?bn(t.index,e):e);let u=RN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=RN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ls(t=1){return function D4(t){return(q.lFrame.contextLView=function C4(t,e){for(;t>0;)e=e[Bo],t--;return e}(t,q.lFrame.contextLView))[We]}(t)}function N6(t,e){let n=null;const r=function MG(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?pA(t,s,!0):RG(r,s))return i}else n=i}return n}function f_(t,e=0,n){const r=E(),i=fe(),s=aa(i,le+t,16,null,n||null);null===s.projection&&(s.projection=e),Um(),(!r[ei]||Go())&&32!=(32&s.flags)&&function Uz(t,e,n){qM(e[ee],0,e,n,my(t,n,e),BM(n.parent||e[Qt],n,e))}(i,r,s)}function jh(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function g_(t){return 2|t}function Vs(t){return(131068&t)>>2}function m_(t,e){return-131069&t|e<<2}function y_(t){return 1|t}function GN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Vs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];L6(t[a],e)&&(u=!0,t[a+1]=r?y_(l):g_(l)),a=r?ji(l):Vs(l)}u&&(t[n+1]=r?g_(s):y_(s))}function L6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Jo(t,e)>=0}function Hh(t,e){return function ur(t,e,n,r){const i=E(),s=fe(),o=function ni(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function ZN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[cn()],o=function JN(t,e){return e>=t.expandoStartIndex}(t,n);(function rR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function q6(t,e,n,r){const i=function $m(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=vc(n=__(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=__(i,t,e,n,r),null===s){let u=function W6(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Vs(r))return t[ji(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=__(null,t,e,u[1],r),u=vc(u,e.attrs,r),function K6(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Q6(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=vc(r,t[s].hostAttrs,n);return vc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function O6(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),u=Vs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Jo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ji(t[a+1]);t[r+1]=jh(h,a),0!==h&&(t[h+1]=m_(t[h+1],r)),t[a+1]=function k6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=jh(a,0),0!==a&&(t[a+1]=m_(t[a+1],r)),a=r;else t[r+1]=jh(u,0),0===a?a=r:t[u+1]=m_(t[u+1],r),u=r;c&&(t[r+1]=g_(t[r+1])),GN(t,l,r,!0),GN(t,l,r,!1),function F6(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Jo(s,e)>=0&&(n[r+1]=y_(n[r+1]))}(e,l,t,r,s),o=jh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==te&&Xt(i,o,e)&&function tR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function P6(t){return 1==(1&t)}(c)?nR(u,e,n,i,Vs(c),o):void 0;Gh(l)||(Gh(s)||function R6(t){return 2==(2&t)}(c)&&(s=nR(u,null,n,i,a,o)),function $z(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Tn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}(r,o,qd(cn(),n),i,s))}(s,s.data[cn()],i,i[ee],t,i[o+1]=function Z6(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=yt(function Bi(t){return t instanceof JM?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Hh}function __(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=vc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function vc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function nR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===te&&(h=d?me:void 0);let f=d?Zm(h,r):l===r?h:void 0;if(c&&!Gh(f)&&(f=Zm(u,r)),Gh(f)&&(a=f,o))return a;const p=t[i+1];i=o?ji(p):Vs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Zm(u,r))}return a}function Gh(t){return void 0!==t}function xe(t,e=""){const n=E(),r=fe(),i=t+le,s=r.firstCreatePass?aa(r,i,1,e,null):r.data[i],o=iR(r,n,s,e,t);n[i]=o,Yd()&&mh(r,n,o,s),Tr(s,!1)}let iR=(t,e,n,r,i)=>(Ui(!0),function fh(t,e){return t.createText(e)}(e[ee],r));function Us(t){return zh("",t,""),Us}function zh(t,e,n){const r=E(),i=function ca(t,e,n,r){return Xt(t,zo(),n)?e+X(n)+r:te}(r,t,e,n);return i!==te&&function ai(t,e,n){const r=qd(e,t);!function PM(t,e,n){t.setValue(e,n)}(t[ee],r,n)}(r,cn(),i),zh}const Ia="en-US";let TR=Ia;function I_(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)I_(t[s],e,n,r,i);else{const s=fe(),o=E();let a=Ps(t)?t:Q(t.provide),u=mx(t);const c=Ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ps(t)||!t.multi){const f=new zu(u,i,D),p=D_(a,e,i?l:l+h,d);-1===p?(Ym(rh(c,o),s,a),E_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=D_(a,e,l+h,d),p=D_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Ym(rh(c,o),s,a);const w=function v9(t,e,n,r,i){const s=new zu(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,XR(s,i,r&&!n),s}(i?_9:y9,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),E_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else E_(s,t,f>-1?f:p,XR(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function E_(t,e,n,r){const i=Ps(e),s=function y3(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function XR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function D_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function y9(t,e,n,r){return C_(this.multi,[])}function _9(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Rs(n,n[N],this.providerFactory.index,r);s=a.slice(0,o),C_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],C_(i,s);return s}function C_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ve(t,e=[]){return n=>{n.providersResolver=(r,i)=>function m9(t,e,n){const r=fe();if(r.firstCreatePass){const i=ar(t);I_(n,r.data,r.blueprint,i,!0),I_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ea{}class JR{}class b_ extends Ea{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sN(this);const i=Fn(e);this._bootstrapComponents=oi(i.bootstrap),this._r3Injector=jx(e,n,[{provide:Ea,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class T_ extends JR{constructor(e){super(),this.moduleType=e}create(e){return new b_(this.moduleType,e,[])}}class ZR extends Ea{constructor(e){super(),this.componentFactoryResolver=new sN(this),this.instance=null;const n=new Ry([...e.providers,{provide:Ea,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver}],e.parent||Eh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function S_(t,e,n=null){return new ZR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let E9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=hx(0,n.type),i=r.length>0?S_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(ii))}),t})();function e1(t){t.getStandaloneInjector=e=>e.get(E9).getOrCreateStandaloneInjector(t)}function u1(t,e,n,r,i,s){const o=e+n;return Xt(t,o,i)?function Mr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function bc(t,e){const n=t[e];return n===te?void 0:n}(t,o+1)}function p1(t,e,n){const r=t+le,i=E(),s=Ho(i,r);return function Tc(t,e){return t[N].data[e].pure}(i,r)?u1(i,un(),e,s.transform,n,s):s.transform(n)}function M_(t){return e=>{setTimeout(t,void 0,e)}}const Ye=class z9 extends Kr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=M_(s),i&&(i=M_(i)),o&&(o=M_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kn&&e.add(a),a}};let ci=(()=>{class t{}return t.__NG_ELEMENT_ID__=Q9,t})();const W9=ci,K9=class extends W9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Nh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[$u]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Er];return null!==a&&(s[Er]=a.createEmbeddedView(i)),r_(i,s,e),new hc(s)}};function Q9(){return Yh(Ut(),E())}function Yh(t,e){return 4&t.type?new K9(e,t,ia(t,e)):null}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=n5,t})();function n5(){return function w1(t,e){let n;const r=e[t.index];return Dn(r)?n=r:(n=Jx(r,e,null,t),e[t.index]=n,Rh(e,n)),I1(n,e,t,r),new _1(n,t,e)}(Ut(),E())}const r5=lr,_1=class extends r5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qm(this._hostTNode,this._hostLView);if(tM(e)){const n=th(e,this._hostLView),r=eh(e);return new Wo(n[N].data[r+8],n)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=v1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Wu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new fc(ye(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(ii,null);y&&(s=y)}ye(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[N];if(function a4(t){return Dn(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new _1(c,c[Qt],c[$e]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function kz(t,e,n,r){const i=Vt+r,s=n.length;r>0&&(n[i-1][or]=e),r<s-Vt?(e[or]=n[i],fM(n,Vt+r,e)):(n.push(e),e[or]=null),e[$e]=n;const o=e[$u];null!==o&&n!==o&&function Pz(t,e){const n=t[jo];e[ut]!==e[$e][$e][ut]&&(t[IA]=!0),null===n?t[jo]=[e]:n.push(e)}(o,e);const a=e[Er];null!==a&&a.insertView(t),e[ne]|=128}(s,i,a,o),!r){const u=_y(o,a),c=i[ee],l=gh(c,a[Dr]);null!==l&&function xz(t,e,n,r,i,s){r[_t]=i,r[Qt]=e,ec(t,r,n,1,i,s)}(s,a[Qt],c,i,l,u)}return e.attachToViewContainerRef(),fM(R_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=v1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=py(this._lContainer,n);r&&(oh(R_(this._lContainer),n),FM(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=py(this._lContainer,n);return r&&null!=oh(R_(this._lContainer),n)?new hc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function v1(t){return t[$d]}function R_(t){return t[$d]||(t[$d]=[])}let I1=function E1(t,e,n,r){if(t[Dr])return;let i;i=8&n.type?ke(r):function i5(t,e){const n=t[ee],r=n.createComment(""),i=Cn(e,t);return ks(n,gh(n,i),r,function Vz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Dr]=i};function N1(t,e){return Yh(t,e)}const H_=new L("Application Initializer");let G_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(H_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(_c(s))n.push(s);else if(MN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const li=new L("LocaleId",{providedIn:"root",factory:()=>O(li,G.Optional|G.SkipSelf)||function P5(){return typeof $localize<"u"&&$localize.locale||Ia}()});class F5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Q1=(()=>{class t{compileModuleSync(n){return new T_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=oi(Fn(n).declarations).reduce((o,a)=>{const u=ye(a);return u&&o.push(new fc(u)),o},[]);return new F5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const U5=(()=>Promise.resolve(0))();function z_(t){typeof Zone>"u"?U5.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function J1(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function B5(){let t=Me.requestAnimationFrame,e=Me.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function H5(t){const e=()=>{!function j5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,W_(t),t.isCheckStableRunning=!0,q_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),W_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Z1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ek(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Z1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ek(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,W_(t),q_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$5,J1,J1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const $5={};function q_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function W_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Z1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ek(t){t._nesting--,q_(t)}class G5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const tk=new L("",{providedIn:"root",factory:nk});function nk(){const t=O(Te);let e=!0;return function oG(...t){const e=Ou(t),n=function ZH(t,e){return"number"==typeof mm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ir(r[0]):Oo(n)(bt(r,e)):wr}(new qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new qe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),z_(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function aG(t={}){const{connector:e=(()=>new Kr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ft((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=ym(p,i))}),w.subscribe(y),!o&&c>0&&(o=new Pu({next:_=>w.next(_),error:_=>{d=!0,h(),a=ym(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=ym(f,r),w.complete()}}),ir(m).subscribe(o))})(s)}}()))}const rk=new L(""),Jh=new L("");let Y_,K_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Y_||(function z5(t){Y_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),z_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Te),$(Q_),$(Jh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Q_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Y_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Hi=null;const ik=new L("AllowMultipleToken"),X_=new L("PlatformDestroyListeners"),J_=new L("appBootstrapListener");class ok{constructor(e,n){this.name=e,this.token=n}}function uk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Z_();if(!o||o.injector.get(ik,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function K5(t){if(Hi&&!Hi.get(ik,!1))throw new T(400,!1);(function sk(){!function YG(t){SA=t}(()=>{throw new T(600,!1)})})(),Hi=t;const e=t.get(lk);(function ak(t){t.get(yx,null)?.forEach(n=>n())})(t)}(function ck(t=[],e){return Bn.create({name:e,providers:[{provide:xy,useValue:"platform"},{provide:X_,useValue:new Set([()=>Hi=null])},...t]})}(a,r))}return function Y5(t){const e=Z_();if(!e)throw new T(401,!1);return e}()}}function Z_(){return Hi?.get(lk)??null}let lk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function X5(t="zone.js",e){return"noop"===t?new G5:"zone.js"===t?new Te(e):t}(r?.ngZone,function dk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function I9(t,e,n){return new b_(t,e,n)}(n.moduleType,this.injector,function mk(t){return[{provide:Te,useFactory:t},{provide:sc,multi:!0,useFactory:()=>{const e=O(Z5,{optional:!0});return()=>e.initialize()}},{provide:gk,useFactory:J5},{provide:tk,useFactory:nk}]}(()=>i)),o=s.injector.get(Os,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Zh(this._modules,s),a.unsubscribe()})}),function hk(t,e,n){try{const r=n();return _c(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(G_);return a.runInitializers(),a.donePromise.then(()=>(function SR(t){qn(t,"Expected localeId to be defined"),"string"==typeof t&&(TR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(li,Ia)||Ia),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=fk({},r);return function q5(t,e,n){const r=new T_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ba);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(X_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function fk(t,e){return Array.isArray(e)?e.reduce(fk,t):{...t,...e}}let ba=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(gk),this.componentTypes=[],this.components=[],this.isStable=O(tk),this._injector=O(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Cx;if(!this._injector.get(G_).done)throw!i&&function Lo(t){const e=ye(t)||Kt(t)||En(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Ah).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function W5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ea),c=o.create(Bn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(rk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Zh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(J_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gk=new L("",{providedIn:"root",factory:()=>O(Os).handleError.bind(void 0)});function J5(){const t=O(Te),e=O(Os);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Z5=(()=>{class t{constructor(){this.zone=O(Te),this.applicationRef=O(ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let ef=(()=>{class t{}return t.__NG_ELEMENT_ID__=t7,t})();function t7(t){return function n7(t,e,n){if(Ms(t)&&!n){const r=bn(t.index,e);return new hc(r,r)}return 47&t.type?new hc(e[ut],e):null}(Ut(),E(),16==(16&t))}class wk{constructor(){}supports(e){return Fh(e)}create(e){return new u7(e)}}const a7=(t,e)=>e;class u7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Ek(r,i,s)?n:r,a=Ek(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Fh(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function n6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new c7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ik),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ik),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class l7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Ik{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new l7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ek(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Dk{constructor(){}supports(e){return e instanceof Map||o_(e)}create(){return new d7}}class d7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||o_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new h7(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class h7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ck(){return new rf([new wk])}let rf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ck()),deps:[[t,new uh,new ln]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:Ck}),t})();function bk(){return new Ac([new Dk])}let Ac=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bk()),deps:[[t,new uh,new ln]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:bk}),t})();const g7=uk(null,"core",[]);let m7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(ba))},t.\u0275mod=wn({type:t}),t.\u0275inj=an({}),t})(),Nk=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=O(Te),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ov=null;function Gi(){return ov}class A7{}const Yn=new L("DocumentToken");let av=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return O(x7)},providedIn:"platform"}),t})();const M7=new L("Location Initialized");let x7=(()=>{class t extends av{constructor(){super(),this._doc=O(Yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gi().getBaseHref(this._doc)}onPopState(n){const r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function uv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function kk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function di(t){return t&&"?"!==t[0]?"?"+t:t}let js=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return O(Ok)},providedIn:"root"}),t})();const Pk=new L("appBaseHref");let Ok=(()=>{class t extends js{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(av),$(Pk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),N7=(()=>{class t extends js{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=uv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(av),$(Pk,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),cv=(()=>{class t{constructor(n){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function P7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(kk(Fk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(function k7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Fk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=di,t.joinWithSlash=uv,t.stripTrailingSlash=kk,t.\u0275fac=function(n){return new(n||t)($(js))},t.\u0275prov=j({token:t,factory:function(){return function R7(){return new cv($(js))}()},providedIn:"root"}),t})();function Fk(t){return t.replace(/\/index.html$/,"")}const vv=/\s+/,zk=[];let qk=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=zk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(vv):zk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(vv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(vv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(rf),D(Ac),D(Un),D(si))},t.\u0275dir=W({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class v8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new v8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Qk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Qk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(lr),D(ci),D(rf))},t.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Qk(t,e){t.context.$implicit=e.item}let mf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new w8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(lr),D(ci))},t.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class w8{constructor(){this.$implicit=null,this.ngIf=null}}function Yk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}let Jk=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw function fr(t,e){return new T(2100,!1)}();return n.toUpperCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=In({name:"uppercase",type:t,pure:!0,standalone:!0}),t})(),eP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({}),t})();function nP(t){return"server"===t}let W8=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new K8($(Yn),window)}),t})();class K8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Q8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rP(this.window.history)||rP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class DK extends A7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tv extends DK{static makeCurrent(){!function S7(t){ov||(ov=t)}(new Tv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function CK(){return Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null}();return null==n?null:function bK(t){vf=vf||document.createElement("a"),vf.setAttribute("href",t);const e=vf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function y8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vf,Rc=null,SK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Sv=new L("EventManagerPlugins");let uP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(Sv),$(Te))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class cP{constructor(e){this._doc=e}}const Av="ng-app-id";let lP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Av}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Av),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Av,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(Yn),$(Dh),$(_x,8),$($i))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xv=/%COMP%/g,NK=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function hP(t,e){return e.map(n=>n.replace(xv,t))}let fP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=nP(a),this.defaultRenderer=new Nv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r={...r,encapsulation:On.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof gP?i.applyToHost(n):i instanceof Rv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case On.Emulated:s=new gP(u,c,r,this.appId,l,o,a,d);break;case On.ShadowDom:return new OK(u,c,n,r,o,a,this.nonce,d);default:s=new Rv(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(uP),$(lP),$(Dh),$(NK),$(Yn),$($i),$(Te),$(_x))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class Nv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Mv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Mv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Mv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Gi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function pP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class OK extends Nv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=hP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rv extends Nv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?hP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class gP extends Rv{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function RK(t){return"_ngcontent-%COMP%".replace(xv,t)}(c),this.hostAttr=function kK(t){return"_nghost-%COMP%".replace(xv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let FK=(()=>{class t extends cP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(Yn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const mP=["alt","control","meta","shift"],LK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let UK=(()=>{class t extends cP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),mP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=LK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mP.forEach(o=>{o!==i&&(0,VK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(Yn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const _P=[{provide:$i,useValue:"browser"},{provide:yx,useValue:function BK(){Tv.makeCurrent()},multi:!0},{provide:Yn,useFactory:function jK(){return function qz(t){Iy=t}(document),document},deps:[]}],HK=uk(g7,"browser",_P),GK=new L(""),vP=[{provide:Jh,useClass:class TK{addToWindow(e){Me.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Me.getAllAngularTestabilities=()=>e.getAllTestabilities(),Me.getAllAngularRootElements=()=>e.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(r=>{const i=Me.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Gi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:rk,useClass:K_,deps:[Te,Q_,Jh]},{provide:K_,useClass:K_,deps:[Te,Q_,Jh]}],wP=[{provide:xy,useValue:"root"},{provide:Os,useFactory:function $K(){return new Os},deps:[]},{provide:Sv,useClass:FK,multi:!0,deps:[Yn,Te,$i]},{provide:Sv,useClass:UK,multi:!0,deps:[Yn]},fP,lP,uP,{provide:Tx,useExisting:fP},{provide:class Y8{},useClass:SK,deps:[]},[]];let zK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Dh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(GK,12))},t.\u0275mod=wn({type:t}),t.\u0275inj=an({providers:[...wP,...vP],imports:[eP,m7]}),t})(),IP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(Yn))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function WK(){return new IP($(Yn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:JK}=Array,{getPrototypeOf:ZK,prototype:eQ,keys:tQ}=Object;function bP(t){if(1===t.length){const e=t[0];if(JK(e))return{args:e,keys:null};if(function nQ(t){return t&&"object"==typeof t&&ZK(t)===eQ}(e)){const n=tQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:rQ}=Array;function TP(t){return Se(e=>function iQ(t,e){return rQ(e)?t(...e):t(e)}(t,e))}function SP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let AP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(si),D(Un))},t.\u0275dir=W({type:t}),t})(),Hs=(()=>{class t extends AP{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=W({type:t,features:[Ie]}),t})();const kr=new L("NgValueAccessor"),aQ={provide:kr,useExisting:Ae(()=>wf),multi:!0},cQ=new L("CompositionEventMode");let wf=(()=>{class t extends AP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uQ(){const t=Gi()?Gi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(si),D(Un),D(cQ,8))},t.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&lt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ve([aQ]),Ie]}),t})();function qi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function xP(t){return null!=t&&"number"==typeof t.length}const Jt=new L("NgValidators"),Wi=new L("NgAsyncValidators"),lQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pv{static min(e){return function NP(t){return e=>{if(qi(e.value)||qi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function RP(t){return e=>{if(qi(e.value)||qi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function kP(t){return qi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function PP(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function OP(t){return qi(t.value)||lQ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function FP(t){return e=>qi(e.value)||!xP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function LP(t){return e=>xP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function VP(t){if(!t)return If;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(qi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return GP(e)}static composeAsync(e){return zP(e)}}function If(t){return null}function UP(t){return null!=t}function BP(t){return _c(t)?bt(t):t}function $P(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jP(t,e){return e.map(n=>n(t))}function HP(t){return t.map(e=>function dQ(t){return!t.validate}(e)?e:n=>e.validate(n))}function GP(t){if(!t)return null;const e=t.filter(UP);return 0==e.length?null:function(n){return $P(jP(n,e))}}function Ov(t){return null!=t?GP(HP(t)):null}function zP(t){if(!t)return null;const e=t.filter(UP);return 0==e.length?null:function(n){return function sQ(...t){const e=YS(t),{args:n,keys:r}=bP(t),i=new qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;ir(n[l]).subscribe(Ct(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?SP(r,a):a),s.complete())}))}});return e?i.pipe(TP(e)):i}(jP(n,e).map(BP)).pipe(Se($P))}}function Fv(t){return null!=t?zP(HP(t)):null}function qP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WP(t){return t._rawValidators}function KP(t){return t._rawAsyncValidators}function Lv(t){return t?Array.isArray(t)?t:[t]:[]}function Ef(t,e){return Array.isArray(t)?t.includes(e):t===e}function QP(t,e){const n=Lv(e);return Lv(t).forEach(i=>{Ef(n,i)||n.push(i)}),n}function YP(t,e){return Lv(e).filter(n=>!Ef(t,n))}class XP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ov(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class fn extends XP{get formDirective(){return null}get path(){return null}}class Ki extends XP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class JP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ZP=(()=>{class t extends JP{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Ki,2))},t.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Hh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),Df=(()=>{class t extends JP{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(fn,10))},t.\u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Hh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const kc="VALID",bf="INVALID",Sa="PENDING",Pc="DISABLED";function Bv(t){return(Tf(t)?t.validators:t)||null}function $v(t,e){return(Tf(e)?e.asyncValidators:t)||null}function Tf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function tO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function nO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class jv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kc}get invalid(){return this.status===bf}get pending(){return this.status==Sa}get disabled(){return this.status===Pc}get enabled(){return this.status!==Pc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YP(e,this._rawAsyncValidators))}hasValidator(e){return Ef(this._rawValidators,e)}hasAsyncValidator(e){return Ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kc||this.status===Sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pc:kc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sa,this._hasOwnPendingAsyncValidator=!0;const n=BP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Pc:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sa)?Sa:this._anyControlsHaveStatus(bf)?bf:kc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gQ(t){return Array.isArray(t)?Ov(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mQ(t){return Array.isArray(t)?Fv(t):t||null}(this._rawAsyncValidators)}}class Gs extends jv{constructor(e,n,r){super(Bv(n),$v(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nO(this,0,e),Object.keys(e).forEach(r=>{tO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Aa=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Sf}),Sf="always";function Oc(t,e,n=Sf){Hv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function vQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rO(t,e)})}(t,e),function IQ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _Q(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Mf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Hv(t,e){const n=WP(t);null!==e.validator?t.setValidators(qP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=KP(t);null!==e.asyncValidator?t.setAsyncValidators(qP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Nf(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=WP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=KP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),n}function rO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function aO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Zn=class extends jv{constructor(e=null,n,r){super(Bv(n),$v(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=aO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Rf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),fO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({}),t})();const Kv=new L("NgModelWithFormControlWarning"),PQ={provide:Ki,useExisting:Ae(()=>Qv)};let Qv=(()=>{class t extends Ki{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Ye,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function qv(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===wf?n=s:function CQ(t){return Object.getPrototypeOf(t.constructor)===Hs}(s)?r=s:i=s}),i||r||n||null}(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&Mf(r,this,!1),Oc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function zv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)})(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(Jt,10),D(Wi,10),D(kr,10),D(Kv,8),D(Aa,8))},t.\u0275dir=W({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ve([PQ]),Ie,Wn]}),t})();const OQ={provide:fn,useExisting:Ae(()=>Lc)};let Lc=(()=>{class t extends fn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Oc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Mf(n.control||null,n,!1),function bQ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function sO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Mf(r||null,n),(t=>t instanceof Zn)(i)&&(Oc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function iO(t,e){Hv(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function EQ(t,e){return Nf(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hv(this.form,this),this._oldForm&&Nf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(D(Jt,10),D(Wi,10),D(Aa,8))},t.\u0275dir=W({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([OQ]),Ie,Wn]}),t})(),ZQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({imports:[fO]}),t})();class MO extends jv{constructor(e,n,r){super(Bv(n),$v(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){nO(this,0,e),e.forEach((r,i)=>{tO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}let xO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Kv,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Aa,useValue:n.callSetDisabledState??Sf}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({imports:[ZQ]}),t})(),eY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({imports:[eP,xO]}),t})();function J(...t){return bt(t,Ou(t))}class pr extends Kr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function tw(...t){const e=Ou(t),n=YS(t),{args:r,keys:i}=bP(t);if(0===r.length)return bt([],e);const s=new qe(function nY(t,e,n=bs){return r=>{NO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)NO(e,()=>{const c=bt(t[u],e);let l=!1;c.subscribe(Ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>SP(i,o):bs));return n?s.pipe(TP(n)):s}function NO(t,e,n){t?Qr(n,t,e):e()}const kf=ku(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nw(...t){return function rY(){return Oo(1)}()(bt(t,Ou(t)))}function RO(t){return new qe(e=>{ir(t()).subscribe(e)})}function Vc(t,e){const n=be(t)?t:()=>t,r=i=>i.error(n());return new qe(e?i=>e.schedule(r,0,i):r)}function rw(){return Ft((t,e)=>{let n=null;t._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kO extends qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,OS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return rw()(this)}}function fi(t,e){return Ft((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;ir(t(u,l)).subscribe(i=Ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ma(t){return t<=0?()=>wr:Ft((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qi(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Pf(t){return Ft((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PO(t=sY){return Ft((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sY(){return new kf}function qs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qi((i,s)=>t(i,s,r)):bs,Ma(1),n?Pf(e):PO(()=>new kf))}function Uc(t,e){return be(e)?Lt(t,e,1):Lt(t,1)}function Zt(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):bs}function Ws(t){return Ft((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ct(n,void 0,void 0,o=>{s=ir(t(o,Ws(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function iw(t){return t<=0?()=>wr:Ft((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sw(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Bc=Symbol("RouteTitle");class lY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xa(t){return new lY(t)}function dY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OO(t[i],e[i]))return!1;return!0}function OO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function FO(t){return t.length>0?t[t.length-1]:null}function Yi(t){return function tY(t){return!!t&&(t instanceof qe||be(t.lift)&&be(t.subscribe))}(t)?t:_c(t)?bt(Promise.resolve(t)):J(t)}const fY={exact:function UO(t,e,n){if(!Ks(t.segments,e.segments)||!Of(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UO(t.children[r],e.children[r],n))return!1;return!0},subset:BO},LO={exact:function pY(t,e){return Pr(t,e)},subset:function gY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OO(t[n],e[n]))},ignored:()=>!0};function VO(t,e,n){return fY[n.paths](t.root,e.root,n.matrixParams)&&LO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BO(t,e,n){return $O(t,e,e.segments,n)}function $O(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ks(i,n)||e.hasChildren()||!Of(i,n,r))}if(t.segments.length===n.length){if(!Ks(t.segments,n)||!Of(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ks(t.segments,i)&&Of(t.segments,i,r)&&t.children[re])&&$O(t.children[re],e,s,r)}}function Of(t,e,n){return e.every((r,i)=>LO[n](t[i].parameters,r.parameters))}class Na{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return _Y.serialize(this)}}class Ee{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ff(this)}}class $c{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xa(this.parameters)),this._parameterMap}toString(){return GO(this)}}function Ks(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let jc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new ow},providedIn:"root"}),t})();class ow{parse(e){const n=new MY(e);return new Na(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Hc(e.root,!0)}`,r=function IY(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Lf(n)}=${Lf(i)}`).join("&"):`${Lf(n)}=${Lf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const _Y=new ow;function Ff(t){return t.segments.map(e=>GO(e)).join("/")}function Hc(t,e){if(!t.hasChildren())return Ff(t);if(e){const n=t.children[re]?Hc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Hc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function yY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[Hc(t.children[re],!1)]:[`${i}:${Hc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Ff(t)}/${n[0]}`:`${Ff(t)}/(${n.join("//")})`}}function jO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lf(t){return jO(t).replace(/%3B/gi,";")}function aw(t){return jO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vf(t){return decodeURIComponent(t)}function HO(t){return Vf(t.replace(/\+/g,"%20"))}function GO(t){return`${aw(t.path)}${function wY(t){return Object.keys(t).map(e=>`;${aw(e)}=${aw(t[e])}`).join("")}(t.parameters)}`}const EY=/^[^\/()?;#]+/;function uw(t){const e=t.match(EY);return e?e[0]:""}const DY=/^[^\/()?;=#]+/,bY=/^[^=?&#]+/,SY=/^[^&#]+/;class MY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ee(e,n)),r}parseSegment(){const e=uw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new $c(Vf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function CY(t){const e=t.match(DY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uw(this.remaining);i&&(r=i,this.capture(r))}e[Vf(n)]=Vf(r)}parseQueryParam(e){const n=function TY(t){const e=t.match(bY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function AY(t){const e=t.match(SY);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=HO(n),s=HO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zO(t){return t.segments.length>0?new Ee([],{[re]:t}):t}function qO(t){const e={};for(const r of Object.keys(t.children)){const s=qO(t.children[r]);if(r===re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function xY(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new Ee(t.segments.concat(e.segments),e.children)}return t}(new Ee(t.segments,e))}function Qs(t){return t instanceof Na}function WO(t){let e;const i=zO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ee(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function KO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return cw(i,i,i,n,r);const s=function RY(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new YO(n,e,r)}(e);if(s.toRoot())return cw(i,i,new Ee([],{}),n,r);const o=function kY(t,e,n){if(t.isAbsolute)return new Bf(e,!0,0);if(!n)return new Bf(e,!1,NaN);if(null===n.parent)return new Bf(n,!0,0);const r=Uf(t.commands[0])?0:1;return function PY(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Bf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?zc(o.segmentGroup,o.index,s.commands):XO(o.segmentGroup,o.index,s.commands);return cw(i,o.segmentGroup,a,n,r)}function Uf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gc(t){return"object"==typeof t&&null!=t&&t.outlets}function cw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:QO(t,e,n);const a=zO(qO(o));return new Na(a,s,i)}function QO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:QO(s,e,n)}),new Ee(t.segments,r)}class YO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uf(r[0]))throw new T(4003,!1);const i=r.find(Gc);if(i&&i!==FO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XO(t,e,n){if(t||(t=new Ee([],{})),0===t.segments.length&&t.hasChildren())return zc(t,e,n);const r=function FY(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Gc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZO(u,c,o))return s;r+=2}else{if(!ZO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(t.segments.slice(r.pathIndex),t.children),zc(s,0,i)}return r.match&&0===i.length?new Ee(t.segments,{}):r.match&&!t.hasChildren()?lw(t,e,n):r.match?zc(t,0,i):lw(t,e,n)}function zc(t,e,n){if(0===n.length)return new Ee(t.segments,{});{const r=function OY(t){return Gc(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(!r[re]&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=zc(t.children[re],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=XO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ee(t.segments,i)}}function lw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gc(s)){const u=LY(s.outlets);return new Ee(r,u)}if(0===i&&Uf(n[0])){r.push(new $c(t.segments[e].path,JO(n[0]))),i++;continue}const o=Gc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uf(a)?(r.push(new $c(o,JO(a))),i+=2):(r.push(new $c(o,{})),i++)}return new Ee(r,{})}function LY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=lw(new Ee([],{}),0,r))}),e}function JO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZO(t,e,n){return t==n.path&&Pr(e,n.parameters)}const qc="imperative";class Or{constructor(e,n){this.id=e,this.url=n}}class dw extends Or{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends Or{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $f extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wc extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class hw extends Or{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VY extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UY extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BY extends Or{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $Y extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jY extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new QY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=fw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=fw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=pw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pw(e,this._root).map(n=>n.value)}}function fw(t,e){if(t===e.value)return e;for(const n of e.children){const r=fw(t,n);if(r)return r}return null}function pw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=pw(t,n);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nF extends tF{constructor(e,n){super(e),this.snapshot=n,gw(this,e)}toString(){return this.snapshot.toString()}}function rF(t,e){const n=function YY(t,e){const o=new jf([],{},{},"",{},re,e,null,{});return new sF("",new pi(o,[]))}(0,e),r=new pr([new $c("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),u=new ka(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new nF(new pi(u,[]),n)}class ka{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(c=>c[Bc]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(e=>xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(e=>xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function XY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jf{get title(){return this.data?.[Bc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sF extends tF{constructor(e,n){super(n),this.url=e,gw(this,n)}toString(){return oF(this._root)}}function gw(t,e){e.value._routerState=t,e.children.forEach(n=>gw(t,n))}function oF(t){const e=t.children.length>0?` { ${t.children.map(oF).join(", ")} } `:"";return`${t.value}${e}`}function mw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pr(e.params,n.params)||t.paramsSubject.next(n.params),function hY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Pr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yw(t,e){const n=Pr(t.params,e.params)&&function mY(t,e){return Ks(t,e)&&t.every((n,r)=>Pr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||yw(t.parent,e.parent))}let aF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(Kc),this.location=O(lr),this.changeDetector=O(ef),this.environmentInjector=O(ii),this.inputBinder=O(Hf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new JY(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]}),t})();class JY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ka?this.route:e===Kc?this.childContexts:this.parent.get(e,n)}}const Hf=new L("");let uF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=tw([r.queryParams,r.params,r.data]).pipe(fi(([s,o,a],u)=>(a={...s,...o,...a},0===u?J(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function T7(t){const e=ye(t);if(!e)return null;const n=new fc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Qc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function eX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qc(t,r,i);return Qc(t,r)})}(t,e,n);return new pi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qc(t,a)),o}}const r=function tX(t){return new ka(new pr(t.url),new pr(t.params),new pr(t.queryParams),new pr(t.fragment),new pr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Qc(t,s));return new pi(r,i)}}const _w="ngNavigationCancelingError";function cF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[_w]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dF(t){return hF(t)&&Qs(t.url)}function hF(t){return t&&t[_w]}let fF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zr({type:t,selectors:[["ng-component"]],standalone:!0,features:[e1],decls:1,vars:0,template:function(n,r){1&n&&St(0,"router-outlet")},dependencies:[aF],encapsulation:2}),t})();function vw(t){const e=t.children&&t.children.map(vw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=fF),n}function gr(t){return t.outlet||re}function Yc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class uX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new KY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new qY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(mw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Yc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class pF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gf{constructor(e,n){this.component=e,this.route=n}}function cX(t,e,n){const r=t._root;return Xc(r,e?e._root:null,n,[r.value])}function Pa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function pG(t){return null!==kd(t)}(t)?e.get(t):t:r}function Xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ra(e);return t.children.forEach(o=>{(function dX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function hX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ks(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yw(t,e)||!Pr(t.queryParams,e.queryParams);default:return!yw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gf(a.outlet.component,o))}else o&&Jc(e,a,i),i.canActivateChecks.push(new pF(r)),Xc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jc(a,n.getContext(o),i)),i}function Jc(t,e,n){const r=Ra(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Jc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Gf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zc(t){return"function"==typeof t}function gF(t){return t instanceof kf||"EmptyError"===t?.name}const zf=Symbol("INITIAL_VALUE");function Oa(){return fi(t=>tw(t.map(e=>e.pipe(Ma(1),function iY(...t){const e=Ou(t);return Ft((n,r)=>{(e?nw(t,n,e):nw(t,n)).subscribe(r)})}(zf)))).pipe(Se(e=>{for(const n of e)if(!0!==n){if(n===zf)return zf;if(!1===n||n instanceof Na)return n}return!0}),Qi(e=>e!==zf),Ma(1)))}function mF(t){return function kH(...t){return RS(t)}(Zt(e=>{if(Qs(e))throw cF(0,e)}),Se(e=>!0===e))}class qf{constructor(e){this.segmentGroup=e||null}}class yF{constructor(e){this.urlTree=e}}function Fa(t){return Vc(new qf(t))}function _F(t){return Vc(new yF(t))}class RX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return J(r);if(i.numberOfChildren>1||!i.children[re])return Vc(new T(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Na(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ww={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kX(t,e,n,r,i){const s=Iw(t,e,n);return s.matched?(r=function nX(t,e){return t.providers&&!t._injector&&(t._injector=S_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function MX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?J(i.map(o=>{const a=Pa(o,t);return Yi(function _X(t){return t&&Zc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),mF()):J(!0)}(r,e,n).pipe(Se(o=>!0===o?s:{...ww}))):J(s)}function Iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ww}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dY)(n,t,e);if(!i)return{...ww};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function vF(t,e,n,r){return n.length>0&&function FX(t,e,n){return n.some(r=>Wf(t,e,r)&&gr(r)!==re)}(t,n,r)?{segmentGroup:new Ee(e,OX(r,new Ee(n,t.children))),slicedSegments:[]}:0===n.length&&function LX(t,e,n){return n.some(r=>Wf(t,e,r))}(t,n,r)?{segmentGroup:new Ee(t.segments,PX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function PX(t,e,n,r,i){const s={};for(const o of r)if(Wf(t,n,o)&&!i[gr(o)]){const a=new Ee([],{});s[gr(o)]=a}return{...i,...s}}function OX(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&gr(r)!==re){const i=new Ee([],{});n[gr(r)]=i}return n}function Wf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class $X{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new RX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=vF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Ws(n=>{if(n instanceof yF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof qf?this.noMatchError(n):n}),Se(n=>{const r=new jf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new pi(r,n),s=new sF("",i),o=function NY(t,e,n=null,r=null){return KO(WO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(Ws(r=>{throw r instanceof qf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=iF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bt(i).pipe(Uc(s=>{const o=r.children[s],a=function oX(t,e){const n=t.filter(r=>gr(r)===e);return n.push(...t.filter(r=>gr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function aY(t,e){return Ft(function oY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Pf(null),function uY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qi((i,s)=>t(i,s,r)):bs,iw(1),n?Pf(e):PO(()=>new kf))}(),Lt(s=>{if(null===s)return Fa(r);const o=wF(s);return function jX(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),J(o)}))}processSegment(e,n,r,i,s,o){return bt(n).pipe(Uc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ws(u=>{if(u instanceof qf)return J(null);throw u}))),qs(a=>!!a),Ws(a=>{if(gF(a))return function UX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?J([]):Fa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function VX(t,e,n,r){return!!(gr(t)===r||r!==re&&Wf(e,n,t))&&("**"===t.path||Iw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Fa(i):Fa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_F(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new Ee(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Iw(n,i,s);if(!a)return Fa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_F(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Lt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?FO(i).parameters:{};a=J({snapshot:new jf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),gr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=kX(n,r,i,e).pipe(Se(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new jf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),gr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(fi(u=>null===u?Fa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(fi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=vF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Se(w=>null===w?null:[new pi(d,w)]));if(0===c.length&&0===m.length)return J([new pi(d,[])]);const y=gr(r)===s;return this.processSegment(l,c,p,m,y?re:s,!0).pipe(Se(w=>[new pi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?J({routes:n._loadedRoutes,injector:n._loadedInjector}):function AX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?J(!0):J(i.map(o=>{const a=Pa(o,t);return Yi(function pX(t){return t&&Zc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),mF())}(e,n,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,n).pipe(Zt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function NX(t){return Vc(lF(!1,3))}())):J({routes:[],injector:e})}}function HX(t){const e=t.value.routeConfig;return e&&""===e.path}function wF(t){const e=[],n=new Set;for(const r of t){if(!HX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wF(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function EF(t){return t.resolve||{}}function DF(t){return"string"==typeof t.title||null===t.title}function Ew(t){return fi(e=>{const n=t(e);return n?bt(n).pipe(Se(()=>e)):J(e)})}const La=new L("ROUTES");let Dw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Q1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Yi(n.loadComponent()).pipe(Se(CF),Zt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),sw(()=>{this.componentLoaders.delete(n)})),i=new kO(r,()=>new Kr).pipe(rw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(La,[],G.Self|G.Optional).flat()),{routes:c.map(vw),injector:u}}),sw(()=>{this.childrenLoaders.delete(r)})),o=new kO(s,()=>new Kr).pipe(rw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Yi(n()).pipe(Se(CF),Lt(r=>r instanceof JR||Array.isArray(r)?J(r):bt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CF(t){return function YX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Kf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kr,this.configLoader=O(Dw),this.environmentInjector=O(ii),this.urlSerializer=O(jc),this.rootContexts=O(Kc),this.inputBindingEnabled=null!==O(Hf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new GY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new HY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new pr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qi(r=>0!==r.id),Se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),fi(r=>{let i=!1,s=!1;return J(r).pipe(Zt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fi(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Wc(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),wr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return bF(o.source)&&(n.browserUrlTree=o.extractedUrl),J(o).pipe(fi(l=>{const d=this.transitions?.getValue();return this.events.next(new dw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?wr:Promise.resolve(l)}),function GX(t,e,n,r,i,s){return Lt(o=>function BX(t,e,n,r,i,s,o="emptyOnly"){return new $X(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Se(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Zt(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new VY(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new dw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=rF(0,this.rootComponentType).snapshot;return J(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Wc(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),wr}}),Zt(o=>{const a=new UY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Se(o=>r={...o,guards:cX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function wX(t,e){return Lt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?J({...n,guardsResult:!0}):function IX(t,e,n,r){return bt(t).pipe(Lt(i=>function SX(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?J(s.map(a=>{const u=Yc(e)??i,c=Pa(a,u);return Yi(function yX(t){return t&&Zc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(qs())})).pipe(Oa()):J(!0)}(i.component,i.route,n,e,r)),qs(i=>!0!==i,!0))}(o,r,i,t).pipe(Lt(a=>a&&function fX(t){return"boolean"==typeof t}(a)?function EX(t,e,n,r){return bt(e).pipe(Uc(i=>nw(function CX(t,e){return null!==t&&e&&e(new zY(t)),J(!0)}(i.route.parent,r),function DX(t,e){return null!==t&&e&&e(new WY(t)),J(!0)}(i.route,r),function TX(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>RO(()=>J(o.guards.map(u=>{const c=Yc(o.node)??n,l=Pa(u,c);return Yi(function mX(t){return t&&Zc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(qs())})).pipe(Oa())));return J(s).pipe(Oa())}(t,i.path,n),function bX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return J(!0);const i=r.map(s=>RO(()=>{const o=Yc(e)??n,a=Pa(s,o);return Yi(function gX(t){return t&&Zc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(qs())}));return J(i).pipe(Oa())}(t,i.route,n))),qs(i=>!0!==i,!0))}(r,s,t,e):J(a)),Se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Zt(o=>{if(r.guardsResult=o.guardsResult,Qs(o.guardsResult))throw cF(0,o.guardsResult);const a=new BY(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Qi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Ew(o=>{if(o.guards.canActivateChecks.length)return J(o).pipe(Zt(a=>{const u=new $Y(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),fi(a=>{let u=!1;return J(a).pipe(function zX(t,e){return Lt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=0;return bt(i).pipe(Uc(o=>function qX(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!DF(i)&&(s[Bc]=i.title),function WX(t,e,n,r){const i=function KX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return J({});const s={};return bt(i).pipe(Lt(o=>function QX(t,e,n,r){const i=Yc(e)??r,s=Pa(t,i);return Yi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(qs(),Zt(a=>{s[o]=a}))),iw(1),function cY(t){return Se(()=>t)}(s),Ws(o=>gF(o)?wr:Vc(o)))}(s,t,e,r).pipe(Se(o=>(t._resolvedData=o,t.data=iF(t,n).resolve,i&&DF(i)&&(t.data[Bc]=i.title),null)))}(o.route,r,t,e)),Zt(()=>s++),iw(1),Lt(o=>s===i.length?J(n):wr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Zt(a=>{const u=new jY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ew(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Zt(l=>{u.component=l}),Se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return tw(a(o.targetSnapshot.root)).pipe(Pf(),Ma(1))}),Ew(()=>this.afterPreactivation()),Se(o=>{const a=function ZY(t,e,n){const r=Qc(t,e._root,n?n._root:void 0);return new nF(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Zt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Se(i=>(new uX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ma(1),Zt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ys(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),sw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ws(o=>{if(s=!0,hF(o)){dF(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new $f(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),dF(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bF(r.source)};n.scheduleNavigation(u,qc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new hw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return wr}))}))}cancelNavigationTransition(n,r,i){const s=new $f(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bF(t){return t!==qc}let TF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Bc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return O(XX)},providedIn:"root"}),t})(),XX=(()=>{class t extends TF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(IP))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return O(eJ)},providedIn:"root"}),t})();class ZX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let eJ=(()=>{class t extends ZX{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qf=new L("",{providedIn:"root",factory:()=>({})});let tJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return O(nJ)},providedIn:"root"}),t})(),nJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jn=(()=>((jn=jn||{})[jn.COMPLETE=0]="COMPLETE",jn[jn.FAILED=1]="FAILED",jn[jn.REDIRECTING=2]="REDIRECTING",jn))();function SF(t,e){t.events.pipe(Qi(n=>n instanceof Ys||n instanceof $f||n instanceof hw||n instanceof Wc),Se(n=>n instanceof Ys||n instanceof Wc?jn.COMPLETE:n instanceof $f&&(0===n.code||1===n.code)?jn.REDIRECTING:jn.FAILED),Qi(n=>n!==jn.REDIRECTING),Ma(1)).subscribe(()=>{e()})}function rJ(t){throw t}function iJ(t,e,n){return e.parse("/")}const sJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=O(K1),this.isNgZoneEnabled=!1,this.options=O(Qf,{optional:!0})||{},this.pendingTasks=O(Nk),this.errorHandler=this.options.errorHandler||rJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=O(tJ),this.routeReuseStrategy=O(JX),this.titleStrategy=O(TF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=O(La,{optional:!0})?.flat()??[],this.navigationTransitions=O(Kf),this.urlSerializer=O(jc),this.location=O(cv),this.componentInputBindingEnabled=!!O(Hf,{optional:!0}),this.isNgZoneEnabled=O(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Na,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=WO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return KO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Qs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,qc,null,r)}navigate(n,r={skipLocationChange:!1}){return function aJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...sJ}:!1===r?{...oJ}:r,Qs(n))return VO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return VO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return SF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class AF{}let lJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(n=>n instanceof Ys),Uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=S_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bt(i).pipe(Oo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):J(null);const s=i.pipe(Lt(o=>null===o?J(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?bt([s,this.loader.loadComponent(r)]).pipe(Oo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(er),$(Q1),$(ii),$(AF),$(Dw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bw=new L("");let MF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ys?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Wc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Hx(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function gi(t,e){return{\u0275kind:t,\u0275providers:e}}function NF(){const t=O(Bn);return e=>{const n=t.get(ba);if(e!==n.components[0])return;const r=t.get(er),i=t.get(RF);1===t.get(Tw)&&r.initialNavigation(),t.get(kF,null,G.Optional)?.setUpPreloading(),t.get(bw,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RF=new L("",{factory:()=>new Kr}),Tw=new L("",{providedIn:"root",factory:()=>1}),kF=new L("");function pJ(t){return gi(0,[{provide:kF,useExisting:lJ},{provide:AF,useExisting:t}])}const PF=new L("ROUTER_FORROOT_GUARD"),mJ=[cv,{provide:jc,useClass:ow},er,Kc,{provide:ka,useFactory:function xF(t){return t.routerState.root},deps:[er]},Dw,[]];function yJ(){return new ok("Router",er)}let OF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[mJ,[],{provide:La,multi:!0,useValue:n},{provide:PF,useFactory:IJ,deps:[[er,new ln,new uh]]},{provide:Qf,useValue:r||{}},r?.useHash?{provide:js,useClass:N7}:{provide:js,useClass:Ok},{provide:bw,useFactory:()=>{const t=O(W8),e=O(Te),n=O(Qf),r=O(Kf),i=O(jc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new MF(i,r,t,e,n)}},r?.preloadingStrategy?pJ(r.preloadingStrategy).\u0275providers:[],{provide:ok,multi:!0,useFactory:yJ},r?.initialNavigation?EJ(r):[],r?.bindToComponentInputs?gi(8,[uF,{provide:Hf,useExisting:uF}]).\u0275providers:[],[{provide:FF,useFactory:NF},{provide:J_,multi:!0,useExisting:FF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:La,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(PF,8))},t.\u0275mod=wn({type:t}),t.\u0275inj=an({}),t})();function IJ(t){return"guarded"}function EJ(t){return["disabled"===t.initialNavigation?gi(3,[{provide:H_,multi:!0,useFactory:()=>{const e=O(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Tw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?gi(2,[{provide:Tw,useValue:0},{provide:H_,multi:!0,deps:[Bn],useFactory:e=>{const n=e.get(M7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(er),s=e.get(RF);SF(i,()=>{r(!0)}),e.get(Kf).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new L(""),CJ=[];let bJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({imports:[OF.forRoot(CJ),OF]}),t})();function LF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){LF(s,r,i,o,a,"next",u)}function a(u){LF(s,r,i,o,a,"throw",u)}o(void 0)})}}const VF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new MJ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yf=function(t){return function(t){const e=VF(t);return Aw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Xf=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Jf=()=>{try{return function RJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},BF=t=>{var e,n;return null===(n=null===(e=Jf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},$F=()=>{var t;return null===(t=Jf())||void 0===t?void 0:t.config},jF=t=>{var e;return null===(e=Jf())||void 0===e?void 0:e[`_${t}`]};class Zf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Xs(){try{return"object"==typeof indexedDB}catch{return!1}}function el(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}}class Fr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function HJ(t,e){return t.replace(GJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const GJ=/\{\$([^}]+)}/g;function tp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(GF(s)&&GF(o)){if(!tp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GF(t){return null!==t&&"object"==typeof t}function np(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class WJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function KJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Nw),void 0===i.error&&(i.error=Nw),void 0===i.complete&&(i.complete=Nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nw(){}const QJ=1e3,YJ=2,XJ=144e5,JJ=.5;function kw(t,e=QJ,n=YJ){const r=e*Math.pow(n,t),i=Math.round(JJ*r*(Math.random()-.5)*2);return Math.min(XJ,r+i)}function pn(t){return t&&t._delegate?t._delegate:t}class en{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Js="[DEFAULT]";class eZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Js?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Pw=[];var K=(()=>((K=K||{})[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K))();const zF={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},iZ=K.INFO,sZ={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},oZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Va{constructor(e){this.name=e,this._logLevel=iZ,this._logHandler=oZ,this._userLogHandler=null,Pw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}}const aZ=(t,e)=>e.some(n=>t instanceof n);let qF,WF;const KF=new WeakMap,Ow=new WeakMap,QF=new WeakMap,Fw=new WeakMap,Lw=new WeakMap;let Vw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ow.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pZ(t){return"function"==typeof t?function fZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cZ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Uw(this),e),Xi(KF.get(this))}:function(...e){return Xi(t.apply(Uw(this),e))}:function(e,...n){const r=t.call(Uw(this),e,...n);return QF.set(r,e.sort?e.sort():[e]),Xi(r)}}(t):(t instanceof IDBTransaction&&function dZ(t){if(Ow.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ow.set(t,e)}(t),aZ(t,function uZ(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Vw):t)}function Xi(t){if(t instanceof IDBRequest)return function lZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KF.set(n,t)}).catch(()=>{}),Lw.set(e,t),e}(t);if(Fw.has(t))return Fw.get(t);const e=pZ(t);return e!==t&&(Fw.set(t,e),Lw.set(e,t)),e}const Uw=t=>Lw.get(t),mZ=["get","getKey","getAll","getAllKeys","count"],yZ=["put","add","delete","clear"],Bw=new Map;function YF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bw.get(e))return Bw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Bw.set(e,s),s}!function hZ(t){Vw=t(Vw)}(t=>({...t,get:(e,n,r)=>YF(e,n)||t.get(e,n,r),has:(e,n)=>!!YF(e,n)||t.has(e,n)}));class _Z{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function vZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $w="@firebase/app",Zs=new Va("@firebase/app"),rp="[DEFAULT]",zZ={[$w]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},eo=new Map,ip=new Map;function qZ(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){const e=t.name;if(ip.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,t);for(const n of eo.values())qZ(n,t);return!0}function Ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const mi=new Fr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class KZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const to="9.22.0";function jw(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:rp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=$F()),!n)throw mi.create("no-options");const s=eo.get(i);if(s){if(tp(n,s.options)&&tp(r,s.config))return s;throw mi.create("duplicate-app",{appName:i})}const o=new rZ(i);for(const u of ip.values())o.addComponent(u);const a=new KZ(n,r,o);return eo.set(i,a),a}function Hw(t=rp){const e=eo.get(t);if(!e&&t===rp&&$F())return jw();if(!e)throw mi.create("no-app",{appName:t});return e}function JF(){return Array.from(eo.values())}function Xe(t,e,n){var r;let i=null!==(r=zZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Zs.warn(a.join(" "))}gn(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const QZ="firebase-heartbeat-database",YZ=1,rl="firebase-heartbeat-store";let zw=null;function ZF(){return zw||(zw=function gZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xi(o.result),u.oldVersion,u.newVersion,Xi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(QZ,YZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(rl)}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),zw}function qw(){return(qw=g(function*(t){try{return yield(yield ZF()).transaction(rl).objectStore(rl).get(tL(t))}catch(e){if(e instanceof tr)Zs.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e?.message});Zs.warn(n.message)}}})).apply(this,arguments)}function eL(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e){try{const r=(yield ZF()).transaction(rl,"readwrite");yield r.objectStore(rl).put(e,tL(t)),yield r.done}catch(n){if(n instanceof tr)Zs.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n?.message});Zs.warn(r.message)}}})).apply(this,arguments)}function tL(t){return`${t.name}!${t.options.appId}`}class eee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nL(),{heartbeatsToSend:r,unsentEntries:i}=function tee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function nL(){return(new Date).toISOString().substring(0,10)}class nee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Xs()&&el().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function XZ(t){return qw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function rL(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}!function ree(t){gn(new en("platform-logger",e=>new _Z(e),"PRIVATE")),gn(new en("heartbeat",e=>new eee(e),"PRIVATE")),Xe($w,"0.9.10",t),Xe($w,"0.9.10","esm2017"),Xe("fire-js","")}(""),Xe("firebase","9.22.0","app");const oee=(t,e)=>e.some(n=>t instanceof n);let iL,sL;const oL=new WeakMap,Kw=new WeakMap,aL=new WeakMap,Qw=new WeakMap,Yw=new WeakMap;let Xw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fee(t){return"function"==typeof t?function hee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uee(){return sL||(sL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jw(this),e),Ji(oL.get(this))}:function(...e){return Ji(t.apply(Jw(this),e))}:function(e,...n){const r=t.call(Jw(this),e,...n);return aL.set(r,e.sort?e.sort():[e]),Ji(r)}}(t):(t instanceof IDBTransaction&&function lee(t){if(Kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kw.set(t,e)}(t),oee(t,function aee(){return iL||(iL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xw):t)}function Ji(t){if(t instanceof IDBRequest)return function cee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oL.set(n,t)}).catch(()=>{}),Yw.set(e,t),e}(t);if(Qw.has(t))return Qw.get(t);const e=fee(t);return e!==t&&(Qw.set(t,e),Yw.set(e,t)),e}const Jw=t=>Yw.get(t),gee=["get","getKey","getAll","getAllKeys","count"],mee=["put","add","delete","clear"],Zw=new Map;function uL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zw.get(e))return Zw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Zw.set(e,s),s}!function dee(t){Xw=t(Xw)}(t=>({...t,get:(e,n,r)=>uL(e,n)||t.get(e,n,r),has:(e,n)=>!!uL(e,n)||t.has(e,n)}));const cL="@firebase/installations",eI="0.6.4",lL=1e4,dL=`w:${eI}`,hL="FIS_v2",yee="https://firebaseinstallations.googleapis.com/v1",_ee=36e5,yi=new Fr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fL(t){return t instanceof tr&&t.code.includes("request-failed")}function tI({projectId:t}){return`${yee}/projects/${t}/installations`}function pL(t){return{token:t.token,requestStatus:2,expiresIn:Eee(t.expiresIn),creationTime:Date.now()}}function nI(t,e){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t,e){const r=(yield e.json()).error;return yi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function gL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iI(t){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Eee(t){return Number(t.replace("s","000"))}function oI(){return(oI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=tI(t),i=gL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hL,appId:t.appId,sdkVersion:dL})},u=yield iI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:pL(c.authToken)}}throw yield nI("Create Installation",u)})).apply(this,arguments)}function yL(t){return new Promise(e=>{setTimeout(e,t)})}const Tee=/^[cdef][\w-]{21}$/,aI="";function See(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Aee(t){return function bee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Tee.test(n)?n:aI}catch{return aI}}function Ba(t){return`${t.appName}!${t.appId}`}const $a=new Map;function _L(t,e){const n=Ba(t);vL(n,e),function Nee(t,e){const n=function wL(){return!no&&"BroadcastChannel"in self&&(no=new BroadcastChannel("[Firebase] FID Change"),no.onmessage=t=>{vL(t.data.key,t.data.fid)}),no}();n&&n.postMessage({key:t,fid:e}),function IL(){0===$a.size&&no&&(no.close(),no=null)}()}(n,e)}function vL(t,e){const n=$a.get(t);if(n)for(const r of n)r(e)}let no=null;const Ree="firebase-installations-database",kee=1,ro="firebase-installations-store";let uI=null;function cI(){return uI||(uI=function pee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ji(o.result),u.oldVersion,u.newVersion,Ji(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ree,kee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ro)}})),uI}function sp(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){const n=Ba(t),i=(yield cI()).transaction(ro,"readwrite"),s=i.objectStore(ro),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&_L(t,e.fid),e})).apply(this,arguments)}function dI(t){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t){const e=Ba(t),r=(yield cI()).transaction(ro,"readwrite");yield r.objectStore(ro).delete(e),yield r.done})).apply(this,arguments)}function il(t,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e){const n=Ba(t),i=(yield cI()).transaction(ro,"readwrite"),s=i.objectStore(ro),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&_L(t,a.fid),a})).apply(this,arguments)}function pI(t){return gI.apply(this,arguments)}function gI(){return gI=g(function*(t){let e;const n=yield il(t.appConfig,r=>{const i=function Pee(t){return DL(t||{fid:See(),registrationStatus:0})}(r),s=function Oee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(yi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Fee(t,e){return mI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lee(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===aI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),gI.apply(this,arguments)}function mI(){return mI=g(function*(t,e){try{const n=yield function Cee(t,e){return oI.apply(this,arguments)}(t,e);return sp(t.appConfig,n)}catch(n){throw fL(n)&&409===n.customData.serverCode?yield dI(t.appConfig):yield sp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),mI.apply(this,arguments)}function Lee(t){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t){let e=yield EL(t.appConfig);for(;1===e.registrationStatus;)yield yL(100),e=yield EL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield pI(t);return r||n}return e})).apply(this,arguments)}function EL(t){return il(t,e=>{if(!e)throw yi.create("installation-not-found");return DL(e)})}function DL(t){return function Vee(t){return 1===t.registrationStatus&&t.registrationTime+lL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _I(){return(_I=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Bee(t,{fid:e}){return`${tI(t)}/${e}/authTokens:generate`}(t,n),i=function mL(t,{refreshToken:e}){const n=gL(t);return n.append("Authorization",function Dee(t){return`${hL} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dL,appId:t.appId}})},u=yield iI(()=>fetch(r,a));if(u.ok)return pL(yield u.json());throw yield nI("Generate Auth Token",u)})).apply(this,arguments)}function vI(t){return wI.apply(this,arguments)}function wI(){return wI=g(function*(t,e=!1){let n;const r=yield il(t.appConfig,s=>{if(!bL(s))throw yi.create("not-registered");const o=s.authToken;if(!e&&function Hee(t){return 2===t.requestStatus&&!function Gee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_ee}(t)}(o))return s;if(1===o.requestStatus)return n=function $ee(t,e){return II.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw yi.create("app-offline");const a=function zee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function jee(t,e){return EI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),wI.apply(this,arguments)}function II(){return(II=g(function*(t,e){let n=yield CL(t.appConfig);for(;1===n.authToken.requestStatus;)yield yL(100),n=yield CL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?vI(t,e):r})).apply(this,arguments)}function CL(t){return il(t,e=>{if(!bL(e))throw yi.create("not-registered");return function qee(t){return 1===t.requestStatus&&t.requestTime+lL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function EI(){return EI=g(function*(t,e){try{const n=yield function Uee(t,e){return _I.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield sp(t.appConfig,r),n}catch(n){if(!fL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield sp(t.appConfig,r)}else yield dI(t.appConfig);throw n}}),EI.apply(this,arguments)}function bL(t){return void 0!==t&&2===t.registrationStatus}function DI(){return(DI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield pI(e);return r?r.catch(console.error):vI(e).catch(console.error),n.fid})).apply(this,arguments)}function CI(){return CI=g(function*(t,e=!1){const n=t;return yield function Qee(t){return bI.apply(this,arguments)}(n),(yield vI(n,e)).token}),CI.apply(this,arguments)}function bI(){return(bI=g(function*(t){const{registrationPromise:e}=yield pI(t);e&&(yield e)})).apply(this,arguments)}function AI(t){return yi.create("missing-app-config-values",{valueName:t})}const TL="installations",ete=t=>{const e=t.getProvider("app").getImmediate(),n=function Jee(t){if(!t||!t.options)throw AI("App Configuration");if(!t.name)throw AI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw AI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ua(e,"heartbeat"),_delete:()=>Promise.resolve()}},tte=t=>{const n=Ua(t.getProvider("app").getImmediate(),TL).getImmediate();return{getId:()=>function Wee(t){return DI.apply(this,arguments)}(n),getToken:i=>function Kee(t){return CI.apply(this,arguments)}(n,i)}};(function nte(){gn(new en(TL,ete,"PUBLIC")),gn(new en("installations-internal",tte,"PRIVATE"))})(),Xe(cL,eI),Xe(cL,eI,"esm2017");const MI="@firebase/remote-config",Mn=new Fr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function pte(t=navigator){return t.languages&&t.languages[0]||t.language}class gte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:pte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Mn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Mn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Mn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class _te{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function mte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function yte(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+kw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Ite{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ap(t,e){const n=t.target.error||void 0;return Mn.create(e,{originalErrorMessage:n&&n?.message})}const io="app_namespace_store";class bte{constructor(e,n,r,i=function Cte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ap(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(n){e(Mn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([io],"readonly").objectStore(io),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ap(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Mn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([io],"readwrite").objectStore(io),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(ap(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Mn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([io],"readwrite").objectStore(io),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ap(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Mn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Tte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ate(){return PI.apply(this,arguments)}function PI(){return(PI=g(function*(){if(!Xs())return!1;try{return yield el()}catch{return!1}})).apply(this,arguments)}!function Ste(){gn(new en("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!Xs())throw Mn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Mn.create("registration-project-id");if(!o)throw Mn.create("registration-api-key");if(!a)throw Mn.create("registration-app-id");const u=new bte(a,r.name,n=n||"firebase"),c=new Tte(u),l=new Va(MI);l.logLevel=K.ERROR;const d=new gte(i,to,n,s,o,a),h=new _te(d,u),f=new fte(h,u,c,l),p=new Ite(r,f,c,u,l);return function lte(t){const e=pn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Xe(MI,"0.4.4"),Xe(MI,"0.4.4","esm2017")}();const Mte=(t,e)=>e.some(n=>t instanceof n);let xL,NL;const RL=new WeakMap,OI=new WeakMap,kL=new WeakMap,FI=new WeakMap,LI=new WeakMap;let VI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return OI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Fte(t){return"function"==typeof t?function Ote(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nte(){return NL||(NL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(UI(this),e),_i(RL.get(this))}:function(...e){return _i(t.apply(UI(this),e))}:function(e,...n){const r=t.call(UI(this),e,...n);return kL.set(r,e.sort?e.sort():[e]),_i(r)}}(t):(t instanceof IDBTransaction&&function kte(t){if(OI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});OI.set(t,e)}(t),Mte(t,function xte(){return xL||(xL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,VI):t)}function _i(t){if(t instanceof IDBRequest)return function Rte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RL.set(n,t)}).catch(()=>{}),LI.set(e,t),e}(t);if(FI.has(t))return FI.get(t);const e=Fte(t);return e!==t&&(FI.set(t,e),LI.set(e,t)),e}const UI=t=>LI.get(t);function PL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_i(o.result),u.oldVersion,u.newVersion,_i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function BI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),_i(n).then(()=>{})}const Lte=["get","getKey","getAll","getAllKeys","count"],Vte=["put","add","delete","clear"],$I=new Map;function OL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($I.get(e))return $I.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Vte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lte.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return $I.set(e,s),s}!function Pte(t){VI=t(VI)}(t=>({...t,get:(e,n,r)=>OL(e,n)||t.get(e,n,r),has:(e,n)=>!!OL(e,n)||t.has(e,n)}));const Ute="/firebase-messaging-sw.js",Bte="/firebase-cloud-messaging-push-scope",FL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$te="https://fcmregistrations.googleapis.com/v1",LL="google.c.a.c_id",jte="google.c.a.c_l",Hte="google.c.a.ts";var Zi=(()=>((Zi=Zi||{}).PUSH_RECEIVED="push-received",Zi.NOTIFICATION_CLICKED="notification-clicked",Zi))();function vi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zte(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jI="fcm_token_details_db",qte=5,VL="fcm_token_object_Store";function HI(){return HI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jI))return null;let e=null;return(yield PL(jI,qte,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(VL))return;const c=a.objectStore(VL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:vi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:vi(d.auth),p256dh:vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:vi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:vi(d.auth),p256dh:vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:vi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield BI(jI),yield BI("fcm_vapid_details_db"),yield BI("undefined"),function Kte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),HI.apply(this,arguments)}const Qte="firebase-messaging-database",Yte=1,so="firebase-messaging-store";let GI=null;function zI(){return GI||(GI=PL(Qte,Yte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(so)}})),GI}function UL(t){return qI.apply(this,arguments)}function qI(){return qI=g(function*(t){const e=YI(t),r=yield(yield zI()).transaction(so).objectStore(so).get(e);if(r)return r;{const i=yield function Wte(t){return HI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield WI(t,i),i}}),qI.apply(this,arguments)}function WI(t,e){return KI.apply(this,arguments)}function KI(){return(KI=g(function*(t,e){const n=YI(t),i=(yield zI()).transaction(so,"readwrite");return yield i.objectStore(so).put(e,n),yield i.done,e})).apply(this,arguments)}function QI(){return(QI=g(function*(t){const e=YI(t),r=(yield zI()).transaction(so,"readwrite");yield r.objectStore(so).delete(e),yield r.done})).apply(this,arguments)}function YI({appConfig:t}){return t.appId}const $t=new Fr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zte(t,e){return XI.apply(this,arguments)}function XI(){return(XI=g(function*(t,e){const n=yield tE(t),r=$L(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(eE(t.appConfig),i)).json()}catch(o){throw $t.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function JI(){return(JI=g(function*(t,e){const n=yield tE(t),r=$L(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${eE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $t.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-update-no-token");return s.token})).apply(this,arguments)}function BL(t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e){const r={method:"DELETE",headers:yield tE(t)};try{const s=yield(yield fetch(`${eE(t.appConfig)}/${e}`,r)).json();if(s.error)throw $t.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw $t.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function eE({projectId:t}){return`${$te}/projects/${t}/registrations`}function tE(t){return nE.apply(this,arguments)}function nE(){return(nE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function $L({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==FL&&(i.web.applicationPubKey=r),i}const tne=6048e5;function rE(){return rE=g(function*(t){const e=yield function ine(t,e){return aE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:vi(e.getKey("auth")),p256dh:vi(e.getKey("p256dh"))},r=yield UL(t.firebaseDependencies);if(r){if(function sne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+tne?function rne(t,e){return sE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield BL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return HL(t.firebaseDependencies,n)}return HL(t.firebaseDependencies,n)}),rE.apply(this,arguments)}function iE(){return iE=g(function*(t){const e=yield UL(t.firebaseDependencies);e&&(yield BL(t.firebaseDependencies,e.token),yield function Xte(t){return QI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),iE.apply(this,arguments)}function sE(){return sE=g(function*(t,e){try{const n=yield function ene(t,e){return JI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield WI(t.firebaseDependencies,r),n}catch(n){throw yield function jL(t){return iE.apply(this,arguments)}(t),n}}),sE.apply(this,arguments)}function HL(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const r={token:yield Zte(t,e),createTime:Date.now(),subscriptionOptions:e};return yield WI(t,r),r.token})).apply(this,arguments)}function aE(){return(aE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zte(e)})})).apply(this,arguments)}function GL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function one(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function ane(t,e){e.data&&(t.data=e.data)}(e,t),function une(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function zL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uE(t){return $t.create("missing-app-config-values",{valueName:t})}zL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lne(t){if(!t||!t.options)throw uE("App Configuration Object");if(!t.name)throw uE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw uE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function cE(){return(cE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ute,{scope:Bte}),t.swRegistration.update().catch(()=>{})}catch(e){throw $t.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function lE(){return(lE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function qL(t){return cE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function dE(){return(dE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=FL)})).apply(this,arguments)}function hE(){return hE=g(function*(t,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield function fne(t,e){return dE.apply(this,arguments)}(t,e?.vapidKey),yield function hne(t,e){return lE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function nne(t){return rE.apply(this,arguments)}(t)}),hE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e,n){const r=function gne(t){switch(t){case Zi.NOTIFICATION_CLICKED:return"notification_open";case Zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[LL],message_name:n[jte],message_time:n[Hte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pE(){return pE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zi.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(GL(n)):t.onMessageHandler.next(GL(n)));const r=n.data;(function cne(t){return"object"==typeof t&&!!t&&LL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function pne(t,e,n){return fE.apply(this,arguments)}(t,n.messageType,r))}),pE.apply(this,arguments)}const KL="@firebase/messaging",yne=t=>{const e=new dne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function mne(t,e){return pE.apply(this,arguments)}(e,n)),e},_ne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function WL(t,e){return hE.apply(this,arguments)}(e,r)}};function YL(){return gE.apply(this,arguments)}function gE(){return(gE=g(function*(){try{yield el()}catch{return!1}return typeof window<"u"&&Xs()&&xw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vne(){gn(new en("messaging",yne,"PUBLIC")),gn(new en("messaging-internal",_ne,"PRIVATE")),Xe(KL,"0.12.4"),Xe(KL,"0.12.4","esm2017")}();const up="analytics",Ene="firebase_id",Dne="origin",Cne=6e4,bne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_E="https://www.googletagmanager.com/gtag/js",Mt=new Va("@firebase/analytics"),mn=new Fr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sne(t){if(!t.startsWith(_E)){const e=mn.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function XL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vE(){return(vE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield XL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mt.error(a)}t("config",i,s)})).apply(this,arguments)}function wE(){return(wE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield XL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Mt.error(s)}})).apply(this,arguments)}const Fne=30,JL=new class Vne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Une(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function IE(){return(IE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Une(r)},s=bne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function EE(){return(EE=g(function*(t,e=JL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Cne),ZL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function ZL(t,e,n){return DE.apply(this,arguments)}function DE(){return DE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JL){var s;const{appId:o,measurementId:a}=t;try{yield function jne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Bne(t){return IE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Hne(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?kw(n,i.intervalMillis,Fne):kw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Mt.debug(`Calling attemptFetch again in ${l} millis`),ZL(t,d,r,i)}}),DE.apply(this,arguments)}class Gne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let CE,NE;function bE(){return(bE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function RE(){return(RE=g(function*(){if(!Xs())return Mt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield el()}catch(t){return Mt.warn(mn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function kE(){return kE=g(function*(t,e,n,r,i,s,o){var a;const u=function $ne(t){return EE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(u);const c=function Xne(){return RE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function One(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_E)&&n.src.includes(t))return n;return null})(s)||function Mne(t,e){const n=function Ane(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Sne}),r=document.createElement("script"),i=`${_E}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),NE&&(i("consent","default",NE),function eV(t){NE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Dne]="firebase",h.update=!0,null!=d&&(h[Ene]=d),i("config",l.measurementId,h),CE&&(i("set",CE),function tV(t){CE=t}(void 0)),l.measurementId}),kE.apply(this,arguments)}class Zne{constructor(e){this.app=e}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},nV=[];const rV={};let sV,Vr,cp="dataLayer",PE=!1;function tre(t,e,n){!function ere(){const t=[];if(Mw()&&t.push("This is a browser extension environment."),xw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=mn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw mn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw mn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lr[r])throw mn.create("already-exists",{id:r});if(!PE){!function xne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(cp);const{wrappedGtag:s,gtagCore:o}=function Pne(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function kne(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Rne(t,e,n,r,i){return wE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Nne(t,e,n,r,i,s){return vE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Mt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Lr,nV,rV,cp,"gtag");Vr=s,sV=o,PE=!0}return Lr[r]=function Jne(t,e,n,r,i,s,o){return kE.apply(this,arguments)}(t,nV,rV,e,sV,cp,n),new Zne(t)}function rre(){return OE.apply(this,arguments)}function OE(){return(OE=g(function*(){if(Mw()||!xw()||!Xs())return!1;try{return yield el()}catch{return!1}})).apply(this,arguments)}const oV="@firebase/analytics";!function sre(){gn(new en(up,(e,{options:n})=>tre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),gn(new en("analytics-internal",function t(e){try{const n=e.getProvider(up).getImmediate();return{logEvent:(r,i,s)=>function ire(t,e,n,r){t=pn(t),function zne(t,e,n,r,i){return bE.apply(this,arguments)}(Vr,Lr[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}(n,r,i,s)}}catch(n){throw mn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Xe(oV,"0.10.0"),Xe(oV,"0.10.0","esm2017")}();class ore extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const lp={setInterval(t,e,...n){const{delegate:r}=lp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=lp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class uV extends ore{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return lp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&lp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Po(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const cV={now:()=>(cV.delegate||Date).now(),delegate:void 0};class sl{constructor(e,n=sl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}sl.now=cV.now;class lV extends sl{constructor(e,n=sl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const cre=new class ure extends lV{}(class are extends uV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),lre=new lV(uV),dp=new sa("7.5.0"),LE="__angularfire_symbol__analyticsIsSupportedValue",VE="__angularfire_symbol__analyticsIsSupported",UE="__angularfire_symbol__remoteConfigIsSupportedValue",BE="__angularfire_symbol__remoteConfigIsSupported",$E="__angularfire_symbol__messagingIsSupportedValue",jE="__angularfire_symbol__messagingIsSupported";function GE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[VE]||(globalThis[VE]=rre().then(t=>globalThis[LE]=t).catch(()=>globalThis[LE]=!1)),globalThis[jE]||(globalThis[jE]=YL().then(t=>globalThis[$E]=t).catch(()=>globalThis[$E]=!1)),globalThis[BE]||(globalThis[BE]=Ate().then(t=>globalThis[UE]=t).catch(()=>globalThis[UE]=!1));const zE=(t,e)=>{const n=e?[e]:JF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ja(){}class dV{constructor(e,n=cre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class dre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),n.pipe(Zt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dV(Zone.current)),this.insideAngular=n.run(()=>new dV(Zone.current,lre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Te))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ao(t){return oo().ngZone.run(()=>t())}function fre(t){return oo(),function pre(t){return function(n){return(n=n.lift(new dre(t.ngZone))).pipe(Nd(t.outsideAngular),xd(t.insideAngular))}}(oo())(t)}const gre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ao(()=>t.apply(void 0,r))},es=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)))),r[s]=gre(r[s],n));const i=function hre(t){return oo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof qe){const s=oo();return i.pipe(Nd(s.outsideAngular),xd(s.insideAngular))}return ao(()=>i)}return i instanceof qe?i.pipe(fre):i instanceof Promise?ao(()=>new Promise((s,o)=>i.then(a=>ao(()=>s(a)),a=>ao(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ao(()=>i)};class Ha{constructor(e){return e}}class WE{constructor(){return JF()}}const KE=new L("angularfire2._apps"),yre={provide:Ha,useFactory:function mre(t){return t&&1===t.length?t[0]:new Ha(Hw())},deps:[[new ln,KE]]},_re={provide:WE,deps:[[new ln,KE]]};function vre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ha(r)}}let wre=(()=>{class t{constructor(n){Xe("angularfire",dp.full,"core"),Xe("angularfire",dp.full,"app"),Xe("angular",Sx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($($i))},t.\u0275mod=wn({type:t}),t.\u0275inj=an({providers:[yre,_re]}),t})();function Ire(t,...e){return{ngModule:wre,providers:[{provide:KE,useFactory:vre(t),multi:!0,deps:[Te,Bn,qE,...e]}]}}const Ere=es(jw,!0),QE=new Map,hV={activated:!1,tokenObservers:[]},Dre={initialized:!1,enabled:!1};function Je(t){return QE.get(t)||Object.assign({},hV)}function hp(){return Dre}const YE="https://content-firebaseappcheck.googleapis.com/v1",Sre="exchangeDebugToken",fV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Mre{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Zf,yield function xre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Zf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const jt=new Fr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZE(){return(ZE=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw jt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw jt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw jt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const Pre="firebase-app-check-database",Ore=1,ol="firebase-app-check-store";let mp=null;function eD(){return(eD=g(function*(t,e){const r=(yield function mV(){return mp||(mp=new Promise((t,e)=>{try{const n=indexedDB.open(Pre,Ore);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ol,{keyPath:"compositeKey"})}}catch(n){e(jt.create("storage-open",{originalErrorMessage:n?.message}))}}),mp)}()).transaction(ol,"readwrite"),s=r.objectStore(ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(jt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const al=new Va("@firebase/app-check");function rD(t,e){return Xs()?function Lre(t,e){return function yV(t,e){return eD.apply(this,arguments)}(function vV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{al.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function aD(){return(aD=g(function*(){const t=hp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hre={error:"UNKNOWN_ERROR"};function Gre(t){return Aw.encodeString(JSON.stringify(t),!1)}function yp(t){return uD.apply(this,arguments)}function uD(){return(uD=g(function*(t,e=!1){const n=t.app;!function XE(t){if(!Je(t).activated)throw jt.create("use-before-activation",{appName:t.name})}(n);const r=Je(n);let s,i=r.token;if(i&&!Ga(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ga(u)?i=u:yield rD(n,void 0))}if(!e&&i&&Ga(i))return{token:i.token};let a,o=!1;if(function sD(){return hp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function gp(t,e){return ZE.apply(this,arguments)}(function pV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${YE}/projects/${n}/apps/${r}:${Sre}?key=${i}`,body:{debug_token:e}}}(n,yield function oD(){return aD.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield rD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Je(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?al.warn(u.message):al.error(u),s=u}return i?s?a=Ga(i)?{token:i.token,internalError:s}:EV(s):(a={token:i.token},r.token=i,yield rD(n,i)):a=EV(s),o&&function IV(t,e){const n=Je(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function dD(t,e){const n=Je(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wV(t){const{app:e}=t,n=Je(e);let r=n.tokenRefresher;r||(r=function qre(t){const{app:e}=t;return new Mre(g(function*(){let r;if(r=Je(e).token?yield yp(t,!0):yield yp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Je(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},fV.RETRIAL_MIN_WAIT,fV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ga(t){return t.expireTimeMillis-Date.now()>0}function EV(t){return{token:Gre(Hre),error:t}}class Wre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Je(this.app);for(const n of e)dD(this.app,n.next);return Promise.resolve()}}const xV="app-check-internal";!function aie(){gn(new en("app-check",t=>function Kre(t,e){return new Wre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xV).initialize()})),gn(new en(xV,t=>function Qre(t){return{getToken:e=>yp(t,e),addTokenListener:e=>function lD(t,e,n,r){const{app:i}=t,s=Je(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ga(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wV(t))}(t,"INTERNAL",e),removeTokenListener:e=>dD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Xe("@firebase/app-check","0.7.0")}();class gD{constructor(){return zE("app-check")}}typeof window<"u"&&window;const hie=function RV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kV=new Fr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vp=new Va("@firebase/auth");function wp(t,...e){vp.logLevel<=K.ERROR&&vp.error(`Auth (${to}): ${t}`,...e)}function xn(t,...e){throw yD(t,...e)}function Ur(t,...e){return yD(t,...e)}function yD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kV.create(t,...e)}function A(t,e,...n){if(!t)throw yD(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wp(e),new Error(e)}function ts(t,e){t||Br(e)}function ul(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function OV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=function VJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}()||function BJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function pie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _D(){return"http:"===OV()||"https:"===OV()}()||Mw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vD(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},yie=new cl(3e4,6e4);function Ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ze(t,e,n,r){return wD.apply(this,arguments)}function wD(){return(wD=g(function*(t,e,n,r,i={}){return LV(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=np(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),FV.fetch()(VV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function LV(t,e,n){return ID.apply(this,arguments)}function ID(){return(ID=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mie),e);try{const i=new _ie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ll(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ll(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw ll(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function PV(t,e,n){const r=Object.assign(Object.assign({},hie()),{[e]:n});return new Fr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);xn(t,l)}}catch(i){if(i instanceof tr)throw i;xn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function wi(t,e,n,r){return ED.apply(this,arguments)}function ED(){return(ED=g(function*(t,e,n,r,i={}){const s=yield Ze(t,e,n,r,i);return"mfaPendingCredential"in s&&xn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function VV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vD(t.config,i):`${t.config.apiScheme}://${i}`}class _ie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),yie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function DD(){return(DD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function bD(){return(bD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function TD(){return(TD=g(function*(t,e=!1){const n=pn(t),r=yield n.getIdToken(e),i=Ip(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dl(SD(i.auth_time)),issuedAtTime:dl(SD(i.iat)),expirationTime:dl(SD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function SD(t){return 1e3*Number(t)}function Ip(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xf(n);return i?JSON.parse(i):(wp("Failed to decode base64 JWT payload"),null)}catch(i){return wp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ii(t,e){return AD.apply(this,arguments)}function AD(){return(AD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&function Cie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class bie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class UV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hl(t){return MD.apply(this,arguments)}function MD(){return MD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ii(t,function Iie(t,e){return bD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Aie(t){return t.map(e=>{var{providerId:n}=e,r=LS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Sie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),MD.apply(this,arguments)}function xD(){return(xD=g(function*(t){const e=pn(t);yield hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ND(){return(ND=g(function*(t,e){const n=yield LV(t,{},g(function*(){const r=np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=VV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Die(t){const e=Ip(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Mie(t,e){return ND.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Br("not implemented")}}function ns(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class uo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=LS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ii(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Eie(t){return TD.apply(this,arguments)}(this,e)}reload(){return function Tie(t){return xD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield hl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ii(e,function vie(t,e){return DD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:P,isAnonymous:V,providerData:ae,stsTokenManager:mt}=n;A(C&&mt,e,"internal-error");const Pi=fl.fromJSON(this.name,mt);A("string"==typeof C,e,"internal-error"),ns(d,e.name),ns(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),ns(f,e.name),ns(p,e.name),ns(m,e.name),ns(y,e.name),ns(w,e.name),ns(_,e.name);const Ru=new uo({uid:C,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Pi,createdAt:w,lastLoginAt:_});return ae&&Array.isArray(ae)&&(Ru.providerData=ae.map(Ehe=>Object.assign({},Ehe))),y&&(Ru._redirectEventId=y),Ru}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new fl;i.updateFromServerResponse(n);const s=new uo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hl(s),s})()}}const BV=new Map;function Ei(t){ts(t instanceof Function,"Expected a class definition");let e=BV.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BV.set(t,e),e)}const $V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?uo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new qa(Ei($V),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ei($V);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=uo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new qa(s,e,r)):new qa(s,e,r)})()}}function jV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WV(e))return"Blackberry";if(KV(e))return"Webos";if(RD(e))return"Safari";if((e.includes("chrome/")||GV(e))&&!e.includes("edge/"))return"Chrome";if(qV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HV(t=At()){return/firefox\//i.test(t)}function RD(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GV(t=At()){return/crios\//i.test(t)}function zV(t=At()){return/iemobile/i.test(t)}function qV(t=At()){return/android/i.test(t)}function WV(t=At()){return/blackberry/i.test(t)}function KV(t=At()){return/webos/i.test(t)}function Dp(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QV(t=At()){return Dp(t)||qV(t)||KV(t)||WV(t)||/windows phone/i.test(t)||zV(t)}function YV(t,e=[]){let n;switch(t){case"Browser":n=jV(At());break;case"Worker":n=`${jV(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}function XV(t,e){return PD.apply(this,arguments)}function PD(){return(PD=g(function*(t,e){return Ze(t,"GET","/v2/recaptchaConfig",Ge(t,e))})).apply(this,arguments)}function ZV(t){return void 0!==t&&void 0!==t.enterprise}class e2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function OD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Pie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function t2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class n2{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){XV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new e2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;ZV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&ZV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));OD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function rs(t,e,n){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e,n,r=!1){const i=new n2(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Vie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Uie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r2(this),this.idTokenSubscription=new r2(this),this.beforeStateQueue=new Vie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield qa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield hl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?pn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ei(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield XV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new e2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new n2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ei(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield qa.create(n,[Ei(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function fie(t,...e){vp.logLevel<=K.WARN&&vp.warn(`Auth (${to}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(t){return pn(t)}class r2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function qJ(t,e){const n=new WJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function i2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class o2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}function u2(t,e){return VD.apply(this,arguments)}function VD(){return(VD=g(function*(t,e){return Ze(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function BD(t,e){return $D.apply(this,arguments)}function $D(){return($D=g(function*(t,e){return wi(t,"POST","/v1/accounts:signInWithPassword",Ge(t,e))})).apply(this,arguments)}function QD(){return(QD=g(function*(t,e){return wi(t,"POST","/v1/accounts:signInWithEmailLink",Ge(t,e))})).apply(this,arguments)}function YD(){return(YD=g(function*(t,e){return wi(t,"POST","/v1/accounts:signInWithEmailLink",Ge(t,e))})).apply(this,arguments)}class pl extends o2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield rs(e,i,"signInWithPassword");return BD(e,s)}return BD(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield rs(e,i,"signInWithPassword");return BD(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Kie(t,e){return QD.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:xn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return u2(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Qie(t,e){return YD.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:xn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Di(t,e){return XD.apply(this,arguments)}function XD(){return(XD=g(function*(t,e){return wi(t,"POST","/v1/accounts:signInWithIdp",Ge(t,e))})).apply(this,arguments)}class yl{constructor(e){var n,r,i,s,o,a;const u=tl(nl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function nse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function rse(t){const e=tl(nl(t)).link,n=e?tl(nl(e)).deep_link_id:null,r=tl(nl(t)).deep_link_id;return(r?tl(nl(r)).link:null)||r||n||e||t}(e);try{return new yl(n)}catch{return null}}}let c2=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return pl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=yl.parseLink(r);return A(i,"argument-error"),pl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ise extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield uo._fromIdTokenResponse(e,r,i),o=l2(r);return new nr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=l2(r);return new nr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function l2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Sp extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sp(e,n,r,i)}}function d2(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Sp._fromErrorAndOperation(t,s,e,r):s})}function aC(){return(aC=g(function*(t,e,n=!1){const r=yield Ii(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nr._forOperation(t,"link",r)})).apply(this,arguments)}function cC(){return(cC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ii(t,d2(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Ip(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),nr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&xn(r,"user-mismatch"),s}})).apply(this,arguments)}function p2(t,e){return lC.apply(this,arguments)}function lC(){return(lC=g(function*(t,e,n=!1){const r="signIn",i=yield d2(t,r,e),s=yield nr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function hC(){return(hC=g(function*(t,e){return p2(xt(t),e)})).apply(this,arguments)}function dse(t,e,n){return function dC(t,e){return hC.apply(this,arguments)}(pn(t),c2.credential(e,n))}function Ise(t){return pn(t).signOut()}const Mp="__sak";class m2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mse=(()=>{class t extends m2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tse(){const t=At();return RD(t)||Dp(t)}()&&function Rie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=QV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Nie(){return function $J(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),y2=(()=>{class t extends m2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Nse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function xse(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function BC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Rse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=BC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function $C(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function jC(){return(jC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _2="firebaseLocalStorageDb",xp="firebaseLocalStorage",v2="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Np(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function HC(){const t=indexedDB.open(_2,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xp,{keyPath:v2})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),yield function Vse(){const t=indexedDB.deleteDatabase(_2);return new vl(t).toPromise()}(),e(yield HC()))}))})}function w2(t,e,n){return GC.apply(this,arguments)}function GC(){return(GC=g(function*(t,e,n){const r=Np(t,!0).put({[v2]:e,value:n});return new vl(r).toPromise()})).apply(this,arguments)}function zC(){return(zC=g(function*(t,e){const n=Np(t,!1).get(e),r=yield new vl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function I2(t,e){const n=Np(t,!0).delete(e);return new vl(n).toPromise()}const jse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield HC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return $C()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Nse._getInstance(function Fse(){return $C()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Pse(){return jC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Rse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Ose(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield HC();return yield w2(n,Mp,"1"),yield I2(n,Mp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>w2(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Use(t,e){return zC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>I2(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Np(o,!1).getAll();return new vl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();t2("rcb"),new cl(3e4,6e4);class eb extends o2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ioe(t){return p2(t.auth,new eb(t),t.bypassAuthState)}function soe(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function f2(t,e){return cC.apply(this,arguments)}(n,new eb(t),t.bypassAuthState)}function ooe(t){return tb.apply(this,arguments)}function tb(){return(tb=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function oC(t,e){return aC.apply(this,arguments)}(n,new eb(t),t.bypassAuthState)})).apply(this,arguments)}class aoe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ioe;case"linkViaPopup":case"linkViaRedirect":return ooe;case"reauthViaPopup":case"reauthViaRedirect":return soe;default:xn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new cl(2e3,1e4);const uoe="pendingRedirect",wl=new Map;class coe extends aoe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=wl.get(n.auth._key());if(!r){try{const s=(yield function loe(t,e){return ob.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}wl.set(n.auth._key(),r)}return n.bypassAuthState||wl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function ob(){return(ob=g(function*(t,e){const n=function C2(t){return Ep(uoe,t.config.apiKey,t.name)}(e),r=function D2(t){return Ei(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function doe(t,e){wl.set(t._key(),e)}function b2(t,e){return fb.apply(this,arguments)}function fb(){return(fb=g(function*(t,e,n=!1){const r=xt(t),i=function lo(t,e){return e?Ei(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new coe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class moe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yoe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S2(e))}saveEventToCache(e){this.cachedEventUids.add(S2(e)),this.lastProcessedEventTime=Date.now()}}function S2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function gb(){return(gb=g(function*(t,e={}){return Ze(t,"GET","/v1/projects",e)})).apply(this,arguments)}const voe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,woe=/^https?/;function mb(){return mb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function _oe(t){return gb.apply(this,arguments)}(t);for(const n of e)try{if(Eoe(n))return}catch{}xn(t,"unauthorized-domain")}),mb.apply(this,arguments)}function Eoe(t){const e=ul(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!woe.test(n))return!1;if(voe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Doe=new cl(3e4,6e4);function M2(){const t=ft().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let kp=null;const Toe=new cl(5e3,15e3),Soe="__/auth/iframe",Aoe="emulator/auth/iframe",Moe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Noe(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vD(e,Aoe):`https://${t.config.authDomain}/${Soe}`,r={apiKey:e.apiKey,appName:t.name,v:to},i=xoe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${np(r).slice(1)}`}function yb(){return yb=g(function*(t){const e=yield function boe(t){return kp=kp||function Coe(t){return new Promise((e,n)=>{var r,i,s;function o(){M2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M2(),n(Ur(t,"network-request-failed"))},timeout:Doe.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=t2("iframefcb");return ft()[a]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},OD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw kp=null,e})}(t),kp}(t),n=ft().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Noe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Moe,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ur(t,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},Toe.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),yb.apply(this,arguments)}const koe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class x2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Boe="__/auth/handler",$oe="emulator/auth/handler",joe=encodeURIComponent("fac");function N2(t,e,n,r,i,s){return _b.apply(this,arguments)}function _b(){return(_b=g(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:i};if(e instanceof is){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function zJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof ise){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${joe}=${encodeURIComponent(u)}`:"";return`${function Hoe({config:t}){return t.emulator?vD(t,$oe):`https://${t.authDomain}/${Boe}`}(t)}?${np(a).slice(1)}${c}`})).apply(this,arguments)}const vb="webStorageSupport",zoe=class Goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y2,this._completeRedirectFn=b2,this._overrideRedirectResult=doe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;ts(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield N2(e,n,r,ul(),i);return function Voe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},koe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=GV(c)?"_blank":n),HV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function xie(t=At()){var e;return Dp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Uoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new x2(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new x2(d)}(e,a,BC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function kse(t){ft().location.href=t}(yield N2(e,n,r,ul(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ts(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Roe(t){return yb.apply(this,arguments)}(e),i=new moe(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vb,{type:vb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[vb];void 0!==o&&n(!!o),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Ioe(t){return mb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QV()||RD()||Dp()}};var P2="@firebase/auth";class qoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Yoe=jF("authIdTokenMaxAge")||300;let F2=null;const Xoe=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Yoe)return;const s=r?.token;F2!==s&&(F2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function L2(t=Hw()){const e=Ua(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Bie(t,e){const n=Ua(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(tp(n.getOptions(),e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:zoe,persistence:[jse,Mse,y2]}),r=jF("authTokenSyncURL");if(r){const s=Xoe(r);(function wse(t,e,n){pn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function vse(t,e,n,r){pn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=BF("auth");return i&&function jie(t,e,n){const r=xt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=i2(e),{host:o,port:a}=function Hie(t){const e=i2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s2(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:s2(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Gie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Koe(t){gn(new en("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YV(t)},c=new Uie(r,i,s,u);return function $ie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gn(new en("auth-internal",e=>{const n=xt(e.getProvider("auth").getImmediate());return new qoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(P2,"0.23.2",function Woe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Xe(P2,"0.23.2","esm2017")}("Browser");class Ci{constructor(e){return e}}class U2{constructor(){return zE("auth")}}const Ib=new L("angularfire2.auth-instances");function Zoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ci(r)}}const eae={provide:U2,deps:[[new ln,Ib]]},tae={provide:Ci,useFactory:function Joe(t,e){const n=GE("auth",t,e);return n&&new Ci(n)},deps:[[new ln,Ib],Ha]};let nae=(()=>{class t{constructor(){Xe("angularfire",dp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({providers:[tae,eae]}),t})();function rae(t,...e){return{ngModule:nae,providers:[{provide:Ib,useFactory:Zoe(t),multi:!0,deps:[Te,Bn,qE,WE,[new ln,gD],...e]}]}}const iae=es(L2,!0),sae=es(dse,!0),oae=es(Ise,!0);let aae=(()=>{class t{constructor(n=O(Ci)){this.auth=n,this.isAuthenticated=!1,this.isAuthenticated=!!n.currentUser}}return t.\u0275fac=function(n){return new(n||t)($(Ci))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Il=(()=>{class t{constructor(){this.modals=[]}register(n){this.modals.push({id:n,visible:!1})}unregister(n){this.modals=this.modals.filter(r=>r.id!==n)}toggleModal(n){const r=this.modals.find(i=>i.id===n);r&&(r.visible=!r.visible)}isModalOpen(n){return!!this.modals.find(r=>r.id===n)?.visible}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uae=(()=>{class t{constructor(n){this.modal=n}openModal(){this.modal.toggleModal("auth")}}return t.\u0275fac=function(n){return new(n||t)(D(Il))},t.\u0275cmp=Zr({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"fixed","inset-0","flex","flex-col","justify-center","items-center"],[1,"text-2xl","font-bold","m-1"],[1,"bg-blue-500","rounded-lg","text-white","text-sm","w-20","h-6","hover:bg-blue-600",3,"click"]],template:function(n,r){1&n&&(ue(0,"div",0)(1,"h1",1),xe(2,"FFC NUTRITION INC."),se(),ue(3,"button",2),lt("click",function(){return r.openModal()}),xe(4," SIGN IN "),se()())}}),t})();const cae=[[["","heading",""]],"*"],lae=function(t){return{hidden:t}},dae=["[heading]","*"];let B2=(()=>{class t{constructor(n){this.modal=n,this.modalID=""}closeModal(){this.modal.toggleModal(this.modalID)}}return t.\u0275fac=function(n){return new(n||t)(D(Il))},t.\u0275cmp=Zr({type:t,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:dae,decls:7,vars:3,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-gray-700","bg-opacity-50",3,"ngClass"],[1,"bg-white","rounded-lg","p-4","max-h-96","w-fit","min-w-fit","overflow-auto"],[1,"flex","justify-between","items-center","pb-4"],[1,"cursor-pointer","z-50","ml-4",3,"click"]],template:function(n,r){1&n&&(function PN(t){const e=E()[ut][Qt];if(!e.projection){const r=e.projection=Qu(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?N6(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(cae),ue(0,"div",0)(1,"div",1)(2,"div",2),f_(3),ue(4,"div",3),lt("click",function(){return r.closeModal()}),xe(5,"\u2715 "),se()(),f_(6,1),se()()),2&n&&Ke("ngClass",function a1(t,e,n,r){return u1(E(),un(),t,e,n,r)}(1,lae,!r.modal.isModalOpen(r.modalID)))},dependencies:[qk]}),t})();function hae(t,e){1&t&&(ue(0,"p",3),xe(1," Field is required. "),se())}function fae(t,e){1&t&&(ue(0,"p",3),xe(1,"Invalid email."),se())}function pae(t,e){if(1&t&&(ya(0),ui(1,hae,2,0,"p",2),ui(2,fae,2,0,"p",2),_a()),2&t){const n=Ls();Le(1),Ke("ngIf",null==n.control.errors?null:n.control.errors.required),Le(1),Ke("ngIf",null==n.control.errors?null:n.control.errors.email)}}let Eb=(()=>{class t{constructor(){this.control=new Zn,this.type="text",this.placeholder=""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zr({type:t,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder"},decls:2,vars:4,consts:[[1,"border","py-2","px-3","bg-transparent","block","rounded","w-full",3,"formControl","type","placeholder"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(n,r){1&n&&(St(0,"input",0),ui(1,pae,3,2,"ng-container",1)),2&n&&(Ke("formControl",r.control)("type",r.type)("placeholder",r.placeholder),Le(1),Ke("ngIf",r.control.touched&&r.control.dirty))},dependencies:[mf,wf,ZP,Qv]}),t})(),gae=(()=>{class t{constructor(n,r=O(Ci)){this.modal=n,this.auth=r,this.email=new Zn("",[Pv.required,Pv.email]),this.password=new Zn("",[Pv.required]),this.loginForm=new Gs({email:this.email,password:this.password}),this.inSubmission=!1}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}login(){var n=this;return g(function*(){n.inSubmission=!0;try{const r=n.loginForm.value.email??"",i=n.loginForm.value.password??"";yield sae(n.auth,r,i),location.reload()}catch(r){return n.inSubmission=!1,void console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(D(Il),D(Ci))},t.\u0275cmp=Zr({type:t,selectors:[["app-auth-modal"]],decls:11,vars:4,consts:[["modalID","auth"],["heading","",1,"text-xl","font-bold"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["type","email","placeholder","Email",1,"w-64",3,"control"],["type","password","placeholder","Password",1,"w-64",3,"control"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"]],template:function(n,r){1&n&&(ue(0,"app-modal",0)(1,"p",1),xe(2,"Sign In"),se(),ue(3,"div",2)(4,"form",3),lt("ngSubmit",function(){return r.login()}),ue(5,"div",4),St(6,"app-input",5),se(),ue(7,"div",4),St(8,"app-input",6),se(),ue(9,"button",7),xe(10," Submit "),se()()()()),2&n&&(Le(4),Ke("formGroup",r.loginForm),Le(2),Ke("control",r.email),Le(2),Ke("control",r.password),Le(1),Ke("disabled",r.loginForm.invalid||r.inSubmission))},dependencies:[B2,Eb,Rf,Df,Lc]}),t})();var k,mae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={},Db=Db||{},Z=mae||self;function Op(){}function Fp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function El(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Cb="closure_uid_"+(1e9*Math.random()>>>0),_ae=0;function vae(t,e,n){return t.call.apply(t.bind,arguments)}function wae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return(tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vae:wae).apply(null,arguments)}function Lp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ss(){this.s=this.s,this.o=this.o}ss.prototype.s=!1,ss.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function yae(t){Object.prototype.hasOwnProperty.call(t,Cb)&&t[Cb]||(t[Cb]=++_ae)}(this)},ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function j2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var Eae=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",Op,e),Z.removeEventListener("test",Op,e)}catch{}return t}();function Vp(t){return/^[\s\xa0]*$/.test(t)}var H2=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tb(t,e){return t<e?-1:t>e?1:0}function Up(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function $r(t){return-1!=Up().indexOf(t)}function Sb(t){return Sb[" "](t),t}function G2(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}Sb[" "]=Op;var Bp,t,Dae=$r("Opera"),Ka=$r("Trident")||$r("MSIE"),z2=$r("Edge"),Ab=z2||Ka,q2=$r("Gecko")&&!(-1!=Up().toLowerCase().indexOf("webkit")&&!$r("Edge"))&&!($r("Trident")||$r("MSIE"))&&!$r("Edge"),Cae=-1!=Up().toLowerCase().indexOf("webkit")&&!$r("Edge");function W2(){var t=Z.document;return t?t.documentMode:void 0}e:{var Mb="",xb=(t=Up(),q2?/rv:([^\);]+)(\)|;)/.exec(t):z2?/Edge\/([\d\.]+)/.exec(t):Ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Cae?/WebKit\/(\S+)/.exec(t):Dae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(xb&&(Mb=xb?xb[1]:""),Ka){var Nb=W2();if(null!=Nb&&Nb>parseFloat(Mb)){Bp=String(Nb);break e}}Bp=Mb}var bae={},Sae=Z.document&&Ka&&(W2()||parseInt(Bp,10))||void 0;function Dl(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(q2){e:{try{Sb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Aae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dl.$.h.call(this)}}Nt(Dl,nn);var Aae={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cl="closure_listenable_"+(1e6*Math.random()|0),Mae=0;function xae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Mae,this.fa=this.ia=!1}function $p(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Q2(t){const e={};for(const n in t)e[n]=t[n];return e}const Y2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<Y2.length;s++)n=Y2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jp(t){this.src=t,this.g={},this.h=0}function Pb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=$2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($p(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ob(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}jp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ob(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new xae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Fb="closure_lm_"+(1e6*Math.random()|0),Lb={};function J2(t,e,n,r,i){if(r&&r.once)return eU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)J2(t,e[s],n,r,i);return null}return n=$b(n),t&&t[Cl]?t.O(e,n,El(r)?!!r.capture:!!r,i):Z2(t,e,n,!1,r,i)}function Z2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=El(i)?!!i.capture:!!i,a=Ub(t);if(a||(t[Fb]=a=new jp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Nae(){const e=Rae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Eae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function eU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eU(t,e[s],n,r,i);return null}return n=$b(n),t&&t[Cl]?t.P(e,n,El(r)?!!r.capture:!!r,i):Z2(t,e,n,!0,r,i)}function tU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tU(t,e[s],n,r,i);else r=El(r)?!!r.capture:!!r,n=$b(n),t&&t[Cl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ob(s=t.g[e],n,r,i))&&($p(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ub(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ob(e,n,r,i)),(n=-1<t?e[t]:null)&&Vb(n))}function Vb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Cl])Pb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ub(e))?(Pb(n,t),0==n.h&&(n.src=null,e[Fb]=null)):$p(t)}}}function nU(t){return t in Lb?Lb[t]:Lb[t]="on"+t}function Rae(t,e){if(t.fa)t=!0;else{e=new Dl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vb(t),t=n.call(r,e)}return t}function Ub(t){return(t=t[Fb])instanceof jp?t:null}var Bb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $b(t){return"function"==typeof t?t:(t[Bb]||(t[Bb]=function(e){return t.handleEvent(e)}),t[Bb])}function Rt(){ss.call(this),this.i=new jp(this),this.S=this,this.J=null}function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;X2(e=new nn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hp(o,r,!0,e)&&i}if(i=Hp(o=e.g=t,r,!0,e)&&i,i=Hp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Hp(o=e.g=n[s],r,!1,e)&&i}function Hp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Pb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nt(Rt,ss),Rt.prototype[Cl]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){tU(this,t,e,n,r)},Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$p(n[r]);delete t.g[e],t.h--}}this.J=null},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var jb=Z.JSON.stringify;function kae(){var t=sU;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Hb,rU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Oae,t=>t.reset());class Oae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Fae(t){Z.setTimeout(()=>{throw t},0)}function iU(t,e){Hb||function Lae(){var t=Z.Promise.resolve(void 0);Hb=function(){t.then(Vae)}}(),Gb||(Hb(),Gb=!0),sU.add(t,e)}var Gb=!1,sU=new class Pae{constructor(){this.h=this.g=null}add(e,n){const r=rU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Vae(){for(var t;t=kae();){try{t.h.call(t.g)}catch(n){Fae(n)}var e=rU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gb=!1}function Gp(t,e){Rt.call(this),this.h=t||1,this.g=e||Z,this.j=tn(this.qb,this),this.l=Date.now()}function zb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function qb(t,e,n){if("function"==typeof t)n&&(t=tn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function oU(t){t.g=qb(()=>{t.g=null,t.i&&(t.i=!1,oU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nt(Gp,Rt),(k=Gp.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(zb(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){Gp.$.N.call(this),zb(this),delete this.g};class Uae extends ss{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oU(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(t){ss.call(this),this.h=t,this.g={}}Nt(bl,ss);var aU=[];function uU(t,e,n,r){Array.isArray(n)||(n&&(aU[0]=n.toString()),n=aU);for(var i=0;i<n.length;i++){var s=J2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cU(t){kb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vb(e)},t),t.g={}}function zp(){this.g=!0}function Qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return jb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bl.prototype.N=function(){bl.$.N.call(this),cU(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zp.prototype.Ea=function(){this.g=!1},zp.prototype.info=function(){};var ho={},lU=null;function qp(){return lU=lU||new Rt}function dU(t){nn.call(this,ho.Ta,t)}function Tl(t){const e=qp();Ht(e,new dU(e))}function hU(t,e){nn.call(this,ho.STAT_EVENT,t),this.stat=e}function yn(t){const e=qp();Ht(e,new hU(e,t))}function fU(t,e){nn.call(this,ho.Ua,t),this.size=e}function Sl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}ho.Ta="serverreachability",Nt(dU,nn),ho.STAT_EVENT="statevent",Nt(hU,nn),ho.Ua="timingevent",Nt(fU,nn);var Wp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wb(){}function mU(){}Wb.prototype.h=null;var Yb,Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kb(){nn.call(this,"d")}function Qb(){nn.call(this,"c")}function Kp(){}function Ml(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bl(this),this.P=Gae,this.V=new Gp(t=Ab?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new yU}function yU(){this.i=null,this.g="",this.h=!1}Nt(Kb,nn),Nt(Qb,nn),Nt(Kp,Wb),Kp.prototype.g=function(){return new XMLHttpRequest},Kp.prototype.i=function(){return{}},Yb=new Kp;var Gae=45e3,Xb={},Qp={};function Jb(t,e,n){t.L=1,t.v=Zp(bi(e)),t.s=n,t.S=!0,_U(t,null)}function _U(t,e){t.G=Date.now(),xl(t),t.A=bi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),AU(n.i,"t",r),t.C=0,n=t.l.I,t.h=new yU,t.g=JU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Uae(tn(t.Pa,t,t.g),t.O)),uU(t.U,t.g,"readystatechange",t.nb),e=t.I?Q2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Tl(),function Bae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function vU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function wU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=zae(t,n),i==Qp){4==e&&(t.o=4,yn(14),r=!1),Qa(t.j,t.m,null,"[Incomplete Response]");break}if(i==Xb){t.o=4,yn(15),Qa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qa(t.j,t.m,i,null),Zb(t,i)}vU(t)&&i!=Qp&&i!=Xb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,(e=t.l).g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),aT(e),e.L=!0,yn(11))):(Qa(t.j,t.m,n,"[Invalid Chunked Response]"),fo(t),Nl(t))}function zae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Qp:(n=Number(e.substring(n,r)),isNaN(n)?Xb:(r+=1)+n>e.length?Qp:(e=e.substr(r,n),t.C=r+n,e))}function xl(t){t.Y=Date.now()+t.P,IU(t,t.P)}function IU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Sl(tn(t.lb,t),e)}function Yp(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Nl(t){0==t.l.H||t.J||KU(t.l,t)}function fo(t){Yp(t);var e=t.M;e&&"function"==typeof e.ra&&e.ra(),t.M=null,zb(t.V),cU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Zb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||eT(n.h,t)))if(!t.K&&eT(n.h,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;sg(n),rg(n)}oT(n),yn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Sl(tn(n.ib,n),6e3));if(1>=NU(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else go(n,11)}else if((t.K||n.g==t)&&sg(n),!Vp(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const l=c[3];null!=l&&(n.qa=l,n.j.info("VER="+n.qa));const d=c[4];null!=d&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(tT(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ue(r.G,r.F,m))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=XU(r,r.I?r.oa:null,r.Y),o.K){RU(r.h,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Yp(a),xl(a)),r.g=o}else qU(r);0<n.i.length&&ig(n)}else"stop"!=c[0]&&"close"!=c[0]||go(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?go(n,7):sT(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}Tl()}catch{}}function EU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Wae(t){if(t.sa&&"function"==typeof t.sa)return t.sa();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function qae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Fp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(k=Ml.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==Ti(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=Ti(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Ab||this.g&&(this.h.h||this.g.ja()||BU(this.g)))){this.J||4!=l||7==e||Tl(),Yp(this);var n=this.g.da();this.aa=n;t:if(vU(this)){var r=BU(this.g);t="";var i=r.length,s=4==Ti(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fo(this),Nl(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function $ae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,yn(12),fo(this),Nl(this);break e}Qa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zb(this,n)}this.S?(wU(this,l,o),Ab&&this.i&&3==l&&(uU(this.U,this.V,"tick",this.mb),this.V.start())):(Qa(this.j,this.m,o,null),Zb(this,o)),4==l&&fo(this),this.i&&!this.J&&(4==l?KU(this.l,this):(this.i=!1,xl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),fo(this),Nl(this)}}}catch{}},k.mb=function(){if(this.g){var t=Ti(this.g),e=this.g.ja();this.C<e.length&&(Yp(this),wU(this,t,e),this.i&&4!=t&&xl(this))}},k.cancel=function(){this.J=!0,fo(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function jae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tl(),yn(17)),fo(this),this.o=2,Nl(this)):IU(this,this.Y-t)};var DU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof po){this.h=void 0!==e?e:t.h,Xp(this,t.j),this.s=t.s,this.g=t.g,Jp(this,t.m),this.l=t.l,e=t.i;var n=new Pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CU(this,n),this.o=t.o}else t&&(n=String(t).match(DU))?(this.h=!!e,Xp(this,n[1]||"",!0),this.s=Rl(n[2]||""),this.g=Rl(n[3]||"",!0),Jp(this,n[4]),this.l=Rl(n[5]||"",!0),CU(this,n[6]||"",!0),this.o=Rl(n[7]||"")):(this.h=!!e,this.i=new Pl(null,this.h))}function bi(t){return new po(t)}function Xp(t,e,n){t.j=n?Rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CU(t,e,n){e instanceof Pl?(t.i=e,function eue(t,e){e&&!t.j&&(os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TU(this,r),AU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=kl(e,Jae)),t.i=new Pl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Zp(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}po.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kl(e,bU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(kl(e,bU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(kl(n,"/"==n.charAt(0)?Xae:Yae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kl(n,Zae)),t.join("")};var bU=/[#\/\?@]/g,Yae=/[#\?:]/g,Xae=/[#\?]/g,Jae=/[#\?@]/g,Zae=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function os(t){t.g||(t.g=new Map,t.h=0,t.i&&function Kae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function TU(t,e){os(t),e=Ya(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SU(t,e){return os(t),e=Ya(t,e),t.g.has(e)}function AU(t,e,n){TU(t,e),0<n.length&&(t.i=null,t.g.set(Ya(t,e),bb(n)),t.h+=n.length)}function Ya(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MU(t){this.l=t||nue,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Pl.prototype).add=function(t,e){os(this),this.i=null,t=Ya(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.sa=function(){os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},k.Z=function(t){os(this);let e=[];if("string"==typeof t)SU(this,t)&&(e=e.concat(this.g.get(Ya(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return os(this),this.i=null,SU(this,t=Ya(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var nue=10;function xU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function NU(t){return t.h?1:t.g?t.g.size:0}function eT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function tT(t,e){t.g?t.g.add(e):t.h=e}function RU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function kU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bb(t.i)}function nT(){}function rue(){this.g=new nT}function iue(t,e,n){const r=n||"";try{EU(t,function(i,s){let o=i;El(i)&&(o=jb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ol(t){this.l=t.fc||null,this.j=t.ob||!1}function tg(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MU.prototype.cancel=function(){if(this.i=kU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},nT.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)},nT.prototype.parse=function(t){return Z.JSON.parse(t,void 0)},Nt(Ol,Wb),Ol.prototype.g=function(){return new tg(this.l,this.j)},Ol.prototype.i=function(t){return function(){return t}}({}),Nt(tg,Rt);var rT=0;function PU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Fl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=tg.prototype).open=function(t,e){if(this.readyState!=rT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=rT},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fl(this):Ll(this),3==this.readyState&&PU(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,Fl(this))},k.Ya=function(t){this.g&&(this.response=t,Fl(this))},k.ka=function(){this.g&&Fl(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var oue=Z.JSON.parse;function et(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OU,this.L=this.M=!1}Nt(et,Rt);var OU="",aue=/^https?$/i,uue=["POST","PUT"];function FU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LU(t),ng(t)}function LU(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}function VU(t){if(t.h&&typeof Db<"u"&&(!t.C[1]||4!=Ti(t)||2!=t.da()))if(t.v&&4==Ti(t))qb(t.La,0,t);else if(Ht(t,"readystatechange"),4==Ti(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(DU)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!aue.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Ti(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",LU(t)}}finally{ng(t)}}}function ng(t,e){if(t.g){UU(t);const n=t.g,r=t.C[0]?Op:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function UU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Ti(t){return t.g?t.g.readyState:0}function BU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case OU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $U(t){let e="";return kb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function iT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$U(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jU(t){this.Ga=0,this.i=[],this.j=new zp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vl("baseRetryDelayMs",5e3,t),this.hb=Vl("retryDelaySeedMs",1e4,t),this.eb=Vl("forwardChannelMaxRetries",2,t),this.xa=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new MU(t&&t.concurrentRequestLimit),this.Ja=new rue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function sT(t){if(HU(t),3==t.H){var e=t.W++,n=bi(t.G);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Ul(t,n),(e=new Ml(t,t.j,e,void 0)).L=2,e.v=Zp(bi(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=JU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xl(e)}YU(t)}function rg(t){t.g&&(aT(t),t.g.cancel(),t.g=null)}function HU(t){rg(t),t.u&&(Z.clearTimeout(t.u),t.u=null),sg(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function ig(t){xU(t.h)||t.m||(t.m=!0,iU(t.Na,t),t.C=0)}function GU(t,e){var n;n=e?e.m:t.W++;const r=bi(t.G);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.V),Ul(t,r),t.o&&t.s&&iT(r,t.o,t.s),n=new Ml(t,t.j,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=zU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tT(t.h,n),Jb(n,r,e)}function Ul(t,e){t.ma&&kb(t.ma,function(n,r){Ue(e,r,n)}),t.l&&EU({},function(n,r){Ue(e,r,n)})}function zU(t,e,n){n=Math.min(t.i.length,n);var r=t.l?tn(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{iue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function qU(t){t.g||t.u||(t.ba=1,iU(t.Ma,t),t.A=0)}function oT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Sl(tn(t.Ma,t),QU(t,t.A)),t.A++,0))}function aT(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function WU(t){t.g=new Ml(t,t.j,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=bi(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.M?"0":"1"),Ue(e,"AID",t.V),Ue(e,"TYPE","xmlhttp"),Ul(t,e),t.o&&t.s&&iT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Zp(bi(e)),n.s=null,n.S=!0,_U(n,t)}function sg(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function KU(t,e){var n=null;if(t.g==e){sg(t),aT(t),t.g=null;var r=2}else{if(!eT(t.h,e))return;n=e.F,RU(t.h,e),r=1}if(0!=t.H)if(t.ta=e.aa,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ht(r=qp(),new fU(r,n)),ig(t)}else qU(t);else if(3==(i=e.o)||0==i&&0<t.ta||!(1==r&&function lue(t,e){return!(NU(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.F.concat(t.i),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Sl(tn(t.Na,t,e),QU(t,t.C)),t.C++,0)))}(t,e)||2==r&&oT(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}function QU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function go(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=tn(t.pb,t);n||(n=new po("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Xp(n,"https"),Zp(n)),function sue(t,e){const n=new zp;if(Z.Image){const r=new Image;r.onload=Lp(eg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lp(eg,n,r,"TestLoadImage: error",!1,e),r.onabort=Lp(eg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lp(eg,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yn(2);t.H=0,t.l&&t.l.za(e),YU(t),HU(t)}function YU(t){if(t.H=0,t.pa=[],t.l){const e=kU(t.h);(0!=e.length||0!=t.i.length)&&(j2(t.pa,e),j2(t.pa,t.i),t.h.i.length=0,bb(t.i),t.i.length=0),t.l.ya()}}function XU(t,e,n){var r=n instanceof po?bi(n):new po(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Jp(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new po(null,void 0);r&&Xp(s,r),e&&(s.g=e),i&&Jp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ue(r,n,e),Ue(r,"VER",t.qa),Ul(t,r),r}function JU(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(n&&t.Ha&&!t.va?new Ol({ob:!0}):t.va)).Oa(t.I),e}function ZU(){}function og(){if(Ka&&!(10<=Number(Sae)))throw Error("Environmental error: no available transport.")}function Hn(t,e){Rt.call(this),this.g=new jU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Xa(this)}function eB(t){Kb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function tB(){Qb.call(this),this.status=1}function Xa(t){this.g=t}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(k=et.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yb.g(),this.C=function gU(t){return t.h||(t.h=t.i())}(this.u?this.u:Yb),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void FU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=$2(uue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UU(this),0<this.B&&((this.L=function cue(t){return Ka&&function Tae(){return G2(bae,9,function(){let t=0;const e=H2(String(Bp)).split("."),n=H2("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=Tb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Tb(0==i[2].length,0==s[2].length)||Tb(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=qb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){FU(this,s)}},k.ua=function(){typeof Db<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),ng(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ng(this,!0)),et.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?VU(this):this.kb())},k.kb=function(){VU(this)},k.da=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),oue(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=jU.prototype).qa=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ml(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=Q2(s),X2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zU(this,i,e),Ue(n=bi(this.G),"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Ul(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($U(s)))+"&"+e:this.o&&iT(n,this.o,s)),tT(this.h,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.ba=!0,Jb(i,n,null)):Jb(i,n,e),this.H=2}}else 3==this.H&&(t?GU(this,t):0==this.i.length||xU(this.h)||GU(this))},k.Ma=function(){if(this.u=null,WU(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Sl(tn(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,yn(10),rg(this),WU(this))},k.ib=function(){null!=this.v&&(this.v=null,rg(this),oT(this),yn(19))},k.pb=function(t){t?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))},(k=ZU.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.Va=function(){},og.prototype.g=function(t,e){return new Hn(t,e)},Nt(Hn,Rt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;yn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=XU(t,null,t.Y),ig(t)},Hn.prototype.close=function(){sT(this.g)},Hn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=jb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.fb++,t)),3==e.H&&ig(e)},Hn.prototype.N=function(){this.g.l=null,delete this.j,sT(this.g),delete this.g,Hn.$.N.call(this)},Nt(eB,Kb),Nt(tB,Qb),Nt(Xa,ZU),Xa.prototype.Ba=function(){Ht(this.g,"a")},Xa.prototype.Aa=function(t){Ht(this.g,new eB(t))},Xa.prototype.za=function(t){Ht(this.g,new tB)},Xa.prototype.ya=function(){Ht(this.g,"b")},Nt(yr,function due(){this.blockSize=-1}),yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)uT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uT(this,r),i=0;break}}this.h=i,this.i+=e},yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var hue={};function cT(t){return-128<=t&&128>t?G2(hue,t,function(e){return new De([0|e],0>e?-1:0)}):new De([0|t],0>t?-1:0)}function jr(t){if(isNaN(t)||!isFinite(t))return Ja;if(0>t)return Gt(jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lT;return new De(e,0)}var lT=4294967296,Ja=cT(0),dT=cT(1),rB=cT(16777216);function Si(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function rr(t){return-1==t.h}function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(dT)}function ag(t,e){return t.add(Gt(e))}function ug(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bl(t,e){this.g=t,this.h=e}function cg(t,e){if(Si(e))throw Error("division by zero");if(Si(t))return new Bl(Ja,Ja);if(rr(t))return e=cg(Gt(t),e),new Bl(Gt(e.g),Gt(e.h));if(rr(e))return e=cg(t,Gt(e)),new Bl(Gt(e.g),e.h);if(30<t.g.length){if(rr(t)||rr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dT,r=e;0>=r.X(t);)n=iB(n),r=iB(r);var i=Za(n,1),s=Za(r,1);for(r=Za(r,2),n=Za(n,2);!Si(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Za(r,1),n=Za(n,1)}return e=ag(t,i.R(e)),new Bl(i,e)}for(i=Ja;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=jr(n)).R(e);rr(o)||0<o.X(t);)o=(s=jr(n-=r)).R(e);Si(s)&&(s=dT),i=i.add(s),t=ag(t,o)}return new Bl(i,t)}function iB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function Za(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}(k=De.prototype).ea=function(){if(rr(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lT+r)*e,e*=lT}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Si(this))return"0";if(rr(this))return"-"+Gt(this).toString(t);for(var e=jr(Math.pow(t,6)),n=this,r="";;){var i=cg(n,e).g,s=((0<(n=ag(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Si(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return rr(t=ag(this,t))?-1:Si(t)?0:1},k.abs=function(){return rr(this)?Gt(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new De(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(Si(this)||Si(t))return Ja;if(rr(this))return rr(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(rr(t))return Gt(this.R(Gt(t)));if(0>this.X(rB)&&0>t.X(rB))return jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,ug(n,2*r+2*i),n[2*r+2*i+1]+=s*u,ug(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ug(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ug(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)},k.gb=function(t){return cg(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)},og.prototype.createWebChannel=og.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Wp.NO_ERROR=0,Wp.TIMEOUT=8,Wp.HTTP_ERROR=6,pU.COMPLETE="complete",mU.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",Rt.prototype.listen=Rt.prototype.O,et.prototype.listenOnce=et.prototype.P,et.prototype.getLastError=et.prototype.Sa,et.prototype.getLastErrorCode=et.prototype.Ia,et.prototype.getStatus=et.prototype.da,et.prototype.getResponseJson=et.prototype.Wa,et.prototype.getResponseText=et.prototype.ja,et.prototype.send=et.prototype.ha,et.prototype.setWithCredentials=et.prototype.Oa,yr.prototype.digest=yr.prototype.l,yr.prototype.reset=yr.prototype.reset,yr.prototype.update=yr.prototype.j,De.prototype.add=De.prototype.add,De.prototype.multiply=De.prototype.R,De.prototype.modulo=De.prototype.gb,De.prototype.compare=De.prototype.X,De.prototype.toNumber=De.prototype.ea,De.prototype.toString=De.prototype.toString,De.prototype.getBits=De.prototype.D,De.fromNumber=jr,De.fromString=function nB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Gt(nB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jr(Math.pow(e,8)),r=Ja,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=jr(Math.pow(e,s)),r=r.R(s).add(jr(o))):r=(r=r.R(n)).add(jr(o))}return r};var fue=mr.createWebChannelTransport=function(){return new og},pue=mr.getStatEventTarget=function(){return qp()},hT=mr.ErrorCode=Wp,gue=mr.EventType=pU,mue=mr.Event=ho,sB=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yue=mr.FetchXmlHttpFactory=Ol,lg=mr.WebChannel=mU,_ue=mr.XhrIo=et,vue=mr.Md5=yr,eu=mr.Integer=De;const oB="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let tu="9.22.0";const as=new Va("@firebase/firestore");function fT(){return as.logLevel}function S(t,...e){if(as.logLevel<=K.DEBUG){const n=e.map(pT);as.debug(`Firestore (${tu}): ${t}`,...n)}}function it(t,...e){if(as.logLevel<=K.ERROR){const n=e.map(pT);as.error(`Firestore (${tu}): ${t}`,...n)}}function _r(t,...e){if(as.logLevel<=K.WARN){const n=e.map(pT);as.warn(`Firestore (${tu}): ${t}`,...n)}}function pT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: `+t;throw it(e),new Error(e)}function U(t,e){t||F()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Iue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Eue{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new aB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new kt(e)}}class Due{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Due(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new uB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Tue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function nu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new ze(0,0))}static max(){return new B(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $l{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===$l.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends $l{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const Sue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends $l{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return Sue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(pe.fromString(e))}static fromName(e){return new M(pe.fromString(e).popFirst(5))}static empty(){return new M(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new pe(e.slice()))}}function hB(t){return new Gn(t.readTime,t.key,-1)}class Gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gn(B.min(),M.empty(),-1)}static max(){return new Gn(B.max(),M.empty(),-1)}}function mT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function us(t){return yT.apply(this,arguments)}function yT(){return yT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==fB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),yT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function cs(t){return"IndexedDbTransactionError"===t.name}let zn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Gl(t){return null==t}function zl(t){return 0===t&&1/t==-1/0}function EB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Re{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gg(this.root,e,this.comparator,!0)}}class gg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1,zt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CB(this.data.getIterator())}getIteratorFrom(e){return new CB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class CB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Pe(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class bB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bB("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Zue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(U(!!t),"string"==typeof t){let e=0;const n=Zue.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ai(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function mg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yg(t){const e=t.mapValue.fields.__previous_value__;return mg(e)?yg(e):e}function ql(t){const e=ds(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}class ece{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class _o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _o("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}const hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:MB(t)?9007199254740991:10:F()}function Gr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ds(r.timestampValue),o=ds(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ai(t.bytesValue).isEqual(Ai(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?zl(s)===zl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(EB(s)!==EB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Wl(t,e){return void 0!==(t.values||[]).find(n=>Gr(n,e))}function ps(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return TB(t.timestampValue,e.timestampValue);case 4:return TB(ql(t),ql(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ai(i),a=Ai(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(tt(i.latitude),tt(s.latitude));return 0!==o?o:Y(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ps(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===hs.mapValue&&s===hs.mapValue)return 0;if(i===hs.mapValue)return 1;if(s===hs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=ps(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function TB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=ds(t),r=ds(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function iu(t){return wT(t)}function wT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ds(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ai(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=wT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${wT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function IT(t){return!!t&&"integerValue"in t}function Kl(t){return!!t&&"arrayValue"in t}function SB(t){return!!t&&"nullValue"in t}function AB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wg(t){return!!t&&"mapValue"in t}function Ql(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Ql(this.value))}}function RB(t){const e=[];return ls(t.fields,(n,r)=>{const i=new st([n]);if(wg(r)){const s=RB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,B.min(),B.min(),B.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,B.min(),B.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,B.min(),B.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gs{constructor(e,n){this.position=e,this.inclusive=n}}function kB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):ps(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function PB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function rce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class OB{}class de extends OB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ice(e,n,r):"array-contains"===n?new ace(e,r):"in"===n?new $B(e,r):"not-in"===n?new uce(e,r):"array-contains-any"===n?new cce(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new sce(e,r):new oce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ps(n,this.value)):null!==n&&fs(this.value)===fs(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends OB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ce(e,n)}matches(e){return ou(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ou(t){return"and"===t.op}function DT(t){return function FB(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}(t)&&ou(t)}function CT(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(DT(t))return t.filters.map(e=>CT(e)).join(",");{const e=t.filters.map(n=>CT(n)).join(",");return`${t.op}(${e})`}}function LB(t,e){return t instanceof de?(n=t,(r=e)instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&Gr(n.value,r.value)):t instanceof Ce?function(n,r){return r instanceof Ce&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&LB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function UB(t){return t instanceof de?`${(e=t).field.canonicalString()} ${e.op} ${iu(e.value)}`:t instanceof Ce?function(e){return e.op.toString()+" {"+e.getFilters().map(UB).join(" ,")+"}"}(t):"Filter";var e}class ice extends de{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class sce extends de{constructor(e,n){super(e,"in",n),this.keys=BB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oce extends de{constructor(e,n){super(e,"not-in",n),this.keys=BB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class ace extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kl(n)&&Wl(n.arrayValue,this.value)}}class $B extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wl(this.value.arrayValue,n)}}class uce extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wl(this.value.arrayValue,n)}}class cce extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}class lce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function bT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lce(t,e,n,r,i,s,o)}function wo(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>CT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>iu(r)).join(",")),e.dt=n}return e.dt}function Yl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PB(t.startAt,e.startAt)&&PB(t.endAt,e.endAt)}function Ig(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function au(t){return new Mi(t)}function zB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Io(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Dg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function TT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new su(n)),e.wt.push(new su(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new su(st.keyField(),s))}}}return e.wt}function _n(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=bT(e.path,e.collectionGroup,Io(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Io(e))n.push(new su(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new gs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gs(e.startAt.position,e.startAt.inclusive):null;e._t=bT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Cg(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xl(t,e){return Yl(_n(t),_n(e))&&t.limitType===e.limitType}function qB(t){return`${wo(_n(t))}|lt:${t.limitType}`}function MT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>UB(r)).join(", ")}]`),Gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>iu(r)).join(",")),`Target(${n})`}(_n(t))}; limitType=${t.limitType})`}function Jl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Io(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=kB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Io(n),r)||n.endAt&&!function(i,s,o){const a=kB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Io(n),r)));var n,r}function KB(t){return(e,n)=>{let r=!1;for(const i of Io(t)){const s=dce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dce(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ps(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DB(this.inner)}size(){return this.innerSize}}const hce=new Re(M.comparator);function Rn(){return hce}const QB=new Re(M.comparator);function Zl(...t){let e=QB;for(const n of t)e=e.insert(n.key,n);return e}function YB(t){let e=QB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ed()}function XB(){return ed()}function ed(){return new xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const fce=new Re(M.comparator),pce=new Pe(M.comparator);function ie(...t){let e=pce;for(const n of t)e=e.add(n);return e}const gce=new Pe(Y);function JB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function ZB(t){return{integerValue:""+t}}function e$(t,e){return function gB(t){return"number"==typeof t&&Number.isInteger(t)&&!zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?ZB(e):JB(t,e)}class bg{constructor(){this._=void 0}}function mce(t,e,n){return t instanceof uu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&mg(i)&&(i=yg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Eo?n$(t,e):t instanceof Do?r$(t,e):function(r,i){const s=t$(r,i),o=i$(s)+i$(r.gt);return IT(s)&&IT(r.gt)?ZB(o):JB(r.serializer,o)}(t,e)}function yce(t,e,n){return t instanceof Eo?n$(t,e):t instanceof Do?r$(t,e):n}function t$(t,e){return t instanceof cu?IT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class uu extends bg{}class Eo extends bg{constructor(e){super(),this.elements=e}}function n$(t,e){const n=s$(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Do extends bg{constructor(e){super(),this.elements=e}}function r$(t,e){let n=s$(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class cu extends bg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function i$(t){return tt(t.integerValue||t.doubleValue)}function s$(t){return Kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vce{constructor(e,n){this.version=e,this.transformResults=n}}class Be{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Be}static exists(e){return new Be(void 0,e)}static updateTime(e){return new Be(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Sg{}function o$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new du(t.key,Be.none()):new lu(t.key,t.data,Be.none());{const n=t.data,r=qt.empty();let i=new Pe(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(t.key,r,new Nn(i.toArray()),Be.none())}}function wce(t,e,n){t instanceof lu?function(r,i,s){const o=r.value.clone(),a=c$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(r,i,s){if(!Tg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=c$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(u$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function nd(t,e,n,r){return t instanceof lu?function(i,s,o,a){if(!Tg(i.precondition,s))return o;const u=i.value.clone(),c=l$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,s,o,a){if(!Tg(i.precondition,s))return o;const u=l$(i.fieldTransforms,a,s),c=s.data;return c.setAll(u$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Tg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Ice(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=t$(r.transform,i||null);null!=s&&(null===n&&(n=qt.empty()),n.set(r.field,s))}return n||null}function a$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&nu(n,r,(i,s)=>function _ce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Eo&&r instanceof Eo||n instanceof Do&&r instanceof Do?nu(n.elements,r.elements,Gr):n instanceof cu&&r instanceof cu?Gr(n.gt,r.gt):n instanceof uu&&r instanceof uu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class lu extends Sg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Sg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yce(o,a,n[i]))}return r}function l$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mce(s,o,e))}return r}class du extends Sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NT extends Sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=o$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(n,r)=>a$(n,r))&&nu(this.baseMutations,e.baseMutations,(n,r)=>a$(n,r))}}class kT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=fce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kT(e,n,r,i)}}class PT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dce{constructor(e,n){this.count=e,this.unchangedNames=n}}var pt,ge;function h$(t){if(void 0===t)return it("GRPC error has no .code"),I.UNKNOWN;switch(t){case pt.OK:return I.OK;case pt.CANCELLED:return I.CANCELLED;case pt.UNKNOWN:return I.UNKNOWN;case pt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case pt.INTERNAL:return I.INTERNAL;case pt.UNAVAILABLE:return I.UNAVAILABLE;case pt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case pt.NOT_FOUND:return I.NOT_FOUND;case pt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case pt.ABORTED:return I.ABORTED;case pt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case pt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(ge=pt||(pt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class OT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ag}static getOrCreateInstance(){return null===Ag&&(Ag=new OT),Ag}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ag=null;const Cce=new eu([4294967295,4294967295],0);function p$(t){const e=function f$(){return new TextEncoder}().encode(t),n=new vue;return n.update(e),new Uint8Array(n.digest())}function g$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eu([n,r],0),new eu([i,s],0)]}class FT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=eu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(eu.fromNumber(r)));return 1===i.compare(Cce)&&(i=new eu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=p$(e),[r,i]=g$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new FT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=p$(e),[r,i]=g$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new id(B.min(),i,new Re(Y),Rn(),ie())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,ie(),ie(),ie())}}class Mg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class m${constructor(e,n){this.targetId=e,this.Vt=n}}class y${constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _${constructor(){this.St=0,this.Dt=w$(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ie(),n=ie(),r=ie();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new sd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=w$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rn(),this.zt=v$(),this.Wt=new Re(Y)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ig(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Oe.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=OT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ai(s).toUint8Array()}catch(l){if(l instanceof bB)return _r("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new FT(u,o,a)}catch(l){return _r(l instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ig(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Oe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ie();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new id(e,n,this.Wt,this.jt,r);return this.jt=Rn(),this.zt=v$(),this.Wt=new Re(Y),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new _$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pe(Y),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function v$(){return new Re(M.comparator)}function w$(){return new Re(M.comparator)}const Tce={asc:"ASCENDING",desc:"DESCENDING"},Sce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ace={and:"AND",or:"OR"};class Mce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function LT(t,e){return t.useProto3Json||Gl(e)?e:{value:e}}function hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xce(t,e){return hu(t,e.toTimestamp())}function ot(t){return U(!!t),B.fromTimestamp(function(e){const n=ds(e);return new ze(n.seconds,n.nanos)}(t))}function VT(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function E$(t){const e=pe.fromString(t);return U(N$(e)),e}function od(t,e){return VT(t.databaseId,e.path)}function qr(t,e){const n=E$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(C$(n))}function UT(t,e){return VT(t.databaseId,e)}function ad(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function b$(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function S$(t,e){return{documents:[UT(t,e.path)]}}function $T(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=UT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=UT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return x$(Ce.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ms((l=c).field),direction:Oce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=LT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function A$(t){let e=function D$(t){const e=E$(t);return 4===e.length?pe.emptyPath():C$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=M$(l);return d instanceof Ce&&DT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new su(fu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new gs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new gs(l.values||[],!l.before)}(n.endAt)),function GB(t,e,n,r,i,s,o,a){return new Mi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function M$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=fu(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=fu(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fu(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fu(e.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?de.create(fu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ce.create(e.compositeFilter.filters.map(n=>M$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Oce(t){return Tce[t]}function Fce(t){return Sce[t]}function Lce(t){return Ace[t]}function ms(t){return{fieldPath:t.canonicalString()}}function fu(t){return st.fromServerFormat(t.fieldPath)}function x$(t){return t instanceof de?function(e){if("=="===e.op){if(AB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NAN"}};if(SB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NAN"}};if(SB(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(e.field),op:Fce(e.op),value:e.value}}}(t):t instanceof Ce?function(e){const n=e.getFilters().map(r=>x$(r));return 1===n.length?n[0]:{compositeFilter:{op:Lce(e.op),filters:n}}}(t):F()}function Vce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ri{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R${constructor(e){this.fe=e}}function jT(t){const e=A$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cg(e,e.limit,"L"):e}class So{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),zl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ai(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?MB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}So.Ve=new So;class Wce{constructor(){this.rn=new KT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Gn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class KT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(pe.comparator)).toArray()}}new Uint8Array(0);class sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Mo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mo(0)}static Mn(){return new Mo(-1)}}class Zce{constructor(){this.changes=new xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ij{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&nd(r.mutation,i,Nn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Rn();const o=ed(),a=ed();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),nd(l.mutation,c,l.mutation.getFieldMask(),ze.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new nle(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ed();let i=new Re((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=XB();l.forEach(h=>{if(!s.has(h)){const f=o$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ST(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(zr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:YB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Zl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Mi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Oe.newInvalidDocument(c)))});let o=Zl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&nd(c.mutation,u,Nn.empty(),ze.now()),Jl(n,u)&&(o=o.insert(a,u))}),o})}}class rle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ot(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:jT(r.bundledQuery),readTime:ot(r.readTime)}),v.resolve();var r}}class ile{constructor(){this.overlays=new Re(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PT(n,r));let s=this.ls.get(n);void 0===s&&(s=ie(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class QT{constructor(){this.fs=new Pe(Ot.ds),this.ws=new Pe(Ot._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ot(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new pe([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new pe([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=ie();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||Y(e.As,n.As)}static _s(e,n){return Y(e.As,n.As)||M.comparator(e.key,n.key)}}class sle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pe(Ot.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new RT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(Y);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new M(s),0);let a=new Pe(Y);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ole{constructor(e){this.Ds=e,this.docs=new Re(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||mT(hB(l),r)<=0||(i.has(l.key)||Jl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ale(this)}getSize(e){return v.resolve(this.size)}}class ale extends Zce{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class ule{constructor(e){this.persistence=e,this.xs=new xi(n=>wo(n),Yl),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new QT,this.targetCount=0,this.Ms=Mo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class YT{constructor(e,n){this.$s={},this.overlays={},this.Os=new zn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ule(this),this.indexManager=new Wce,this.remoteDocumentCache=new ole(r=>this.referenceDelegate.Ls(r)),this.serializer=new R$(n),this.qs=new rle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ile,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new sle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new cle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class cle extends xue{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Qs=new QT,this.js=null}static zs(e){return new Vg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class e0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new e0(e,n.fromCache,r,i)}}class oj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(zB(n))return v.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Cg(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Cg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return zB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(fT()<=K.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),MT(n)),this.Wi(e,o,n,function dB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new ze(n+1,0):new ze(n,r));return new Gn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Pe(KB(e));return n.forEach((i,s)=>{Jl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return fT()<=K.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",MT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Gn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class dle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Re(Y),this.Yi=new xi(s=>wo(s),Yl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ij(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function uj(t,e){return t0.apply(this,arguments)}function t0(){return t0=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ie();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),t0.apply(this,arguments)}function cj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ple(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yu(t,e,n){return n0.apply(this,arguments)}function n0(){return n0=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!cs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),n0.apply(this,arguments)}function $g(t,e,n){const r=x(t);let i=B.min(),s=ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:ie())).next(a=>(function fj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function WB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class u0{constructor(){this.activeTargetIds=function xT(){return gce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mj{constructor(){this.Hr=new u0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new u0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yle{Yr(e){}shutdown(){}}class yj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gg=null;function l0(){return null===Gg?Gg=268435456+Math.round(2147483648*Math.random()):Gg++,"0x"+Gg.toString(16)}const _le={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const on="WebChannelConnection";class wle extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=l0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw _r("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+tu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${_le[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=l0();return new Promise((o,a)=>{const u=new _ue;u.setWithCredentials(!0),u.listenOnce(gue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hT.NO_ERROR:const l=u.getResponseJson();S(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case hT.TIMEOUT:S(on,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case hT.HTTP_ERROR:const d=u.getStatus();if(S(on,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(on,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=l0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fue(),a=pue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new yue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(on,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new vle({ro:y=>{f?S(on,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(on,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,C=>{try{_(C)}catch(P){setTimeout(()=>{throw P},0)}})};return m(d,lg.EventType.OPEN,()=>{f||S(on,`RPC '${e}' stream ${i} transport opened.`)}),m(d,lg.EventType.CLOSE,()=>{f||(f=!0,S(on,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,lg.EventType.ERROR,y=>{f||(f=!0,_r(on,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,lg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];U(!!_);const P=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(P){S(on,`RPC '${e}' stream ${i} received error:`,P);const V=P.status;let ae=function(Pi){const Ru=pt[Pi];if(void 0!==Ru)return h$(Ru)}(V),mt=P.message;void 0===ae&&(ae=I.INTERNAL,mt="Unknown error status: "+V+" with message "+P.message),f=!0,p.wo(new b(ae,mt)),d.close()}else S(on,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,mue.STAT_EVENT,y=>{y.stat===sB.PROXY?S(on,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===sB.NOPROXY&&S(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function zg(){return typeof document<"u"?document:null}function yd(t){return new Mce(t,!0)}class d0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new d0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(it(n.toString()),it("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ile extends vj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Rce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:h$(u.code);return new b(c,u.message||"")}(o);n=new y$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=qr(t,r.document.name),s=ot(r.document.updateTime),o=r.document.createTime?ot(r.document.createTime):B.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=Oe.newFoundDocument(i,s,o,a);n=new Mg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=qr(t,r.document),s=r.readTime?ot(r.readTime):B.min(),o=Oe.newNoDocument(i,s);n=new Mg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=qr(t,r.document);n=new Mg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Dce(i,s);n=new m$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?ot(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ad(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ig(a)?{documents:S$(i,a)}:{query:$T(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=I$(i,s.resumeToken);const u=LT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=hu(i,s.snapshotVersion.toTimestamp());const u=LT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Pce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ad(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ele extends vj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function kce(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=ot(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=ot(i)),new vce(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ad(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function ud(t,e){let n;if(e instanceof lu)n={update:b$(t,e.key,e.value)};else if(e instanceof du)n={delete:od(t,e.key)};else if(e instanceof Ni)n={update:b$(t,e.key,e.data),updateMask:Vce(e.fieldMask)};else{if(!(e instanceof NT))return F();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof uu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class Dle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ble{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(it(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Tle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ws(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield _u(l),l.bu.set("Unknown"),l.vu.delete(4),yield _d(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new ble(r,i)}}function _d(t){return f0.apply(this,arguments)}function f0(){return f0=g(function*(t){if(ws(t))for(const e of t.Ru)yield e(!0)}),f0.apply(this,arguments)}function _u(t){return p0.apply(this,arguments)}function p0(){return p0=g(function*(t){for(const e of t.Ru)yield e(!1)}),p0.apply(this,arguments)}function qg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),y0(n)?m0(n):wu(n).Ko()&&g0(n,e))}function vd(t,e){const n=x(t),r=wu(n);n.Au.delete(e),r.Ko()&&wj(n,e),0===n.Au.size&&(r.Ko()?r.jo():ws(n)&&n.bu.set("Unknown"))}function g0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wu(t).su(e)}function wj(t,e){t.Vu.qt(e),wu(t).iu(e)}function m0(t){t.Vu=new bce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.bu.gu()}function y0(t){return ws(t)&&!wu(t).Uo()&&t.Au.size>0}function ws(t){return 0===x(t).vu.size}function Ij(t){t.Vu=void 0}function Sle(t){return _0.apply(this,arguments)}function _0(){return _0=g(function*(t){t.Au.forEach((e,n)=>{g0(t,e)})}),_0.apply(this,arguments)}function Ale(t,e){return v0.apply(this,arguments)}function v0(){return v0=g(function*(t,e){Ij(t),y0(t)?(t.bu.Iu(e),m0(t)):t.bu.set("Unknown")}),v0.apply(this,arguments)}function Mle(t,e,n){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof y$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wg(t,r)}else if(e instanceof Mg?t.Vu.Ht(e):e instanceof m$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield cj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),wj(i,a);const l=new Ri(c.target,a,u,c.sequenceNumber);g0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Wg(t,r)}var r}),w0.apply(this,arguments)}function Wg(t,e,n){return I0.apply(this,arguments)}function I0(){return I0=g(function*(t,e,n){if(!cs(e))throw e;t.vu.add(1),yield _u(t),t.bu.set("Offline"),n||(n=()=>cj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield _d(t)}))}),I0.apply(this,arguments)}function Ej(t,e){return e().catch(n=>Wg(t,n,e))}function vu(t){return E0.apply(this,arguments)}function E0(){return E0=g(function*(t){const e=x(t),n=Is(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;xle(e);)try{const i=yield ple(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Nle(e,i)}catch(i){yield Wg(e,i)}Dj(e)&&Cj(e)}),E0.apply(this,arguments)}function xle(t){return ws(t)&&t.Eu.length<10}function Nle(t,e){t.Eu.push(e);const n=Is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Dj(t){return ws(t)&&!Is(t).Uo()&&t.Eu.length>0}function Cj(t){Is(t).start()}function Rle(t){return D0.apply(this,arguments)}function D0(){return D0=g(function*(t){Is(t).hu()}),D0.apply(this,arguments)}function kle(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){const e=Is(t);for(const n of t.Eu)e.uu(n.mutations)}),C0.apply(this,arguments)}function Ple(t,e,n){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t,e,n){const r=t.Eu.shift(),i=kT.from(r,e,n);yield Ej(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),b0.apply(this,arguments)}function Ole(t,e){return T0.apply(this,arguments)}function T0(){return T0=g(function*(t,e){var n;e&&Is(t).ou&&(yield(n=g(function*(r,i){if(function d$(t){switch(t){default:return F();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Is(r).Qo(),yield Ej(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield vu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),Dj(t)&&Cj(t)}),T0.apply(this,arguments)}function bj(t,e){return S0.apply(this,arguments)}function S0(){return S0=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=ws(n);n.vu.add(3),yield _u(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield _d(n)}),S0.apply(this,arguments)}function M0(){return M0=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield _d(n)):e||(n.vu.add(2),yield _u(n),n.bu.set("Unknown"))}),M0.apply(this,arguments)}function wu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Ile(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Sle.bind(null,t),ao:Ale.bind(null,t),nu:Mle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),y0(t)?m0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Ij(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Is(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Ele(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Rle.bind(null,t),ao:Ole.bind(null,t),au:kle.bind(null,t),cu:Ple.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield vu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class x0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new x0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(t,e){if(it("AsyncQueue",`${e}: ${t}`),cs(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Eu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Tj{constructor(){this.Cu=new Re(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Du{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Du(e,n,Eu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Fle{constructor(){this.Nu=void 0,this.listeners=[]}}class Lle{constructor(){this.queries=new xi(e=>qB(e),Xl),this.onlineState="Unknown",this.ku=new Set}}function R0(){return R0=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fle),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Iu(o,`Initialization of query '${MT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&O0(n)}),R0.apply(this,arguments)}function P0(){return P0=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),P0.apply(this,arguments)}function Vle(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&O0(n)}function Ule(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function O0(t){t.ku.forEach(e=>{e.next()})}class F0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mj{constructor(e){this.key=e}}class xj{constructor(e){this.key=e}}class Nj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ie(),this.mutatedKeys=ie(),this.tc=KB(e),this.ec=new Eu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Tj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Jl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Du(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ie(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new xj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Mj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ie();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Du.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class jle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hle{constructor(e){this.key=e,this.fc=!1}}class Gle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new xi(a=>qB(a),Xl),this._c=new Map,this.mc=new Set,this.gc=new Re(M.comparator),this.yc=new Map,this.Ic=new QT,this.Tc={},this.Ec=new Map,this.Ac=Mo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function zle(t,e){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t,e){const n=function oS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ede.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kle.bind(null,e),e.dc.nu=Vle.bind(null,e.eventManager),e.dc.Pc=Ule.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function mu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,_n(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function V0(t,e,n,r,i){return U0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&qg(n.remoteStore,o)}return i}),L0.apply(this,arguments)}function U0(){return U0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let C=y.view.sc(w);C.zi&&(C=yield $g(m.localStore,y.query,!1).then(({documents:ae})=>y.view.sc(ae,C)));const P=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(C,m.isPrimaryClient,P);return Q0(m,y.targetId,V.cc),V.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield $g(t.localStore,e,!0),o=new Nj(e,s.ir),a=o.sc(s.documents),u=sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Q0(t,n,c.cc);const l=new jle(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),U0.apply(this,arguments)}function qle(t,e){return B0.apply(this,arguments)}function B0(){return B0=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Xl(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vd(n.remoteStore,r.targetId),Cu(n,r.targetId)}).catch(us))):(Cu(n,r.targetId),yield yu(n.localStore,r.targetId,!0))}),B0.apply(this,arguments)}function $0(){return $0=g(function*(t,e,n){const r=function aS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yle.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=ze.now(),c=o.reduce((h,f)=>h.add(f.key),ie());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Rn(),p=ie();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of o){const _=Ice(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ni(w.key,_,RB(_.value.mapValue),Be.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:YB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Re(Y)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ki(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");n.reject(s)}}),$0.apply(this,arguments)}function Rj(t,e){return j0.apply(this,arguments)}function j0(){return j0=g(function*(t,e){const n=x(t);try{const r=yield function fle(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Rn(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function lj(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield ki(n,r,e)}catch(r){yield us(r)}}),j0.apply(this,arguments)}function kj(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&O0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kle(t,e,n){return H0.apply(this,arguments)}function H0(){return H0=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Re(M.comparator);o=o.insert(s,Oe.newNoDocument(s,B.min()));const a=ie().add(s),u=new id(B.min(),new Map,new Re(Y),o,a);yield Rj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),Y0(r)}else yield yu(r.localStore,e,!1).then(()=>Cu(r,e,n)).catch(us)}),H0.apply(this,arguments)}function Qle(t,e){return G0.apply(this,arguments)}function G0(){return G0=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function hle(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);K0(n,r,null),W0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ki(n,i)}catch(i){yield us(i)}}),G0.apply(this,arguments)}function Yle(t,e,n){return z0.apply(this,arguments)}function z0(){return z0=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);K0(r,e,n),W0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ki(r,i)}catch(i){yield us(i)}}),z0.apply(this,arguments)}function W0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function K0(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Pj(t,r)})}function Pj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(vd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Y0(t))}function Q0(t,e,n){for(const r of n)r instanceof Mj?(t.Ic.addReference(r.key,e),Jle(t,r)):r instanceof xj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Pj(t,r.key)):F()}function Jle(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),Y0(t))}function Y0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Hle(n)),t.gc=t.gc.insert(n,r),qg(t.remoteStore,new Ri(_n(au(n.path)),r,"TargetPurposeLimboResolution",zn.ct))}}function ki(t,e,n){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=e0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!cs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),X0.apply(this,arguments)}function Zle(t,e){return J0.apply(this,arguments)}function J0(){return J0=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield uj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ki(n,r.er)}var i}),J0.apply(this,arguments)}function ede(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ie().add(r.key);{let i=ie();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Kg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function aj(t,e,n,r){return new dle(t,e,n,r)}(this.persistence,new oj,e.initialUser,this.serializer)}createPersistence(e){return new YT(Vg.zs,this.serializer)}createSharedClientState(e){return new mj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Zle.bind(null,r.syncEngine),yield function A0(t,e){return M0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lle}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=new wle(e.databaseInfo);return new Dle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>kj(this.syncEngine,a,0),o=yj.D()?new yj:new yle,new Tle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Gle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield _u(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Qg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class fde{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=cB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Yg(t,e){return uS.apply(this,arguments)}function uS(){return uS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield uj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),uS.apply(this,arguments)}function cS(t,e){return lS.apply(this,arguments)}function lS(){return lS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function dS(t){return hS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>bj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bj(e.remoteStore,s)),t._onlineComponents=e}),lS.apply(this,arguments)}function hS(){return hS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Bj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;_r("Error using user provided cache. Falling back to memory cache: "+n),yield Yg(t,new Kg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Yg(t,new Kg);return t._offlineComponents}),hS.apply(this,arguments)}function Xg(t){return fS.apply(this,arguments)}function fS(){return fS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield cS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield cS(t,new bu))),t._onlineComponents}),fS.apply(this,arguments)}function gS(){return gS=g(function*(t){const e=yield Xg(t),n=e.eventManager;return n.onListen=zle.bind(null,e.syncEngine),n.onUnlisten=qle.bind(null,e.syncEngine),n}),gS.apply(this,arguments)}function zj(t,e,n={}){const r=new Et;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Qg({next:d=>{s.enqueueAndForget(()=>function k0(t,e){return P0.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new F0(o,c,{includeMetadataChanges:!0,Ku:!0});return function N0(t,e){return R0.apply(this,arguments)}(i,l)}(yield function Tu(t){return gS.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function qj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Wj=new Map;function mS(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kj(t){if(!M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qj(t){if(M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Xj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ede(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new wue;switch(n.type){case"firstParty":return new Cue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Wj.delete(e),n.terminate())}(this),Promise.resolve()}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Wr extends Wt{constructor(e,n,r){super(e,n,au(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new M(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Cde(t,e,...n){if(t=pn(t),mS("collection","path",e),t instanceof wd){const r=pe.fromString(e,...n);return Qj(r),new Wr(t,null,r)}{if(!(t instanceof at||t instanceof Wr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Qj(r),new Wr(t.firestore,null,r)}}class Tde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new d0(this,"async_queue_retry"),this.Xc=()=>{const n=zg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=zg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=zg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!cs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,it("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=x0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Fe extends wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zj(this),this._firestoreClient.terminate()}}function Ade(t,e){const r="string"==typeof t?t:e||"(default)",i=Ua("object"==typeof t?t:Hw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=BF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Dde(t,e,n,r={}){var i;const s=(t=he(t,wd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&_r("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=kt.MOCK_USER;else{o=function LJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yf(JSON.stringify({alg:"none",type:"JWT"})),Yf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(u)}t._authCredentials=new Iue(new aB(o,a))}}(i,...s)}return i}function gt(t){return t._firestoreClient||Zj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Zj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ece(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new fde(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Dt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nH{constructor(e){this._methodName=e}}class _S{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const xde=/^__.*__$/;class Nde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}function iH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class em{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(iH(this.ca)&&xde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Rde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}ya(e,n,r,i=!1){return new em({ca:e,methodName:n,ga:r,path:st.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(t){const e=t._freezeSettings(),n=yd(t._databaseId);return new Rde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);IS("Data must be an object, but it was:",o,r);const a=cH(r,o);let u,c;if(s.merge)u=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Dd(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dH(l,h)||l.push(h)}u=new Nn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Nde(new qt(a),u,c)}function Ro(t,e){if(lH(t=pn(t)))return IS("Unsupported field value:",e,t),cH(t,e);if(t instanceof nH)return function(n,r){if(!iH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ro(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=pn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return e$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=ze.fromDate(n);return{timestampValue:hu(r.serializer,i)}}if(n instanceof ze){const i=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hu(r.serializer,i)}}if(n instanceof _S)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof No)return{bytesValue:I$(r.serializer,n._byteString)};if(n instanceof at){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Zg(n)}`)}(t,e)}function cH(t,e){const n={};return DB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=Ro(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function lH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof _S||t instanceof No||t instanceof at||t instanceof nH)}function IS(t,e,n){if(!lH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Zg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Dd(t,e,n){if((e=pn(e))instanceof Su)return e._internalPath;if("string"==typeof e)return tm(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fde=new RegExp("[~\\*/\\[\\]]");function tm(t,e,n){if(e.search(Fde)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Su(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function dH(t,e){return t.some(n=>n.isEqual(e))}class ES{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Lde extends ES{data(){return super.data()}}function rm(t,e){return"string"==typeof e?tm(t,e):e instanceof Su?e._internalPath:e._delegate._internalPath}class Ude{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _S(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=ds(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);U(N$(r));const i=new _o(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||it(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends ES{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class am extends xu{data(e={}){return super.data(e)}}class Nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new am(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new am(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ko(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new am(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ko(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:$de(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $de(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Es extends Ude{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function jde(t){t=he(t,Wt);const e=he(t.firestore,Fe),n=gt(e),r=new Es(e);return function hH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),zj(n,t._query).then(i=>new Nu(e,r,t,i))}function Hde(t,e){const n=he(t.firestore,Fe),r=function bde(t,e,...n){if(t=pn(t),1===arguments.length&&(e=cB.A()),mS("doc","path",e),t instanceof wd){const r=pe.fromString(e,...n);return Kj(r),new at(t,null,new M(r))}{if(!(t instanceof at||t instanceof Wr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Kj(r),new at(t.firestore,t instanceof Wr?t.converter:null,new M(r))}}(t),i=function CS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function bd(t,e){return function(n,r){const i=new Et;return n.asyncQueue.enqueueAndForget(g(function*(){return function Wle(t,e,n){return $0.apply(this,arguments)}(yield function pS(t){return Xg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(gt(t),e)}(n,[vS(Au(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Be.exists(!1))]).then(()=>r)}!function(t,e=!0){tu=to,gn(new en("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fe(new Eue(n.getProvider("auth-internal")),new bue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Xe(oB,"3.12.0",t),Xe(oB,"3.12.0","esm2017")}();class cm{constructor(e){return e}}const wH="firestore",TS=new L("angularfire2.firestore-instances");function rhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new cm(r)}}const ihe={provide:class the{constructor(){return zE(wH)}},deps:[[new ln,TS]]},she={provide:cm,useFactory:function nhe(t,e){const n=GE(wH,t,e);return n&&new cm(n)},deps:[[new ln,TS],Ha]};let ohe=(()=>{class t{constructor(){Xe("angularfire",dp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t}),t.\u0275inj=an({providers:[she,ihe]}),t})();function ahe(t,...e){return{ngModule:ohe,providers:[{provide:TS,useFactory:rhe(t),multi:!0,deps:[Te,Bn,qE,WE,[new ln,U2],[new ln,gD],...e]}]}}const uhe=es(Hde,!0),IH=es(Cde,!0),che=es(jde,!0),lhe=es(Ade,!0);let EH=(()=>{class t{constructor(n){this.db=n,this.supplierList=[],this.supplierDocumentList=[]}createSupplier(n){var r=this;return g(function*(){try{yield uhe(IH(r.db,"suppliers"),{name:n.name,address:n.address,contactNumber:n.contactNumber,contactEmail:n.contactEmail}),console.log("Supplier data added.")}catch(i){console.error("Error adding data.",i)}})()}fetchData(){var n=this;return g(function*(){try{(yield che(IH(n.db,"suppliers"))).forEach(i=>{n.supplierList.push(i.data()),n.supplierDocumentList.push(i)})}catch(r){console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)($(cm))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dhe(t,e){if(1&t){const n=$h();ya(0),ue(1,"div",3)(2,"form",4),lt("ngSubmit",function(){return Kd(n),Qd(Ls().submitAddSupplier())}),ue(3,"div",5),St(4,"app-input",6),se(),ue(5,"div",5),St(6,"app-input",7),se(),ue(7,"div",5),St(8,"app-input",8),se(),ue(9,"div",5),St(10,"app-input",9),se(),St(11,"hr"),ue(12,"button",10),xe(13," Submit "),se()()(),_a()}if(2&t){const n=Ls();Le(2),Ke("formGroup",n.supplierForm),Le(2),Ke("control",n.name),Le(2),Ke("control",n.address),Le(2),Ke("control",n.contactNumber),Le(2),Ke("control",n.contactEmail),Le(2),Ke("disabled",n.supplierForm.invalid)}}function hhe(t,e){if(1&t){const n=$h();ya(0),ue(1,"div",11)(2,"div",12)(3,"h1",13),xe(4,"Supplier Name:"),se(),ue(5,"p",14),xe(6),se()(),ue(7,"div",12)(8,"h1",13),xe(9,"Supplier Address:"),se(),ue(10,"p",14),xe(11),se()(),ue(12,"div",12)(13,"h1",13),xe(14,"Contact Number:"),se(),ue(15,"p",14),xe(16),se()(),ue(17,"div",12)(18,"h1",13),xe(19,"Contact Email:"),se(),ue(20,"p",14),xe(21),se()(),ue(22,"div",15)(23,"a",16),lt("click",function(i){return Kd(n),Qd(Ls().deleteSupplier(i))}),xe(24," Delete Supplier"),se()()(),_a()}if(2&t){const n=Ls();Le(6),Us(n.supplierName),Le(5),Us(n.supplierAddress),Le(5),Us(n.supplierNumber),Le(5),Us(n.supplierEmail)}}let fhe=(()=>{class t{constructor(n,r){this.modal=n,this.masterlistService=r,this.supplierModalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber="",this.supplierEmail="",this.name=new Zn(""),this.address=new Zn(""),this.contactNumber=new Zn(""),this.contactEmail=new Zn(""),this.pricePerUnit=new Zn(""),this.moq=new Zn(""),this.item=new Gs({pricePerUnit:this.pricePerUnit,moq:this.moq}),this.itemName=new Zn(""),this.items=new Gs({item:this.item}),this.methodOfPayment=new MO([]),this.supplierForm=new Gs({name:this.name,address:this.address,contactNumber:this.contactNumber,contactEmail:this.contactEmail})}ngOnInit(){this.modal.register("supplier")}ngOnDestroy(){this.modal.unregister("supplier")}submitAddSupplier(){var n=this;return g(function*(){try{yield n.masterlistService.createSupplier(n.supplierForm.value),location.reload()}catch(r){return void console.error(r)}})()}deleteSupplier(n){return g(function*(){n.preventDefault(),console.log("deleteSupplier called")})()}}return t.\u0275fac=function(n){return new(n||t)(D(Il),D(EH))},t.\u0275cmp=Zr({type:t,selectors:[["app-supplier"]],inputs:{supplierModalTitle:"supplierModalTitle",supplierAction:"supplierAction",supplierName:"supplierName",supplierAddress:"supplierAddress",supplierNumber:"supplierNumber",supplierEmail:"supplierEmail"},decls:5,vars:3,consts:[["modalID","supplier"],["heading","",1,"text-xl","font-bold"],[4,"ngIf"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["type","text","placeholder","Supplier Name",3,"control"],["type","text","placeholder","Address",3,"control"],["type","text","placeholder","Contact Number",3,"control"],["type","email","placeholder","Contact Email",3,"control"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"],[1,"flex","flex-col","w-64"],[1,"flex","flex-col","align-middle","justify-between"],[1,"font-bold","pb-1"],[1,"pb-4","font-light"],[1,"flex","justify-center","align-middle"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(ue(0,"app-modal",0)(1,"p",1),xe(2),se(),ui(3,dhe,14,6,"ng-container",2),ui(4,hhe,25,4,"ng-container",2),se()),2&n&&(Le(2),Us(r.supplierModalTitle),Le(1),Ke("ngIf","isAdd"===r.supplierAction),Le(1),Ke("ngIf","isView"===r.supplierAction))},dependencies:[mf,B2,Eb,Rf,Df,Lc]}),t})();function phe(t,e){if(1&t){const n=$h();ue(0,"li",16),lt("click",function(){const s=Kd(n).$implicit;return Qd(Ls().viewSupplier(s))}),xe(1),function f1(t,e){const n=fe();let r;const i=t+le;n.firstCreatePass?(r=function B9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xs(r.type)),o=vn(D);try{const a=nh(!1),u=s();return nh(a),function D6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{vn(o)}}(2,"uppercase"),se()}if(2&t){const n=e.$implicit;Le(1),zh(" ",p1(2,1,n.name)," ")}}let ghe=(()=>{class t{constructor(n,r=O(Ci),i){this.modal=n,this.auth=r,this.masterlistService=i,this.modalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber="",this.supplierEmail=""}ngOnInit(){var n=this;return g(function*(){yield n.masterlistService.fetchData()})()}addSupplier(){this.modalTitle="Add Supplier",this.modal.toggleModal("supplier"),this.supplierAction="isAdd"}viewSupplier(n){this.modalTitle="Supplier Details",this.modal.toggleModal("supplier"),this.supplierAction="isView",this.supplierName=n.name,this.supplierAddress=n.address,this.supplierNumber=n.contactNumber,this.supplierEmail=n.contactEmail}logout(n){var r=this;return g(function*(){n.preventDefault(),yield oae(r.auth),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Il),D(Ci),D(EH))},t.\u0275cmp=Zr({type:t,selectors:[["app-masterlist"]],decls:30,vars:7,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow"],[1,"font-bold","pb-1","text-center","text-xl"],[1,"flex","justify-center","align-middle"],["type","search","placeholder","Search item or supplier",1,"w-full"],["type","submit",1,"bg-blue-500","hover:bg-blue-600","text-white","w-20"],[1,"flex","justify-around","align-middle","py-2"],[1,"mr-2"],["type","radio"],[1,"mb-2"],[1,"flex","justify-center","align-middle","mb-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","p-0.5","w-1/2",3,"click"],[1,"flex","flex-col"],["class","flex justify-center align-middle mb-2 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[3,"supplierModalTitle","supplierAction","supplierName","supplierAddress","supplierNumber","supplierEmail"],[1,"flex","justify-center","align-middle","mb-2","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(ue(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),xe(4,"Supplier Masterlist"),se(),ue(5,"form")(6,"div",3),St(7,"app-input",4),ue(8,"button",5),xe(9," Search "),se()(),ue(10,"div",6)(11,"div")(12,"label",7),xe(13,"Supplier"),se(),St(14,"input",8),se(),ue(15,"div")(16,"label",7),xe(17,"Item"),se(),St(18,"input",8),se()()()(),St(19,"hr",9),ue(20,"div",10)(21,"button",11),lt("click",function(){return r.addSupplier()}),xe(22," Add Supplier "),se()(),ue(23,"div",12)(24,"ul"),ui(25,phe,3,3,"li",13),se()()(),ue(26,"div",3)(27,"a",14),lt("click",function(s){return r.logout(s)}),xe(28,"Log Out"),se()(),St(29,"app-supplier",15),se()),2&n&&(Le(25),Ke("ngForOf",r.masterlistService.supplierList),Le(4),Ke("supplierModalTitle",r.modalTitle)("supplierAction",r.supplierAction)("supplierName",r.supplierName)("supplierAddress",r.supplierAddress)("supplierNumber",r.supplierNumber)("supplierEmail",r.supplierEmail))},dependencies:[Kk,Eb,Rf,Df,fhe,Jk]}),t})();function mhe(t,e){1&t&&(ue(0,"div"),St(1,"app-home")(2,"app-auth-modal"),se())}function yhe(t,e){1&t&&St(0,"app-masterlist")}let _he=(()=>{class t{constructor(n){this.auth=n,this.title="ffc-ipad"}}return t.\u0275fac=function(n){return new(n||t)(D(aae))},t.\u0275cmp=Zr({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authMasterlist",""]],template:function(n,r){if(1&n&&(ui(0,mhe,3,0,"div",0),ui(1,yhe,1,0,"ng-template",null,1,N1)),2&n){const i=function bN(t){return Ho(function _4(){return q.lFrame.contextLView}(),le+t)}(2);Ke("ngIf",!r.auth.isAuthenticated)("ngIfElse",i)}},dependencies:[mf,uae,gae,ghe]}),t})();const DH_firebase={apiKey:"AIzaSyDSC0bjZyz5JeKdGzDXf9rwsRHoh4_C9So",authDomain:"ffc-ipad.firebaseapp.com",projectId:"ffc-ipad",storageBucket:"ffc-ipad.appspot.com",messagingSenderId:"444173880131",appId:"1:444173880131:web:262b35ec914939335fbdf6"};let vhe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=wn({type:t,bootstrap:[_he]}),t.\u0275inj=an({imports:[zK,bJ,eY,xO,Ire(()=>Ere(DH_firebase)),rae(()=>iae()),ahe(()=>lhe())]}),t})();const Ihe=L2(jw(DH_firebase));let CH=!1;Ihe.onAuthStateChanged(()=>{CH||HK().bootstrapModule(vhe).catch(t=>console.error(t)),CH=!0})}},be=>{be(be.s=114)}]);