"use strict";(self.webpackChunkffc_ipad=self.webpackChunkffc_ipad||[]).push([[179],{114:()=>{function Ae(t){return"function"==typeof t}function Uu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const kd=Uu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Bs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof kd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{VS(o)}catch(s){e=e??[],s instanceof kd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VS(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bs(n,e)}remove(e){const{_finalizers:n}=this;n&&Bs(n,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const t=new Ln;return t.closed=!0,t})();const FS=Ln.EMPTY;function LS(t){return t instanceof Ln||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function VS(t){Ae(t)?t():t.unsubscribe()}const No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pd={setTimeout(t,e,...n){const{delegate:r}=Pd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Pd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function US(t){Pd.setTimeout(()=>{const{onUnhandledError:e}=No;if(!e)throw t;e(t)})}function BS(){}const TH=ym("C",void 0,void 0);function ym(t,e,n){return{kind:t,value:e,error:n}}let Ro=null;function Od(t){if(No.useDeprecatedSynchronousErrorHandling){const e=!Ro;if(e&&(Ro={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ro;if(Ro=null,n)throw r}}else t()}class _m extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,LS(e)&&e.add(this)):this.destination=kH}static create(e,n,r){return new Bu(e,n,r)}next(e){this.isStopped?wm(function AH(t){return ym("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wm(function SH(t){return ym("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wm(TH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xH=Function.prototype.bind;function vm(t,e){return xH.call(t,e)}class NH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fd(r)}else Fd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fd(n)}}}class Bu extends _m{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&No.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vm(e.next,o),error:e.error&&vm(e.error,o),complete:e.complete&&vm(e.complete,o)}):i=e}this.destination=new NH(i)}}function Fd(t){No.useDeprecatedSynchronousErrorHandling?function MH(t){No.useDeprecatedSynchronousErrorHandling&&Ro&&(Ro.errorThrown=!0,Ro.error=t)}(t):US(t)}function wm(t,e){const{onStoppedNotification:n}=No;n&&Pd.setTimeout(()=>n(t,e))}const kH={closed:!0,next:BS,error:function RH(t){throw t},complete:BS},Im="function"==typeof Symbol&&Symbol.observable||"@@observable";function ko(t){return t}function $S(t){return 0===t.length?ko:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function FH(t){return t&&t instanceof _m||function OH(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&LS(t)}(n)?n:new Bu(n,r,i);return Od(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=jS(r))((i,o)=>{const s=new Bu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Im](){return this}pipe(...n){return $S(n)(this)}toPromise(n){return new(n=jS(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function jS(t){var e;return null!==(e=t??No.Promise)&&void 0!==e?e:Promise}const LH=Uu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ei=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new HS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new LH}next(n){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?FS:(this.currentObservers=null,o.push(n),new Ln(()=>{this.currentObservers=null,Bs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new HS(e,n),t})();class HS extends ei{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:FS}}function GS(t){return Ae(t?.lift)}function Lt(t){return e=>{if(GS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(t,e,n,r,i){return new VH(t,e,n,r,i)}class VH extends _m{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(t,e){return Lt((n,r)=>{let i=0;n.subscribe(Tt(r,o=>{r.next(t.call(e,o,i++))}))})}function qS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Po(t){return this instanceof Po?(this.v=t,this):new Po(t)}function jH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function KS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}const QS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function YS(t){return Ae(t?.then)}function XS(t){return Ae(t[Im])}function JS(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function ZS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const eA=function GH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tA(t){return Ae(t?.[eA])}function nA(t){return function $H(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Po?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Po(n.read());if(i)return yield Po(void 0);yield yield Po(r)}}finally{n.releaseLock()}})}function rA(t){return Ae(t?.getReader)}function ar(t){if(t instanceof Qe)return t;if(null!=t){if(XS(t))return function zH(t){return new Qe(e=>{const n=t[Im]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(QS(t))return function qH(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(YS(t))return function WH(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,US)})}(t);if(JS(t))return iA(t);if(tA(t))return function KH(t){return new Qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(rA(t))return function QH(t){return iA(nA(t))}(t)}throw ZS(t)}function iA(t){return new Qe(e=>{(function YH(t,e){var n,r,i,o;return function UH(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jH(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ti(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Vt(t,e,n=1/0){return Ae(e)?Vt((r,i)=>xe((o,s)=>e(r,o,i,s))(ar(t(r,i))),n):("number"==typeof e&&(n=e),Lt((r,i)=>function XH(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let y=!1;ar(n(m,l++)).subscribe(Tt(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();s?ti(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function $s(t=1/0){return Vt(ko,t)}const br=new Qe(t=>t.complete());function Dm(t){return t[t.length-1]}function oA(t){return Ae(Dm(t))?t.pop():void 0}function $u(t){return function ZH(t){return t&&Ae(t.schedule)}(Dm(t))?t.pop():void 0}function Ld(t,e=0){return Lt((n,r)=>{n.subscribe(Tt(r,i=>ti(r,t,()=>r.next(i),e),()=>ti(r,t,()=>r.complete(),e),i=>ti(r,t,()=>r.error(i),e)))})}function Vd(t,e=0){return Lt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{ti(n,e,()=>{const r=t[Symbol.asyncIterator]();ti(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(t,e){return e?function sG(t,e){if(null!=t){if(XS(t))return function tG(t,e){return ar(t).pipe(Vd(e),Ld(e))}(t,e);if(QS(t))return function rG(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(YS(t))return function nG(t,e){return ar(t).pipe(Vd(e),Ld(e))}(t,e);if(JS(t))return sA(t,e);if(tA(t))return function iG(t,e){return new Qe(n=>{let r;return ti(n,e,()=>{r=t[eA](),ti(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(rA(t))return function oG(t,e){return sA(nA(t),e)}(t,e)}throw ZS(t)}(t,e):ar(t)}function Cm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Bu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function bm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Tm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const cG=De({__forward_ref__:De});function Re(t){return t.__forward_ref__=Re,t.toString=function(){return vt(this())},t}function Z(t){return Sm(t)?t():t}function Sm(t){return"function"==typeof t&&t.hasOwnProperty(cG)&&t.__forward_ref__===Re}function Am(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function Mm(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function Ud(t,e){throw new T(-201,!1)}function Yn(t,e){null==t&&function Ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bd(t){return uA(t,$d)||uA(t,lA)}function uA(t,e){return t.hasOwnProperty(e)?t[e]:null}function cA(t){return t&&(t.hasOwnProperty(xm)||t.hasOwnProperty(yG))?t[xm]:null}const $d=De({\u0275prov:De}),xm=De({\u0275inj:De}),lA=De({ngInjectableDef:De}),yG=De({ngInjectorDef:De});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let Nm;function En(t){const e=Nm;return Nm=t,e}function hA(t,e,n){const r=Bd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void Ud(vt(t))}const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ju={},Rm="__NG_DI_FLAG__",jd="ngTempTokenPath",vG=/\n/gm,fA="__source";let js;function ji(t){const e=js;return js=t,e}function EG(t,e=q.Default){if(void 0===js)throw new T(-203,!1);return null===js?hA(t,void 0,e):js.get(t,e&q.Optional?null:void 0,e)}function H(t,e=q.Default){return(function dA(){return Nm}()||EG)(Z(t),e)}function L(t,e=q.Default){return H(t,Hd(e))}function Hd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function km(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){const a=r[s],u=DG(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function Hu(t,e){return t[Rm]=e,t.prototype[Rm]=e,t}function DG(t){return t[Rm]}function ni(t){return{toString:t}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Un=(()=>{return(t=Un||(Un={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Un;var t})();const ri={},ve=[],Gd=De({\u0275cmp:De}),Pm=De({\u0275dir:De}),Om=De({\u0275pipe:De}),gA=De({\u0275mod:De}),ii=De({\u0275fac:De}),Gu=De({__NG_ELEMENT_ID__:De}),mA=De({__NG_ENV_ID__:De});function yA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Fm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];vA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _A(t){return 3===t||4===t||6===t}function vA(t){return 64===t.charCodeAt(0)}function zu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const IA="ng-template";function TG(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==yA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function EA(t){return 4===t.type&&t.value!==IA}function SG(t,e,n){return e===(4!==t.type||n?t.value:IA)}function AG(t,e,n){let r=4;const i=t.attrs||[],o=function NG(t){for(let e=0;e<t.length;e++)if(_A(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!SG(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!TG(t.attrs,c,n)){if(ur(r))return!1;s=!0}continue}const d=MG(8&r?"class":u,i,EA(t),n);if(-1===d){if(ur(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yA(f,c,0)||2&r&&c!==h){if(ur(r))return!1;s=!0}}}}else{if(!s&&!ur(r)&&!ur(u))return!1;if(s&&ur(u))continue;s=!1,r=u|1&r}}return ur(r)||s}function ur(t){return 0==(1&t)}function MG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function RG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function DA(t,e,n=!1){for(let r=0;r<e.length;r++)if(AG(t,e[r],n))return!0;return!1}function kG(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function CA(t,e){return t?":not("+e.trim()+")":e}function PG(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ur(s)&&(e+=CA(o,i),i=""),r=s,o=o||!ur(r);n++}return""!==i&&(e+=CA(o,i)),e}function oi(t){return ni(()=>{const e=TA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};SA(n);const r=t.dependencies;return n.directiveDefs=zd(r,!1),n.pipeDefs=zd(r,!0),n.id=function jG(t){let e=0;const n=JSON.stringify([t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,t.inputs,t.outputs,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery]);for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function VG(t){return we(t)||Yt(t)}function UG(t){return null!==t}function ln(t){return ni(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bA(t,e){if(null==t)return ri;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function X(t){return ni(()=>{const e=TA(t);return SA(e),e})}function Dn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Gd]||null}function Yt(t){return t[Pm]||null}function Cn(t){return t[Om]||null}function Bn(t,e){const n=t[gA]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function TA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bA(t.inputs,e),outputs:bA(t.outputs)}}function SA(t){t.features?.forEach(e=>e(t))}function zd(t,e){if(!t)return null;const n=e?Cn:VG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(UG)}const wt=0,R=1,se=2,Ge=3,cr=4,Oo=5,Xt=6,Gs=7,Ye=8,zs=9,Fo=10,ie=11,qu=12,AA=13,qs=14,lt=15,Wu=16,Ws=17,Sr=18,Ku=19,MA=20,Hi=21,si=22,qd=23,Wd=24,fe=25,Lm=1,xA=2,Ar=7,Kd=8,Ks=9,Ut=11;function $n(t){return Array.isArray(t)&&"object"==typeof t[Lm]}function bn(t){return Array.isArray(t)&&!0===t[Lm]}function Vm(t){return 0!=(4&t.flags)}function Lo(t){return t.componentOffset>-1}function Qd(t){return 1==(1&t.flags)}function lr(t){return!!t.template}function Um(t){return 0!=(512&t[se])}function Vo(t,e){return t.hasOwnProperty(ii)?t[ii]:null}let WG=ke.WeakRef??class qG{constructor(e){this.ref=e}deref(){return this.ref}},QG=0,Mr=null,Yd=!1;function At(t){const e=Mr;return Mr=t,e}class OA{constructor(){this.id=QG++,this.ref=function KG(t){return new WG(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Yd;Yd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Yd=e}}producerAccessed(){if(Yd)throw new Error("");if(null===Mr)return;let e=Mr.producers.get(this.id);void 0===e?(e={consumerNode:Mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mr.trackingVersion},Mr.producers.set(this.id,e),this.consumers.set(Mr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let FA=null;const LA=()=>{};class ZG extends OA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=LA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=At(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=LA,this.watch(this.registerOnCleanup)}finally{At(e)}}cleanup(){this.cleanupFn()}}class e4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xn(){return VA}function VA(t){return t.type.prototype.ngOnChanges&&(t.setInput=n4),t4}function t4(){const t=BA(this),e=t?.current;if(e){const n=t.previous;if(n===ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function n4(t,e,n,r){const i=this.declaredInputs[n],o=BA(t)||function r4(t,e){return t[UA]=e}(t,{previous:ri,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new e4(u&&u.currentValue,e,a===ri),t[r]=e}Xn.ngInherit=!0;const UA="__ngSimpleChanges__";function BA(t){return t[UA]||null}const xr=function(t,e,n){};function Fe(t){for(;Array.isArray(t);)t=t[wt];return t}function Zd(t,e){return Fe(e[t])}function Tn(t,e){return Fe(e[t.index])}function HA(t,e){return t.data[e]}function Qs(t,e){return t[e]}function Sn(t,e){const n=e[t];return $n(n)?n:n[wt]}function eh(t){return 128==(128&t[se])}function Gi(t,e){return null==e?null:t[e]}function GA(t){t[Ws]=0}function c4(t){1024&t[se]||(t[se]|=1024,qA(t,1))}function zA(t){1024&t[se]&&(t[se]&=-1025,qA(t,-1))}function qA(t,e){let n=t[Ge];if(null===n)return;n[Oo]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[Oo]||-1===e&&0===r[Oo]);)n[Oo]+=e,r=n,n=n[Ge]}const Q={lFrame:rM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function QA(){return Q.bindingsEnabled}function Ys(){return null!==Q.skipHydrationRootTNode}function E(){return Q.lFrame.lView}function me(){return Q.lFrame.tView}function zi(t){return Q.lFrame.contextLView=t,t[Ye]}function qi(t){return Q.lFrame.contextLView=null,t}function Bt(){let t=YA();for(;null!==t&&64===t.type;)t=t.parent;return t}function YA(){return Q.lFrame.currentTNode}function Nr(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function zm(){return Q.lFrame.isParent}function qm(){Q.lFrame.isParent=!1}function dn(){const t=Q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xs(){return Q.lFrame.bindingIndex++}function I4(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wm(e)}function Wm(t){Q.lFrame.currentDirectiveIndex=t}function Qm(t){Q.lFrame.currentQueryIndex=t}function D4(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[Xt]:null}function tM(t,e,n){if(n&q.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=D4(o),null===i||(o=o[qs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Q.lFrame=nM();return r.currentTNode=e,r.lView=t,!0}function Ym(t){const e=nM(),n=t[R];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nM(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?rM(t):e}function rM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function iM(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const oM=iM;function Xm(){const t=iM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hn(){return Q.lFrame.selectedIndex}function Uo(t){Q.lFrame.selectedIndex=t}let aM=!0;function th(){return aM}function Wi(t){aM=t}function nh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function rh(t,e,n){uM(t,e,3,n)}function ih(t,e,n,r){(3&t[se])===n&&uM(t,e,n,r)}function Jm(t,e){let n=t[se];(3&n)===e&&(n&=4095,n+=1,t[se]=n)}function uM(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ws]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ws]+=65536),(a<o||-1==o)&&(N4(t,n,e,u),t[Ws]=(4294901760&t[Ws])+u+2),u++}function cM(t,e){xr(4,t,e);const n=At(null);try{e.call(t)}finally{At(n),xr(5,t,e)}}function N4(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[se]>>12<t[Ws]>>16&&(3&t[se])===e&&(t[se]+=4096,cM(a,o)):cM(a,o)}const Js=-1;class Xu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function lM(t){return t!==Js}function oh(t){return 32767&t}function sh(t,e){let n=function O4(t){return t>>16}(t),r=e;for(;n>0;)r=r[qs],n--;return r}let ey=!0;function ah(t){const e=ey;return ey=t,e}const dM=255,hM=5;let F4=0;const Rr={};function uh(t,e){const n=fM(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,ty(r.data,t),ty(e,null),ty(r.blueprint,null));const i=ny(t,e),o=t.injectorIndex;if(lM(i)){const s=oh(i),a=sh(i,e),u=a[R].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ty(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ny(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=wM(i),null===r)return Js;if(n++,i=i[qs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Js}function ry(t,e,n){!function L4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gu)&&(r=n[Gu]),null==r&&(r=n[Gu]=F4++);const i=r&dM;e.data[t+(i>>hM)]|=1<<i}(t,e,n)}function pM(t,e,n){if(n&q.Optional||void 0!==t)return t;Ud()}function gM(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),!(n&(q.Self|q.Host))){const i=t[zs],o=En(void 0);try{return i?i.get(e,r,n&q.Optional):hA(e,r,n&q.Optional)}finally{En(o)}}return pM(r,0,n)}function mM(t,e,n,r=q.Default,i){if(null!==t){if(2048&e[se]){const s=function j4(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[se]&&!(512&s[se]);){const a=yM(o,s,n,r|q.Self,Rr);if(a!==Rr)return a;let u=o.parent;if(!u){const c=s[MA];if(c){const l=c.get(n,Rr,r);if(l!==Rr)return l}u=wM(s),s=s[qs]}o=u}return i}(t,e,n,r,Rr);if(s!==Rr)return s}const o=yM(t,e,n,r,Rr);if(o!==Rr)return o}return gM(e,n,r,i)}function yM(t,e,n,r,i){const o=function B4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Gu)?t[Gu]:void 0;return"number"==typeof e?e>=0?e&dM:$4:e}(n);if("function"==typeof o){if(!tM(e,t,r))return r&q.Host?pM(i,0,r):gM(e,n,r,i);try{const s=o(r);if(null!=s||r&q.Optional)return s;Ud()}finally{oM()}}else if("number"==typeof o){let s=null,a=fM(t,e),u=Js,c=r&q.Host?e[lt][Xt]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?ny(t,e):e[a+8],u!==Js&&vM(r,!1)?(s=e[R],a=oh(u),e=sh(u,e)):a=-1);-1!==a;){const l=e[R];if(_M(o,a,l.data)){const d=U4(a,e,n,s,r,c);if(d!==Rr)return d}u=e[a+8],u!==Js&&vM(r,e[R].data[a+8]===c)&&_M(o,a,e)?(s=l,a=oh(u),e=sh(u,e)):a=-1}}return i}function U4(t,e,n,r,i,o){const s=e[R],a=s.data[t+8],l=function ch(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&lr(f)&&f.type===n)return u}return null}(a,s,n,null==r?Lo(a)&&ey:r!=s&&0!=(3&a.type),i&q.Host&&o===a);return null!==l?Bo(e,s,l,a):Rr}function Bo(t,e,n,r){let i=t[n];const o=e.data;if(function R4(t){return t instanceof Xu}(i)){const s=i;s.resolving&&function lG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(o[n]));const a=ah(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?En(s.injectImpl):null;tM(t,r,q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function x4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=VA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&En(u),ah(a),s.resolving=!1,oM()}}return i}function _M(t,e,n){return!!(n[e+(t>>hM)]&1<<t)}function vM(t,e){return!(t&q.Self||t&q.Host&&e)}class Zs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mM(this._tNode,this._lView,e,Hd(r),n)}}function $4(){return new Zs(Bt(),E())}function $t(t){return ni(()=>{const e=t.prototype.constructor,n=e[ii]||iy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ii]||iy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function iy(t){return Sm(t)?()=>{const e=iy(Z(t));return e&&e()}:Vo(t)}function wM(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[Xt]:null}const ta="__parameters__";function ra(t,e,n){return ni(()=>{const r=function oy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(ta)?u[ta]:Object.defineProperty(u,ta,{value:[]})[ta];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ec(t,e){t.forEach(n=>Array.isArray(n)?ec(n,e):e(n))}function EM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function jn(t,e,n){let r=ia(t,e);return r>=0?t[1|r]=n:(r=~r,function W4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sy(t,e){const n=ia(t,e);if(n>=0)return t[1|n]}function ia(t,e){return function DM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const fn=Hu(ra("Optional"),8),fh=Hu(ra("SkipSelf"),4);function mh(t){return 128==(128&t.flags)}var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();const pz=/^>|^->|<!--|-->|--!>|<!-$/g,gz=/(<|>)/,mz="\u200b$1\u200b";const fy=new Map;let yz=0;const gy="__ngContext__";function Jt(t,e){$n(e)?(t[gy]=e[Ku],function vz(t){fy.set(t[Ku],t)}(e)):t[gy]=e}let my;function yy(t,e){return my(t,e)}function ic(t){const e=t[Ge];return bn(e)?e[Ge]:e}function _y(t){return jM(t[qu])}function vy(t){return jM(t[cr])}function jM(t){for(;null!==t&&!bn(t);)t=t[cr];return t}function aa(t,e,n,r,i){if(null!=r){let o,s=!1;bn(r)?o=r:$n(r)&&(s=!0,r=r[wt]);const a=Fe(r);0===t&&null!==n?null==i?WM(e,n,a):$o(e,n,a,i||null,!0):1===t&&null!==n?$o(e,n,a,i||null,!0):2===t?function Eh(t,e,n){const r=wh(t,e);r&&function Vz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function $z(t,e,n,r,i){const o=n[Ar];o!==Fe(n)&&aa(e,t,r,o,i);for(let a=Ut;a<n.length;a++){const u=n[a];sc(u[R],u,t,e,r,o)}}(e,t,o,n,i)}}function wy(t,e){return t.createComment(function PM(t){return t.replace(pz,e=>e.replace(gz,mz))}(e))}function vh(t,e,n){return t.createElement(e,n)}function GM(t,e){const n=t[Ks],r=n.indexOf(e);zA(e),n.splice(r,1)}function Iy(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[Wu];null!==i&&i!==t&&GM(i,r),e>0&&(t[n-1][cr]=r[cr]);const o=dh(t,Ut+e);!function xz(t,e){sc(t,e,e[ie],2,null,null),e[wt]=null,e[Xt]=null}(r[R],r);const s=o[Sr];null!==s&&s.detachView(o[R]),r[Ge]=null,r[cr]=null,r[se]&=-129}return r}function zM(t,e){if(!(256&e[se])){const n=e[ie];e[qd]?.destroy(),e[Wd]?.destroy(),n.destroyNode&&sc(t,e,n,3,null,null),function kz(t){let e=t[qu];if(!e)return Ey(t[R],t);for(;e;){let n=null;if($n(e))n=e[qu];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[cr]&&e!==t;)$n(e)&&Ey(e[R],e),e=e[Ge];null===e&&(e=t),$n(e)&&Ey(e[R],e),n=e&&e[cr]}e=n}}(e)}}function Ey(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function Lz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xu)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];xr(4,a,u);try{u.call(a)}finally{xr(5,a,u)}}else{xr(4,i,o);try{o.call(i)}finally{xr(5,i,o)}}}}}(t,e),function Fz(t,e){const n=t.cleanup,r=e[Gs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Gs]=null);const i=e[Hi];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();e[Hi]=null}}(t,e),1===e[R].type&&e[ie].destroy();const n=e[Wu];if(null!==n&&bn(e[Ge])){n!==e[Ge]&&GM(n,e);const r=e[Sr];null!==r&&r.detachView(t)}!function wz(t){fy.delete(t[Ku])}(e)}}function Dy(t,e,n){return function qM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[wt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Un.None||o===Un.Emulated)return null}return Tn(r,n)}}(t,e.parent,n)}function $o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WM(t,e,n){t.appendChild(e,n)}function KM(t,e,n,r,i){null!==r?$o(t,e,n,r,i):WM(t,e,n)}function wh(t,e){return t.parentNode(e)}function QM(t,e,n){return XM(t,e,n)}let Cy,Ay,XM=function YM(t,e,n){return 40&t.type?Tn(t,n):null};function Ih(t,e,n,r){const i=Dy(t,r,e),o=e[ie],a=QM(r.parent||e[Xt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)KM(o,i,n[u],a,!1);else KM(o,i,n,a,!1);void 0!==Cy&&Cy(o,r,e,n,i)}function oc(t,e){if(null!==e){const n=e.type;if(3&n)return Tn(e,t);if(4&n)return by(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return oc(t,r);{const i=t[e.index];return bn(i)?by(-1,i):Fe(i)}}if(32&n)return yy(e,t)()||Fe(t[e.index]);{const r=ZM(t,e);return null!==r?Array.isArray(r)?r[0]:oc(ic(t[lt]),r):oc(t,e.next)}}return null}function ZM(t,e){return null!==e?t[lt][Xt].projection[e.projection]:null}function by(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return oc(r,i)}return e[Ar]}function Ty(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Jt(Fe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ty(t,e,n.child,r,i,o,!1),aa(e,t,i,a,o);else if(32&u){const c=yy(n,r);let l;for(;l=c();)aa(e,t,i,l,o);aa(e,t,i,a,o)}else 16&u?tx(t,e,r,n,i,o):aa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function sc(t,e,n,r,i,o){Ty(n,r,t.firstChild,e,i,o,!1)}function tx(t,e,n,r,i,o){const s=n[lt],u=s[Xt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)aa(e,t,i,u[c],o);else{let c=u;const l=s[Ge];mh(r)&&(c.flags|=128),Ty(t,e,c,l,i,o,!0)}}function nx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Fm(t,e,r),null!==i&&nx(t,e,i),null!==o&&function Hz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class ax{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const dc=new U("ENVIRONMENT_INITIALIZER"),yx=new U("INJECTOR",-1),_x=new U("INJECTOR_DEF_TYPES");class vx{get(e,n=ju){if(n===ju){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function m3(...t){return{\u0275providers:Ix(0,t),\u0275fromNgModule:!0}}function Ix(t,...e){const n=[],r=new Set;let i;return ec(e,o=>{const s=o;Py(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&Ex(i,n),n}function Ex(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Oy(i,o=>{e.push(o)})}}function Py(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,o=cA(t);const s=!o&&we(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=cA(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Py(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{ec(o.imports,l=>{Py(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Ex(c,e)}if(!a){const c=Vo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:_x,useValue:i,multi:!0},{provide:dc,useValue:()=>H(i),multi:!0})}const u=o.providers;null==u||a||Oy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Oy(t,e){for(let n of t)Am(n)&&(n=n.\u0275providers),Array.isArray(n)?Oy(n,e):e(n)}const y3=De({provide:String,useValue:De});function Fy(t){return null!==t&&"object"==typeof t&&y3 in t}function jo(t){return"function"==typeof t}const Ly=new U("Set Injector scope."),Th={},v3={};let Vy;function Sh(){return void 0===Vy&&(Vy=new vx),Vy}class li{}class Uy extends li{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$y(e,s=>this.processProvider(s)),this.records.set(yx,ca(void 0,this)),i.has("environment")&&this.records.set(li,ca(void 0,this));const o=this.records.get(Ly);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_x.multi,ve,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ji(this),r=En(void 0);try{return e()}finally{ji(n),En(r)}}get(e,n=ju,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mA))return e[mA](this);r=Hd(r);const i=ji(this),o=En(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function C3(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&Bd(e);a=u&&this.injectableDefInScope(u)?ca(By(e),Th):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?Sh():this.parent).get(e,n=r&q.Optional&&n===ju?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[jd]=s[jd]||[]).unshift(vt(e)),i)throw s;return function CG(t,e,n,r){const i=t[jd];throw e[fA]&&i.unshift(e[fA]),t.message=function bG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[jd]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{En(o),ji(i)}}resolveInjectorInitializers(){const e=ji(this),n=En(void 0);try{const r=this.get(dc.multi,ve,q.Self);for(const i of r)i()}finally{ji(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=jo(e=Z(e))?e:Z(e&&e.provide);const r=function I3(t){return Fy(t)?ca(void 0,t.useValue):ca(bx(t),Th)}(e);if(jo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ca(void 0,Th,!0),i.factory=()=>km(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Th&&(n.value=v3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function D3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function By(t){const e=Bd(t),n=null!==e?e.factory:Vo(t);if(null!==n)return n;if(t instanceof U)throw new T(204,!1);if(t instanceof Function)return function w3(t){const e=t.length;if(e>0)throw tc(e,"?"),new T(204,!1);const n=function mG(t){return t&&(t[$d]||t[lA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function bx(t,e,n){let r;if(jo(t)){const i=Z(t);return Vo(i)||By(i)}if(Fy(t))r=()=>Z(t.useValue);else if(function Cx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...km(t.deps||[]));else if(function Dx(t){return!(!t||!t.useExisting)}(t))r=()=>H(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function E3(t){return!!t.deps}(t))return Vo(i)||By(i);r=()=>new i(...km(t.deps))}return r}function ca(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $y(t,e){for(const n of t)Array.isArray(n)?$y(n,e):n&&Am(n)?$y(n.\u0275providers,e):e(n)}const Ah=new U("AppId",{providedIn:"root",factory:()=>b3}),b3="ng",Tx=new U("Platform Initializer"),Qi=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sx=new U("CSP nonce",{providedIn:"root",factory:()=>function ac(){if(void 0!==Ay)return Ay;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Mx=(t,e)=>null;function xx(t,e){return Mx(t,e)}class O3{}class kx{}class L3{resolveComponentFactory(e){throw function F3(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let kh=(()=>{class t{}return t.NULL=new L3,t})();function V3(){return la(Bt(),E())}function la(t,e){return new Hn(Tn(t,e))}let Hn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=V3,t})();class Ox{}let di=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function B3(){const t=E(),n=Sn(Bt().index,t);return($n(n)?n:t)[ie]}(),t})(),$3=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class da{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fx=new da("16.0.1"),Jy={};function gc(t){for(;t;){t[se]|=64;const e=ic(t);if(Um(t)&&!e)return t;t=e}return null}function Zy(t){return t.ngOriginalError}class Ho{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zy(e);for(;n&&Zy(n);)n=Zy(n);return n||null}}const Ux=new U("",{providedIn:"root",factory:()=>!1});function hi(t){return t instanceof Function?t():t}class jx extends OA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){gc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=At(this);this.trackingVersion++;try{e(n,r)}finally{At(i)}}destroy(){this.trackingVersion++}}let Oh=null;function Hx(){return Oh??=new jx,Oh}function Gx(t,e){return t[e]??Hx()}function zx(t,e){const n=Hx();n.hasReadASignal&&(t[e]=Oh,n.lView=t,Oh=new jx)}const oe={};function Y(t){qx(me(),E(),hn()+t,!1)}function qx(t,e,n,r){if(!r)if(3==(3&e[se])){const o=t.preOrderCheckHooks;null!==o&&rh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ih(e,o,0,n)}Uo(n)}function Yx(t,e=null,n=null,r){const i=Xx(t,e,n,r);return i.resolveInjectorInitializers(),i}function Xx(t,e=null,n=null,r,i=new Set){const o=[n||ve,m3(t)];return r=r||("object"==typeof t?void 0:vt(t)),new Uy(o,e||Sh(),r||null,i)}let Gn=(()=>{class t{static create(n,r){if(Array.isArray(n))return Yx({name:""},r,n,"");{const i=n.name??"";return Yx({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ju,t.NULL=new vx,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>H(yx)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=q.Default){const n=E();return null===n?H(t,e):mM(Bt(),n,Z(t),e)}function Fh(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[wt]=i,d[se]=140|r,(null!==c||t&&2048&t[se])&&(d[se]|=2048),GA(d),d[Ge]=d[qs]=t,d[Ye]=n,d[Fo]=s||t&&t[Fo],d[ie]=a||t&&t[ie],d[zs]=u||t&&t[zs]||null,d[Xt]=o,d[Ku]=function _z(){return yz++}(),d[si]=l,d[MA]=c,d[lt]=2==e.type?t[lt]:d,d}function fa(t,e,n,r,i){let o=t.data[e];if(null===o)o=function e_(t,e,n,r,i){const o=YA(),s=zm(),u=t.data[e]=function uq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ys()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function w4(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Yu(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Nr(o,!0),o}function mc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zx(t,e,n,r,i){const o=Gx(e,qd),s=hn(),a=2&r;try{if(Uo(-1),a&&e.length>fe&&qx(t,e,fe,!1),xr(a?2:0,i),a)o.runInContext(n,r,i);else{const c=At(null);try{n(r,i)}finally{At(c)}}}finally{a&&null===e[qd]&&zx(e,qd),Uo(s),xr(a?3:1,i)}}function t_(t,e,n){if(Vm(e)){const r=At(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{At(r)}}}function n_(t,e,n){QA()&&(function gq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Lo(n)&&function Eq(t,e,n){const r=Tn(e,t),s=Lh(t,Fh(t,eN(n),null,n.onPush?64:16,r,e,null,t[Fo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uh(n,e),Jt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Bo(e,t,a,n);Jt(c,e),null!==s&&Dq(0,a-i,c,u,0,s),lr(u)&&(Sn(n.index,e)[Ye]=Bo(e,t,a,n))}}(t,e,n,Tn(n,e)),64==(64&n.flags)&&oN(t,e,n))}function r_(t,e,n=Tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function eN(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=i_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function i_(t,e,n,r,i,o,s,a,u,c,l){const d=fe+r,h=d+i,f=function nq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let tN=t=>null;function nN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?rN(n,e,i,o):r.hasOwnProperty(i)&&rN(n,e,r[i],o)}return n}function rN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function o_(t,e,n,r){if(QA()){const i=null===r?null:{"":-1},o=function yq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(DA(e,s.selectors,!1))if(r||(r=[]),lr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),s_(t,e,a.length)}else r.unshift(s),s_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&iN(t,e,n,s,i,a),i&&function _q(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new T(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=zu(n.mergedAttrs,n.attrs)}function iN(t,e,n,r,i,o){for(let c=0;c<r.length;c++)ry(uh(n,e),t,r[c].type);!function wq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=mc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=zu(n.mergedAttrs,l.hostAttrs),Iq(t,n,e,u,l),vq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function cq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=nN(d.inputs,l,u,h?h.inputs:null),c=nN(d.outputs,l,c,p);const m=null===u||null===s||EA(e)?null:Cq(u,l,s);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function oN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function E4(){return Q.lFrame.currentDirectiveIndex}();try{Uo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Wm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&mq(u,c)}}finally{Uo(-1),Wm(s)}}function mq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function s_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function Iq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Vo(i.type)),s=new Xu(o,lr(i),D);t.blueprint[r]=s,n[r]=s,function fq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function pq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,mc(t,n,i.hostVars,oe),i)}function Dq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)sN(r,n,s[a++],s[a++],s[a++])}function sN(t,e,n,r,i){const o=At(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{At(o)}}function Cq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Qm(n[r]),s.contentQueries(2,e[o],o)}}}function Lh(t,e){return t[qu]?t[AA][cr]=e:t[qu]=e,t[AA]=e,e}function u_(t,e,n){Qm(0);const r=At(null);try{e(t,n)}finally{At(r)}}function hN(t,e){const n=t[zs],r=n?n.get(Ho,null):null;r&&r.handleError(e)}function c_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];sN(t.data[s],e[s],r,a,i)}}function bq(t,e){const n=Sn(e,t),r=n[R];!function Tq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[wt];null!==i&&null===n[si]&&(n[si]=xx(i,n[zs])),l_(r,n,n[Ye])}function l_(t,e,n){Ym(e);try{const r=t.viewQuery;null!==r&&u_(1,r,n);const i=t.template;null!==i&&Zx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uN(t,e),t.staticViewQueries&&u_(2,t.viewQuery,n);const o=t.components;null!==o&&function Sq(t,e){for(let n=0;n<e.length;n++)bq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,Xm()}}let fN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new ZG(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),t})();function Vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Tm(i,a):2==o&&(r=Tm(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Fe(o)),bn(o)){for(let a=Ut;a<o.length;a++){const u=o[a],c=u[R].firstChild;null!==c&&yc(u[R],u,c,r)}o[Ar]!==o[wt]&&r.push(o[Ar])}const s=n.type;if(8&s)yc(t,e,n.child,r);else if(32&s){const a=yy(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=ZM(e,n);if(Array.isArray(a))r.push(...a);else{const u=ic(e[lt]);yc(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Uh(t,e,n,r=!0){const i=e[Fo].rendererFactory;i.begin&&i.begin();try{Bh(t,e,t.template,n)}catch(s){throw r&&hN(e,s),s}finally{i.end&&i.end(),e[Fo].effectManager?.flush()}}function Bh(t,e,n,r){const i=e[se];if(256!=(256&i)){e[Fo].effectManager?.flush(),Ym(e);try{GA(e),function JA(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Zx(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&rh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ih(e,c,0,null),Jm(e,0)}if(function kq(t){for(let e=_y(t);null!==e;e=vy(e)){if(!e[xA])continue;const n=e[Ks];for(let r=0;r<n.length;r++){c4(n[r])}}}(e),function Rq(t){for(let e=_y(t);null!==e;e=vy(e))for(let n=Ut;n<e.length;n++){const r=e[n],i=r[R];eh(r)&&Bh(i,r,i.template,r[Ye])}}(e),null!==t.contentQueries&&uN(t,e),s){const c=t.contentCheckHooks;null!==c&&rh(e,c)}else{const c=t.contentHooks;null!==c&&ih(e,c,1),Jm(e,1)}!function tq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Gx(e,Wd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Uo(~o);else{const s=o,a=n[++i],u=n[++i];I4(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[Wd]&&zx(e,Wd),Uo(-1)}}(t,e);const a=t.components;null!==a&&function Oq(t,e){for(let n=0;n<e.length;n++)Pq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&u_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&rh(e,c)}else{const c=t.viewHooks;null!==c&&ih(e,c,2),Jm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,zA(e)}finally{Xm()}}}function Pq(t,e){const n=Sn(e,t);if(eh(n)){const r=n[R];80&n[se]?Bh(r,n,r.template,n[Ye]):n[Oo]>0&&d_(n)}}function d_(t){for(let r=_y(t);null!==r;r=vy(r))for(let i=Ut;i<r.length;i++){const o=r[i];if(eh(o))if(1024&o[se]){const s=o[R];Bh(s,o,s.template,o[Ye])}else o[Oo]>0&&d_(o)}const n=t[R].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Sn(n[r],t);eh(i)&&i[Oo]>0&&d_(i)}}class _c{get rootNodes(){const e=this._lView,n=e[R];return yc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(bn(e)){const n=e[Kd],r=n?n.indexOf(this):-1;r>-1&&(Iy(e,r),dh(n,r))}this._attachedToViewContainer=!1}zM(this._lView[R],this._lView)}onDestroy(e){!function WA(t,e){if(256==(256&t[se]))throw new T(911,!1);null===t[Hi]&&(t[Hi]=[]),t[Hi].push(e)}(this._lView,e)}markForCheck(){gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Uh(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rz(t,e){sc(t,e,e[ie],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Fq extends _c{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uh(e[R],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class pN extends kh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new vc(n,this.ngModule)}}function gN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Vq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hd(r);const i=this.injector.get(e,Jy,r);return i!==Jy||n===Jy?i:this.parentInjector.get(e,n,r)}}class vc extends kx{get inputs(){return gN(this.componentDef.inputs)}get outputs(){return gN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function OG(t){return t.map(PG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof li?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Vq(e,o):e,a=s.get(Ox,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:s.get($3,null),effectManager:s.get(fN,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function rq(t,e,n,r){const o=r.get(Ux,!1)||n===Un.ShadowDom,s=t.selectRootElement(e,o);return function iq(t){tN(t)}(s),s}(d,r,this.componentDef.encapsulation,s):vh(d,h,function Lq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=i_(0,null,null,1,0,null,null,null,null,null,null),y=Fh(null,m,null,p,null,null,l,d,s,null,null);let w,_;Ym(y);try{const C=this.componentDef;let F,B=null;C.findHostDirectiveDefs?(F=[],B=new Map,C.findHostDirectiveDefs(C,F,B),F.push(C)):F=[C];const de=function Bq(t,e){const n=t[R],r=fe;return t[r]=e,fa(n,r,2,"#host",null)}(y,f),_t=function $q(t,e,n,r,i,o,s){const a=i[R];!function jq(t,e,n,r){for(const i of t)e.mergedAttrs=zu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vh(e,e.mergedAttrs,!0),null!==n&&rx(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=xx(e,i[zs]));const c=o.rendererFactory.createRenderer(e,n),l=Fh(i,eN(n),null,n.onPush?64:16,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&s_(a,t,r.length-1),Lh(i,l),i[t.index]=l}(de,f,C,F,y,l,d);_=HA(m,fe),f&&function Gq(t,e,n,r){if(r)Fm(t,n,["ng-version",Fx.full]);else{const{attrs:i,classes:o}=function FG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ur(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fm(t,n,i),o&&o.length>0&&nx(t,n,o.join(" "))}}(d,C,f,r),void 0!==n&&function zq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,n),w=function Hq(t,e,n,r,i,o){const s=Bt(),a=i[R],u=Tn(s,i);iN(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Jt(Bo(i,a,s.directiveStart+l,s),i);oN(a,i,s),u&&Jt(u,i);const c=Bo(i,a,s.directiveStart+s.componentOffset,s);if(t[Ye]=i[Ye]=c,null!==o)for(const l of o)l(c,e);return t_(a,s,t),c}(_t,C,F,B,y,[qq]),l_(m,y,null)}finally{Xm()}return new Uq(this.componentType,w,la(_,y),y,_)}}class Uq extends O3{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;c_(o[R],o,i,e,n),this.previousInputValues.set(e,n),gc(Sn(this._tNode.index,o))}}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qq(){const t=Bt();nh(E()[R],t)}function Ce(t){let e=function mN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=h_(t.inputs),s.declaredInputs=h_(t.declaredInputs),s.outputs=h_(t.outputs);const a=i.hostBindings;a&&Yq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Kq(t,u),c&&Qq(t,c),bm(t.inputs,i.inputs),bm(t.declaredInputs,i.declaredInputs),bm(t.outputs,i.outputs),lr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Wq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zu(i.hostAttrs,n=zu(n,i.hostAttrs))}}(r)}function h_(t){return t===ri?{}:t===ve?[]:t}function Kq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Qq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function Yq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function $h(t){return!!f_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function f_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Le(t,e,n,r,i,o,s,a){const u=E(),c=me(),l=t+fe,d=c.firstCreatePass?function I6(t,e,n,r,i,o,s,a,u){const c=e.consts,l=fa(e,t,4,s||null,Gi(c,a));o_(e,n,l,Gi(c,u)),nh(e,l);const d=l.tView=i_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Nr(d,!1);const h=RN(c,u,d,t);th()&&Ih(c,u,h,d),Jt(h,u),Lh(u,u[l]=aN(h,u,h,d)),Qd(d)&&n_(c,u,d),null!=s&&r_(u,d,a)}let RN=function kN(t,e,n,r){return Wi(!0),e[ie].createComment("")};function ce(t,e,n){const r=E();return Zt(r,Xs(),e)&&function zn(t,e,n,r,i,o,s,a){const u=Tn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(c_(t,n,l,r,i),Lo(e)&&function dq(t,e){const n=Sn(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function lq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(me(),function ze(){const t=Q.lFrame;return HA(t.tView,t.selectedIndex)}(),r,t,e,r[ie],n,!1),ce}function v_(t,e,n,r,i){const s=i?"class":"style";c_(t,n,e.inputs[s],s,r)}function k(t,e,n,r){const i=E(),o=me(),s=fe+t,a=i[ie],u=o.firstCreatePass?function b6(t,e,n,r,i,o){const s=e.consts,u=fa(e,t,2,r,Gi(s,i));return o_(e,n,u,Gi(s,o)),null!==u.attrs&&Vh(u,u.attrs,!1),null!==u.mergedAttrs&&Vh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=ON(o,i,u,a,e,t);i[s]=c;const l=Qd(u);return Nr(u,!0),rx(a,c,u),32!=(32&u.flags)&&th()&&Ih(o,i,c,u),0===function d4(){return Q.lFrame.elementDepthCount}()&&Jt(c,i),function h4(){Q.lFrame.elementDepthCount++}(),l&&(n_(o,i,u),t_(o,u,i)),null!==r&&r_(i,u),k}function N(){let t=Bt();zm()?qm():(t=t.parent,Nr(t,!1));const e=t;(function p4(t){return Q.skipHydrationRootTNode===t})(e)&&function _4(){Q.skipHydrationRootTNode=null}(),function f4(){Q.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(nh(n,t),Vm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function k4(t){return 0!=(8&t.flags)}(e)&&v_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function P4(t){return 0!=(16&t.flags)}(e)&&v_(n,e,E(),e.stylesWithoutHost,!1),N}function ht(t,e,n,r){return k(t,e,n,r),N(),ht}let ON=(t,e,n,r,i,o)=>(Wi(!0),vh(r,i,function sM(){return Q.lFrame.currentNamespace}()));function dr(t,e,n){const r=E(),i=me(),o=t+fe,s=i.firstCreatePass?function A6(t,e,n,r,i){const o=e.consts,s=Gi(o,r),a=fa(e,t,8,"ng-container",s);return null!==s&&Vh(a,s,!0),o_(e,n,a,Gi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Nr(s,!0);const a=LN(i,r,s,t);return r[o]=a,th()&&Ih(i,r,a,s),Jt(a,r),Qd(s)&&(n_(i,r,s),t_(i,s,r)),null!=n&&r_(r,s),dr}function hr(){let t=Bt();const e=me();return zm()?qm():(t=t.parent,Nr(t,!1)),e.firstCreatePass&&(nh(e,t),Vm(t)&&e.queries.elementEnd(t)),hr}let LN=(t,e,n,r)=>(Wi(!0),wy(e[ie],""));function Da(){return E()}function Cc(t){return!!t&&"function"==typeof t.then}function VN(t){return!!t&&"function"==typeof t.subscribe}function Ne(t,e,n,r){const i=E(),o=me(),s=Bt();return function BN(t,e,n,r,i,o,s){const a=Qd(r),c=t.firstCreatePass&&function lN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ye],d=function cN(t){return t[Gs]||(t[Gs]=[])}(e);let h=!0;if(3&r.type||s){const m=Tn(r,e),y=s?s(m):m,w=d.length,_=s?F=>s(Fe(F[r.index])):r.index;let C=null;if(!s&&a&&(C=function N6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Gs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=jN(r,e,l,o,!1);const F=n.listen(y,i,o);d.push(o,F),c&&c.push(i,_,w,w+1)}}else o=jN(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const B=e[p[y]][p[y+1]].subscribe(o),de=d.length;d.push(o,B),c&&c.push(i,r.index,de,-(de+1))}}}(o,i,i[ie],s,t,e,r),Ne}function $N(t,e,n,r){try{return xr(6,e,n),!1!==n(r)}catch(i){return hN(t,i),!1}finally{xr(7,e,n)}}function jN(t,e,n,r,i){return function o(s){if(s===Function)return r;gc(t.componentOffset>-1?Sn(t.index,e):e);let u=$N(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=$N(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function en(t=1){return function C4(t){return(Q.lFrame.contextLView=function b4(t,e){for(;t>0;)e=e[qs],t--;return e}(t,Q.lFrame.contextLView))[Ye]}(t)}function R6(t,e){let n=null;const r=function xG(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?DA(t,o,!0):kG(r,o))return i}else n=i}return n}function w_(t,e=0,n){const r=E(),i=me(),o=fa(i,fe+t,16,null,n||null);null===o.projection&&(o.projection=e),qm(),(!r[si]||Ys())&&32!=(32&o.flags)&&function Bz(t,e,n){tx(e[ie],0,e,n,Dy(t,n,e),QM(n.parent||e[Xt],n,e))}(i,r,o)}function qh(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function E_(t){return 2|t}function zo(t){return(131068&t)>>2}function D_(t,e){return-131069&t|e<<2}function C_(t){return 1|t}function ZN(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Yi(o):zo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];V6(t[a],e)&&(u=!0,t[a+1]=r?C_(l):E_(l)),a=r?Yi(l):zo(l)}u&&(t[n+1]=r?E_(o):C_(o))}function V6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ia(t,e)>=0}function Wh(t,e){return function fr(t,e,n,r){const i=E(),o=me(),s=function ui(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function u1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[hn()],s=function a1(t,e){return e>=t.expandoStartIndex}(t,n);(function h1(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function W6(t,e,n,r){const i=function Km(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bc(n=b_(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=b_(i,t,e,n,r),null===o){let u=function K6(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==zo(r))return t[Yi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=b_(null,t,e,u[1],r),u=bc(u,e.attrs,r),function Q6(t,e,n,r){t[Yi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function Y6(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=bc(r,t[o].hostAttrs,n);return bc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function F6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),u=zo(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ia(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Yi(t[a+1]);t[r+1]=qh(h,a),0!==h&&(t[h+1]=D_(t[h+1],r)),t[a+1]=function P6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=qh(a,0),0!==a&&(t[a+1]=D_(t[a+1],r)),a=r;else t[r+1]=qh(u,0),0===a?a=r:t[u+1]=D_(t[u+1],r),u=r;c&&(t[r+1]=E_(t[r+1])),ZN(t,l,r,!0),ZN(t,l,r,!1),function L6(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ia(o,e)>=0&&(n[r+1]=C_(n[r+1]))}(e,l,t,r,o),s=qh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==oe&&Zt(i,s,e)&&function l1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function O6(t){return 1==(1&t)}(c)?d1(u,e,n,i,zo(c),s):void 0;Kh(l)||(Kh(o)||function k6(t){return 2==(2&t)}(c)&&(o=d1(u,null,n,i,a,s)),function jz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:An.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}(r,s,Zd(hn(),n),i,o))}(o,o.data[hn()],i,i[ie],t,i[s+1]=function e5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(function Ki(t){return t instanceof ax?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),Wh}function b_(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=bc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,s,!!n||e[++o]))}return void 0===t?null:t}function d1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===oe&&(h=d?ve:void 0);let f=d?sy(h,r):l===r?h:void 0;if(c&&!Kh(f)&&(f=sy(u,r)),Kh(f)&&(a=f,s))return a;const p=t[i+1];i=s?Yi(p):zo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=sy(u,r))}return a}function Kh(t){return void 0!==t}function W(t,e=""){const n=E(),r=me(),i=t+fe,o=r.firstCreatePass?fa(r,i,1,e,null):r.data[i],s=f1(r,n,o,e,t);n[i]=s,th()&&Ih(r,n,s,o),Nr(o,!1)}let f1=(t,e,n,r,i)=>(Wi(!0),function _h(t,e){return t.createText(e)}(e[ie],r));function pi(t){return qo("",t,""),pi}function qo(t,e,n){const r=E(),i=function ga(t,e,n,r){return Zt(t,Xs(),n)?e+te(n)+r:oe}(r,t,e,n);return i!==oe&&function fi(t,e,n){const r=Zd(e,t);!function HM(t,e,n){t.setValue(e,n)}(t[ie],r,n)}(r,hn(),i),qo}const Ta="en-US";let O1=Ta;function A_(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let o=0;o<t.length;o++)A_(t[o],e,n,r,i);else{const o=me(),s=E();let a=jo(t)?t:Z(t.provide),u=bx(t);const c=Bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(jo(t)||!t.multi){const f=new Xu(u,i,D),p=x_(a,e,i?l:l+h,d);-1===p?(ry(uh(c,s),o,a),M_(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=x_(a,e,l+h,d),p=x_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){ry(uh(c,s),o,a);const w=function w9(t,e,n,r,i){const o=new Xu(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,sR(o,i,r&&!n),o}(i?v9:_9,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),M_(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else M_(o,t,f>-1?f:p,sR(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function M_(t,e,n,r){const i=jo(e),o=function _3(t){return!!t.useClass}(e);if(i||o){const u=(o?Z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function sR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function x_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _9(t,e,n,r){return N_(this.multi,[])}function v9(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Bo(n,n[R],this.providerFactory.index,r);o=a.slice(0,s),N_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],N_(i,o);return o}function N_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function y9(t,e,n){const r=me();if(r.firstCreatePass){const i=lr(t);A_(n,r.data,r.blueprint,i,!0),A_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Sa{}class aR{}class R_ extends Sa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pN(this);const i=Bn(e);this._bootstrapComponents=hi(i.bootstrap),this._r3Injector=Xx(e,n,[{provide:Sa,useValue:this},{provide:kh,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class k_ extends aR{constructor(e){super(),this.moduleType=e}create(e){return new R_(this.moduleType,e,[])}}class uR extends Sa{constructor(e){super(),this.componentFactoryResolver=new pN(this),this.instance=null;const n=new Uy([...e.providers,{provide:Sa,useValue:this},{provide:kh,useValue:this.componentFactoryResolver}],e.parent||Sh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function P_(t,e,n=null){return new uR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let D9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Ix(0,n.type),i=r.length>0?P_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(H(li))}),t})();function cR(t){t.getStandaloneInjector=e=>e.get(D9).getOrCreateStandaloneInjector(t)}function yR(t,e,n,r,i,o){const s=e+n;return Zt(t,s,i)?function Pr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function Nc(t,e){const n=t[e];return n===oe?void 0:n}(t,s+1)}function Zh(t,e){const n=me();let r;const i=t+fe;n.firstCreatePass?(r=function $9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Vo(r.type)),s=En(D);try{const a=ah(!1),u=o();return ah(a),function C6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{En(s)}}function ef(t,e,n){const r=t+fe,i=E(),o=Qs(i,r);return function Rc(t,e){return t[R].data[e].pure}(i,r)?yR(i,dn(),e,o.transform,n,o):o.transform(n)}function F_(t){return e=>{setTimeout(t,void 0,e)}}const Je=class q9 extends ei{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=F_(o),i&&(i=F_(i)),s&&(s=F_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ln&&e.add(a),a}};let gi=(()=>{class t{}return t.__NG_ELEMENT_ID__=Y9,t})();const K9=gi,Q9=class extends K9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,o=Fh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);o[Wu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Sr];return null!==a&&(o[Sr]=a.createEmbeddedView(i)),l_(i,o,e),new _c(o)}};function Y9(){return tf(Bt(),E())}function tf(t,e){return 4&t.type?new Q9(e,t,la(t,e)):null}let gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=rW,t})();function rW(){return function SR(t,e){let n;const r=e[t.index];return bn(r)?n=r:(n=aN(r,e,null,t),e[t.index]=n,Lh(e,n)),AR(n,e,t,r),new bR(n,t,e)}(Bt(),E())}const iW=gr,bR=class extends iW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const e=ny(this._hostTNode,this._hostLView);if(lM(e)){const n=sh(e,this._hostLView),r=oh(e);return new Zs(n[R].data[r+8],n)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=TR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Zu(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const u=s?e:new vc(we(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const y=(s?c:this.parentInjector).get(li,null);y&&(o=y)}we(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[R];if(function u4(t){return bn(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ge],l=new bR(c,c[Xt],c[Ge]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function Pz(t,e,n,r){const i=Ut+r,o=n.length;r>0&&(n[i-1][cr]=e),r<o-Ut?(e[cr]=n[i],EM(n,Ut+r,e)):(n.push(e),e[cr]=null),e[Ge]=n;const s=e[Wu];null!==s&&n!==s&&function Oz(t,e){const n=t[Ks];e[lt]!==e[Ge][Ge][lt]&&(t[xA]=!0),null===n?t[Ks]=[e]:n.push(e)}(s,e);const a=e[Sr];null!==a&&a.insertView(t),e[se]|=128}(o,i,a,s),!r){const u=by(s,a),c=i[ie],l=wh(c,a[Ar]);null!==l&&function Nz(t,e,n,r,i,o){r[wt]=i,r[Xt]=e,sc(t,r,n,1,i,o)}(o,a[Xt],c,i,l,u)}return e.attachToViewContainerRef(),EM(U_(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=TR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Iy(this._lContainer,n);r&&(dh(U_(this._lContainer),n),zM(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=Iy(this._lContainer,n);return r&&null!=dh(U_(this._lContainer),n)?new _c(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function TR(t){return t[Kd]}function U_(t){return t[Kd]||(t[Kd]=[])}let AR=function MR(t,e,n,r){if(t[Ar])return;let i;i=8&n.type?Fe(r):function oW(t,e){const n=t[ie],r=n.createComment(""),i=Tn(e,t);return $o(n,wh(n,i),r,function Uz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ar]=i};function VR(t,e){return tf(t,e)}const Y_=new U("Application Initializer");let X_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(Y_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Cc(o))n.push(o);else if(VN(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const mi=new U("LocaleId",{providedIn:"root",factory:()=>L(mi,q.Optional|q.SkipSelf)||function OW(){return typeof $localize<"u"&&$localize.locale||Ta}()});class LW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let nk=(()=>{class t{compileModuleSync(n){return new k_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=hi(Bn(n).declarations).reduce((s,a)=>{const u=we(a);return u&&s.push(new vc(u)),s},[]);return new LW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const BW=(()=>Promise.resolve(0))();function J_(t){typeof Zone>"u"?BW.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function ok(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $W(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function GW(t){const e=()=>{!function HW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ev(t),t.isCheckStableRunning=!0,Z_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ev(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return sk(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ak(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return sk(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ak(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,ev(t),Z_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jW,ok,ok);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const jW={};function Z_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ev(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function sk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ak(t){t._nesting--,Z_(t)}class zW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const uk=new U("",{providedIn:"root",factory:ck});function ck(){const t=L(Me);let e=!0;return function aG(...t){const e=$u(t),n=function eG(t,e){return"number"==typeof Dm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ar(r[0]):$s(n)(St(r,e)):br}(new Qe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Qe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),J_(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function uG(t={}){const{connector:e=(()=>new ei),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Lt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Cm(p,i))}),w.subscribe(y),!s&&c>0&&(s=new Bu({next:_=>w.next(_),error:_=>{d=!0,h(),a=Cm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Cm(f,r),w.complete()}}),ar(m).subscribe(s))})(o)}}()))}const lk=new U(""),rf=new U("");let rv,tv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rv||(function qW(t){rv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(H(Me),H(nv),H(rf))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),nv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return rv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Xi=null;const dk=new U("AllowMultipleToken"),iv=new U("PlatformDestroyListeners"),ov=new U("appBootstrapListener");class fk{constructor(e,n){this.name=e,this.token=n}}function gk(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(o=[])=>{let s=sv();if(!s||s.injector.get(dk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function QW(t){if(Xi&&!Xi.get(dk,!1))throw new T(400,!1);(function hk(){!function XG(t){FA=t}(()=>{throw new T(600,!1)})})(),Xi=t;const e=t.get(yk);(function pk(t){t.get(Tx,null)?.forEach(n=>n())})(t)}(function mk(t=[],e){return Gn.create({name:e,providers:[{provide:Ly,useValue:"platform"},{provide:iv,useValue:new Set([()=>Xi=null])},...t]})}(a,r))}return function XW(t){const e=sv();if(!e)throw new T(401,!1);return e}()}}function sv(){return Xi?.get(yk)??null}let yk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function JW(t="zone.js",e){return"noop"===t?new zW:"zone.js"===t?new Me(e):t}(r?.ngZone,function _k(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function E9(t,e,n){return new R_(t,e,n)}(n.moduleType,this.injector,function Dk(t){return[{provide:Me,useFactory:t},{provide:dc,multi:!0,useFactory:()=>{const e=L(e7,{optional:!0});return()=>e.initialize()}},{provide:Ek,useFactory:ZW},{provide:uk,useFactory:ck}]}(()=>i)),s=o.injector.get(Ho,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{sf(this._modules,o),a.unsubscribe()})}),function vk(t,e,n){try{const r=n();return Cc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(X_);return a.runInitializers(),a.donePromise.then(()=>(function F1(t){Yn(t,"Expected localeId to be defined"),"string"==typeof t&&(O1=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(mi,Ta)||Ta),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=wk({},r);return function WW(t,e,n){const r=new k_(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(xa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(iv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(H(Gn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function wk(t,e){return Array.isArray(e)?e.reduce(wk,t):{...t,...e}}let xa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(Ek),this.componentTypes=[],this.components=[],this.isStable=L(uk),this._injector=L(li)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof kx;if(!this._injector.get(X_).done)throw!i&&function Hs(t){const e=we(t)||Yt(t)||Cn(t);return null!==e&&e.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(kh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function KW(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Sa),c=s.create(Gn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(lk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),sf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;sf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ov,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ek=new U("",{providedIn:"root",factory:()=>L(Ho).handleError.bind(void 0)});function ZW(){const t=L(Me),e=L(Ho);return n=>t.runOutsideAngular(()=>e.handleError(n))}let e7=(()=>{class t{constructor(){this.zone=L(Me),this.applicationRef=L(xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let af=(()=>{class t{}return t.__NG_ELEMENT_ID__=n7,t})();function n7(t){return function r7(t,e,n){if(Lo(t)&&!n){const r=Sn(t.index,e);return new _c(r,r)}return 47&t.type?new _c(e[lt],e):null}(Bt(),E(),16==(16&t))}class Sk{constructor(){}supports(e){return $h(e)}create(e){return new c7(e)}}const u7=(t,e)=>e;class c7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Mk(r,i,o)?n:r,a=Mk(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!$h(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function r6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new l7(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ak),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ak),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class l7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class d7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Ak{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new d7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xk{constructor(){}supports(e){return e instanceof Map||f_(e)}create(){return new h7}}class h7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||f_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new f7(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class f7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nk(){return new lf([new Sk])}let lf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Nk()),deps:[[t,new fh,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Nk}),t})();function Rk(){return new Pc([new xk])}let Pc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Rk()),deps:[[t,new fh,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Rk}),t})();const m7=gk(null,"core",[]);let y7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(H(xa))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})(),Vk=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=L(Me),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let fv=null;function Ji(){return fv}class M7{}const er=new U("DocumentToken");let pv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(N7)},providedIn:"platform"}),t})();const x7=new U("Location Initialized");let N7=(()=>{class t extends pv{constructor(){super(),this._doc=L(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(n){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function gv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Bk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function yi(t){return t&&"?"!==t[0]?"?"+t:t}let Qo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(jk)},providedIn:"root"}),t})();const $k=new U("appBaseHref");let jk=(()=>{class t extends Qo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+yi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(pv),H($k,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R7=(()=>{class t extends Qo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=gv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(pv),H($k,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),mv=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function O7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Bk(Hk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yi(r))}normalize(n){return t.stripTrailingSlash(function P7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Hk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=yi,t.joinWithSlash=gv,t.stripTrailingSlash=Bk,t.\u0275fac=function(n){return new(n||t)(H(Qo))},t.\u0275prov=G({token:t,factory:function(){return function k7(){return new mv(H(Qo))}()},providedIn:"root"}),t})();function Hk(t){return t.replace(/\/index.html$/,"")}const Tv=/\s+/,Jk=[];let Zk=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Jk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Tv):Jk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Tv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Tv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(lf),D(Pc),D(Hn),D(di))},t.\u0275dir=X({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class w8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new w8(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),tP(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{tP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(gr),D(gi),D(lf))},t.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function tP(t,e){t.context.$implicit=e.item}let If=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new I8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(gr),D(gi))},t.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class I8{constructor(){this.$implicit=null,this.ngIf=null}}function nP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}let xv=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw function _r(t,e){return new T(2100,!1)}();return n.toUpperCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Dn({name:"uppercase",type:t,pure:!0,standalone:!0}),t})(),oP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})();function aP(t){return"server"===t}let K8=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Q8(H(er),window)}),t})();class Q8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Y8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=uP(this.window.history)||uP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class CK extends M7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ov extends CK{static makeCurrent(){!function A7(t){fv||(fv=t)}(new Ov)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bK(){return Vc=Vc||document.querySelector("base"),Vc?Vc.getAttribute("href"):null}();return null==n?null:function TK(t){Cf=Cf||document.createElement("a"),Cf.setAttribute("href",t);const e=Cf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Cf,Vc=null,AK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fv=new U("EventManagerPlugins");let fP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(H(Fv),H(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class pP{constructor(e){this._doc=e}}const Lv="ng-app-id";let gP=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=aP(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Lv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Lv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Lv,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(H(er),H(Ah),H(Sx,8),H(Qi))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Vv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uv=/%COMP%/g,RK=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function yP(t,e){return e.map(n=>n.replace(Uv,t))}let _P=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=aP(a),this.defaultRenderer=new Bv(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r={...r,encapsulation:Un.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof wP?i.applyToHost(n):i instanceof $v&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new wP(u,c,r,this.appId,l,s,a,d);break;case Un.ShadowDom:return new FK(u,c,n,r,s,a,this.nonce,d);default:o=new $v(u,c,r,l,s,a,d)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(H(fP),H(gP),H(Ah),H(RK),H(er),H(Qi),H(Me),H(Sx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class Bv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Vv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Vv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ji().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function vP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class FK extends Bv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $v extends Bv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?yP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wP extends $v{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function kK(t){return"_ngcontent-%COMP%".replace(Uv,t)}(c),this.hostAttr=function PK(t){return"_nghost-%COMP%".replace(Uv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LK=(()=>{class t extends pP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const IP=["alt","control","meta","shift"],VK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BK=(()=>{class t extends pP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=VK[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),IP.forEach(s=>{s!==i&&(0,UK[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const DP=[{provide:Qi,useValue:"browser"},{provide:Tx,useValue:function $K(){Ov.makeCurrent()},multi:!0},{provide:er,useFactory:function HK(){return function Wz(t){Ay=t}(document),document},deps:[]}],GK=gk(m7,"browser",DP),zK=new U(""),CP=[{provide:rf,useClass:class SK{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ji().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:lk,useClass:tv,deps:[Me,nv,rf]},{provide:tv,useClass:tv,deps:[Me,nv,rf]}],bP=[{provide:Ly,useValue:"root"},{provide:Ho,useFactory:function jK(){return new Ho},deps:[]},{provide:Fv,useClass:LK,multi:!0,deps:[er,Me,Qi]},{provide:Fv,useClass:BK,multi:!0,deps:[er]},_P,gP,fP,{provide:Ox,useExisting:_P},{provide:class X8{},useClass:AK,deps:[]},[]];let qK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ah,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(H(zK,12))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[...bP,...CP],imports:[oP,y7]}),t})(),TP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function KK(){return new TP(H(er))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:ZK}=Array,{getPrototypeOf:eQ,prototype:tQ,keys:nQ}=Object;function xP(t){if(1===t.length){const e=t[0];if(ZK(e))return{args:e,keys:null};if(function rQ(t){return t&&"object"==typeof t&&eQ(t)===tQ}(e)){const n=nQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:iQ}=Array;function NP(t){return xe(e=>function oQ(t,e){return iQ(e)?t(...e):t(e)}(t,e))}function RP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let kP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(di),D(Hn))},t.\u0275dir=X({type:t}),t})(),Yo=(()=>{class t extends kP{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=X({type:t,features:[Ce]}),t})();const Vr=new U("NgValueAccessor"),uQ={provide:Vr,useExisting:Re(()=>Ra),multi:!0},lQ=new U("CompositionEventMode");let Ra=(()=>{class t extends kP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cQ(){const t=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(di),D(Hn),D(lQ,8))},t.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ne("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[$e([uQ]),Ce]}),t})();function eo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function OP(t){return null!=t&&"number"==typeof t.length}const tn=new U("NgValidators"),to=new U("NgAsyncValidators"),dQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nn{static min(e){return function FP(t){return e=>{if(eo(e.value)||eo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function LP(t){return e=>{if(eo(e.value)||eo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function VP(t){return eo(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function UP(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function BP(t){return eo(t.value)||dQ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function $P(t){return e=>eo(e.value)||!OP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function jP(t){return e=>OP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function HP(t){if(!t)return bf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(eo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return QP(e)}static composeAsync(e){return YP(e)}}function bf(t){return null}function GP(t){return null!=t}function zP(t){return Cc(t)?St(t):t}function qP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function WP(t,e){return e.map(n=>n(t))}function KP(t){return t.map(e=>function hQ(t){return!t.validate}(e)?e:n=>e.validate(n))}function QP(t){if(!t)return null;const e=t.filter(GP);return 0==e.length?null:function(n){return qP(WP(n,e))}}function Hv(t){return null!=t?QP(KP(t)):null}function YP(t){if(!t)return null;const e=t.filter(GP);return 0==e.length?null:function(n){return function sQ(...t){const e=oA(t),{args:n,keys:r}=xP(t),i=new Qe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;ar(n[l]).subscribe(Tt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?RP(r,a):a),o.complete())}))}});return e?i.pipe(NP(e)):i}(WP(n,e).map(zP)).pipe(xe(qP))}}function Gv(t){return null!=t?YP(KP(t)):null}function XP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JP(t){return t._rawValidators}function ZP(t){return t._rawAsyncValidators}function zv(t){return t?Array.isArray(t)?t:[t]:[]}function Tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function eO(t,e){const n=zv(e);return zv(t).forEach(i=>{Tf(n,i)||n.push(i)}),n}function tO(t,e){return zv(e).filter(n=>!Tf(t,n))}class nO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class mn extends nO{get formDirective(){return null}get path(){return null}}class no extends nO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sf=(()=>{class t extends rO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(no,2))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Wh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),Af=(()=>{class t extends rO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Wh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();const Uc="VALID",xf="INVALID",ka="PENDING",Bc="DISABLED";function Kv(t){return(Nf(t)?t.validators:t)||null}function Qv(t,e){return(Nf(e)?e.asyncValidators:t)||null}function Nf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function oO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function sO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Yv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uc}get invalid(){return this.status===xf}get pending(){return this.status==ka}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tO(e,this._rawAsyncValidators))}hasValidator(e){return Tf(this._rawValidators,e)}hasAsyncValidator(e){return Tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===ka)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;const n=zP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(xf)?xf:Uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mQ(t){return Array.isArray(t)?Hv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yQ(t){return Array.isArray(t)?Gv(t):t||null}(this._rawAsyncValidators)}}class Pa extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sO(this,0,e),Object.keys(e).forEach(r=>{oO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Xo=new U("CallSetDisabledState",{providedIn:"root",factory:()=>$c}),$c="always";function Rf(t,e){return[...e.path,t]}function jc(t,e,n=$c){Xv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function wQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&aO(t,e)})}(t,e),function EQ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function IQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&aO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vQ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function kf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Of(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xv(t,e){const n=JP(t);null!==e.validator?t.setValidators(XP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=ZP(t);null!==e.asyncValidator?t.setAsyncValidators(XP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pf(e._rawValidators,i),Pf(e._rawAsyncValidators,i)}function Of(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=JP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=ZP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Pf(e._rawValidators,r),Pf(e._rawAsyncValidators,r),n}function aO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uO(t,e){Xv(t,e)}function Zv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function cO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ew(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ra?n=o:function bQ(t){return Object.getPrototypeOf(t.constructor)===Yo}(o)?r=o:i=o}),i||r||n||null}const SQ={provide:mn,useExisting:Re(()=>Ff)},Hc=(()=>Promise.resolve())();let Ff=(()=>{class t extends mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new Pa({},Hv(n),Gv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),jc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path),i=new Pa({});uO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,cO(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Xo,8))},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Ne("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([SQ]),Ce]}),t})();function lO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Rn=class extends Yv{constructor(e=null,n,r){super(Kv(n),Qv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=dO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let hO=(()=>{class t extends mn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=X({type:t,features:[Ce]}),t})();const xQ={provide:no,useExisting:Re(()=>tw)},pO=(()=>Promise.resolve())();let tw=(()=>{class t extends no{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Rn,this._registered=!1,this.name="",this.update=new Je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ew(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Zv(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){pO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Na(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);pO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Rf(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(mn,9),D(tn,10),D(to,10),D(Vr,10),D(af,8),D(Xo,8))},t.\u0275dir=X({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([xQ]),Ce,Xn]}),t})(),Lf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const NQ={provide:Vr,useExisting:Re(()=>nw),multi:!0};let nw=(()=>{class t extends Yo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Ne("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[$e([NQ]),Ce]}),t})();const RQ={provide:Vr,useExisting:Re(()=>rw),multi:!0};let gO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})(),kQ=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n)return void this._accessors.splice(r,1)}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return!!n[0].control&&n[0]._parent===r._control._parent&&n[1].name===r.name}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:gO}),t})(),rw=(()=>{class t extends Yo{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=L(Xo,{optional:!0})??$c}ngOnInit(){this._control=this._injector.get(no),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(n){return new(n||t)(D(di),D(Hn),D(kQ),D(Gn))},t.\u0275dir=X({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,r){1&n&&Ne("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[$e([RQ]),Ce]}),t})();const iw=new U("NgModelWithFormControlWarning"),OQ={provide:no,useExisting:Re(()=>ow)};let ow=(()=>{class t extends no{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Je,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ew(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&kf(r,this,!1),jc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Zv(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Vr,10),D(iw,8),D(Xo,8))},t.\u0275dir=X({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[$e([OQ]),Ce,Xn]}),t})();const FQ={provide:mn,useExisting:Re(()=>Gc)};let Gc=(()=>{class t extends mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Of(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return jc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){kf(n.control||null,n,!1),function TQ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,cO(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(kf(r||null,n),(t=>t instanceof Rn)(i)&&(jc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);uO(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function DQ(t,e){return Of(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xv(this.form,this),this._oldForm&&Of(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Xo,8))},t.\u0275dir=X({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Ne("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([FQ]),Ce,Xn]}),t})();const LQ={provide:mn,useExisting:Re(()=>Vf)};let Vf=(()=>{class t extends hO{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[$e([LQ]),Ce]}),t})();const VQ={provide:mn,useExisting:Re(()=>Uf)};let Uf=(()=>{class t extends mn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10))},t.\u0275dir=X({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[$e([VQ]),Ce]}),t})();function yO(t){return!(t instanceof Vf||t instanceof Gc||t instanceof Uf)}const UQ={provide:no,useExisting:Re(()=>sw)};let sw=(()=>{class t extends no{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ew(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Zv(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Rf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10),D(Vr,10),D(iw,8))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([UQ]),Ce,Xn]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[gO]}),t})();class lw extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){sO(this,0,e),e.forEach((r,i)=>{oO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}let eY=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Xo,useValue:n.callSetDisabledState??$c}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[MO]}),t})(),xO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:iw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Xo,useValue:n.callSetDisabledState??$c}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[MO]}),t})(),tY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[oP,xO]}),t})();function ne(...t){return St(t,$u(t))}class vr extends ei{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function dw(...t){const e=$u(t),n=oA(t),{args:r,keys:i}=xP(t);if(0===r.length)return St([],e);const o=new Qe(function rY(t,e,n=ko){return r=>{NO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)NO(e,()=>{const c=St(t[u],e);let l=!1;c.subscribe(Tt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>RP(i,s):ko));return n?o.pipe(NP(n)):o}function NO(t,e,n){t?ti(n,t,e):e()}const Bf=Uu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hw(...t){return function iY(){return $s(1)}()(St(t,$u(t)))}function RO(t){return new Qe(e=>{ar(t()).subscribe(e)})}function zc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new Qe(e?i=>e.schedule(r,0,i):r)}function fw(){return Lt((t,e)=>{let n=null;t._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kO extends Qe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,GS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const n=this.getSubject();e.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return fw()(this)}}function vi(t,e){return Lt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Tt(r,u=>{i?.unsubscribe();let c=0;const l=o++;ar(t(u,l)).subscribe(i=Tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Oa(t){return t<=0?()=>br:Lt((e,n)=>{let r=0;e.subscribe(Tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ro(t,e){return Lt((n,r)=>{let i=0;n.subscribe(Tt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $f(t){return Lt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PO(t=sY){return Lt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sY(){return new Bf}function Zo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ro((i,o)=>t(i,o,r)):ko,Oa(1),n?$f(e):PO(()=>new Bf))}function qc(t,e){return Ae(e)?Vt(t,e,1):Vt(t,1)}function nn(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Lt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Tt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ko}function es(t){return Lt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Tt(n,void 0,void 0,s=>{o=ar(t(s,es(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pw(t){return t<=0?()=>br:Lt((e,n)=>{let r=[];e.subscribe(Tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gw(t){return Lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",Wc=Symbol("RouteTitle");class dY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Fa(t){return new dY(t)}function hY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ur(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!OO(t[i],e[i]))return!1;return!0}function OO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function FO(t){return t.length>0?t[t.length-1]:null}function io(t){return function nY(t){return!!t&&(t instanceof Qe||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:Cc(t)?St(Promise.resolve(t)):ne(t)}const pY={exact:function UO(t,e,n){if(!ts(t.segments,e.segments)||!jf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UO(t.children[r],e.children[r],n))return!1;return!0},subset:BO},LO={exact:function gY(t,e){return Ur(t,e)},subset:function mY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OO(t[n],e[n]))},ignored:()=>!0};function VO(t,e,n){return pY[n.paths](t.root,e.root,n.matrixParams)&&LO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BO(t,e,n){return $O(t,e,e.segments,n)}function $O(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ts(i,n)||e.hasChildren()||!jf(i,n,r))}if(t.segments.length===n.length){if(!ts(t.segments,n)||!jf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ts(t.segments,i)&&jf(t.segments,i,r)&&t.children[ae])&&$O(t.children[ae],e,o,r)}}function jf(t,e,n){return e.every((r,i)=>LO[n](t[i].parameters,r.parameters))}class La{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return vY.serialize(this)}}class be{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hf(this)}}class Kc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Fa(this.parameters)),this._parameterMap}toString(){return GO(this)}}function ts(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Qc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new mw},providedIn:"root"}),t})();class mw{parse(e){const n=new xY(e);return new La(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Yc(e.root,!0)}`,r=function EY(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Gf(n)}=${Gf(i)}`).join("&"):`${Gf(n)}=${Gf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function wY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const vY=new mw;function Hf(t){return t.segments.map(e=>GO(e)).join("/")}function Yc(t,e){if(!t.hasChildren())return Hf(t);if(e){const n=t.children[ae]?Yc(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Yc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _Y(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[Yc(t.children[ae],!1)]:[`${i}:${Yc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${Hf(t)}/${n[0]}`:`${Hf(t)}/(${n.join("//")})`}}function jO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gf(t){return jO(t).replace(/%3B/gi,";")}function yw(t){return jO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zf(t){return decodeURIComponent(t)}function HO(t){return zf(t.replace(/\+/g,"%20"))}function GO(t){return`${yw(t.path)}${function IY(t){return Object.keys(t).map(e=>`;${yw(e)}=${yw(t[e])}`).join("")}(t.parameters)}`}const DY=/^[^\/()?;#]+/;function _w(t){const e=t.match(DY);return e?e[0]:""}const CY=/^[^\/()?;=#]+/,TY=/^[^=?&#]+/,AY=/^[^&#]+/;class xY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new be(e,n)),r}parseSegment(){const e=_w(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Kc(zf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function bY(t){const e=t.match(CY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=_w(this.remaining);i&&(r=i,this.capture(r))}e[zf(n)]=zf(r)}parseQueryParam(e){const n=function SY(t){const e=t.match(TY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function MY(t){const e=t.match(AY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=HO(n),o=HO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_w(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ae]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zO(t){return t.segments.length>0?new be([],{[ae]:t}):t}function qO(t){const e={};for(const r of Object.keys(t.children)){const o=qO(t.children[r]);if(r===ae&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function NY(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new be(t.segments.concat(e.segments),e.children)}return t}(new be(t.segments,e))}function ns(t){return t instanceof La}function WO(t){let e;const i=zO(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new be(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function KO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return vw(i,i,i,n,r);const o=function kY(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YO(n,e,r)}(e);if(o.toRoot())return vw(i,i,new be([],{}),n,r);const s=function PY(t,e,n){if(t.isAbsolute)return new Wf(e,!0,0);if(!n)return new Wf(e,!1,NaN);if(null===n.parent)return new Wf(n,!0,0);const r=qf(t.commands[0])?0:1;return function OY(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Wf(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Jc(s.segmentGroup,s.index,o.commands):XO(s.segmentGroup,s.index,o.commands);return vw(i,s.segmentGroup,a,n,r)}function qf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xc(t){return"object"==typeof t&&null!=t&&t.outlets}function vw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:QO(t,e,n);const a=zO(qO(s));return new La(a,o,i)}function QO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:QO(o,e,n)}),new be(t.segments,r)}class YO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qf(r[0]))throw new T(4003,!1);const i=r.find(Xc);if(i&&i!==FO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XO(t,e,n){if(t||(t=new be([],{})),0===t.segments.length&&t.hasChildren())return Jc(t,e,n);const r=function LY(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Xc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZO(u,c,s))return o;r+=2}else{if(!ZO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new be(t.segments.slice(r.pathIndex),t.children),Jc(o,0,i)}return r.match&&0===i.length?new be(t.segments,{}):r.match&&!t.hasChildren()?ww(t,e,n):r.match?Jc(t,0,i):ww(t,e,n)}function Jc(t,e,n){if(0===n.length)return new be(t.segments,{});{const r=function FY(t){return Xc(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(!r[ae]&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const o=Jc(t.children[ae],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=XO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new be(t.segments,i)}}function ww(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Xc(o)){const u=VY(o.outlets);return new be(r,u)}if(0===i&&qf(n[0])){r.push(new Kc(t.segments[e].path,JO(n[0]))),i++;continue}const s=Xc(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qf(a)?(r.push(new Kc(s,JO(a))),i+=2):(r.push(new Kc(s,{})),i++)}return new be(r,{})}function VY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=ww(new be([],{}),0,r))}),e}function JO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZO(t,e,n){return t==n.path&&Ur(e,n.parameters)}const Zc="imperative";class Br{constructor(e,n){this.id=e,this.url=n}}class Iw extends Br{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends Br{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kf extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ew extends Br{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Br{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tl,this.attachRef=null}}let tl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new YY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Dw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Dw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cw(e,this._root).map(n=>n.value)}}function Dw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Dw(t,n);if(r)return r}return null}function Cw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cw(t,n);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Va(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nF extends tF{constructor(e,n){super(e),this.snapshot=n,bw(this,e)}toString(){return this.snapshot.toString()}}function rF(t,e){const n=function XY(t,e){const s=new Qf([],{},{},"",{},ae,e,null,{});return new oF("",new wi(s,[]))}(0,e),r=new vr([new Kc("",{})]),i=new vr({}),o=new vr({}),s=new vr({}),a=new vr(""),u=new Ua(r,i,s,a,o,ae,e,n.root);return u.snapshot=n.root,new nF(new wi(u,[]),n)}class Ua{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(xe(c=>c[Wc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Fa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Fa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function JY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qf{get title(){return this.data?.[Wc]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oF extends tF{constructor(e,n){super(n),this.url=e,bw(this,n)}toString(){return sF(this._root)}}function bw(t,e){e.value._routerState=t,e.children.forEach(n=>bw(t,n))}function sF(t){const e=t.children.length>0?` { ${t.children.map(sF).join(", ")} } `:"";return`${t.value}${e}`}function Tw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ur(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ur(e.params,n.params)||t.paramsSubject.next(n.params),function fY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ur(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ur(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sw(t,e){const n=Ur(t.params,e.params)&&function yY(t,e){return ts(t,e)&&t.every((n,r)=>Ur(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Sw(t.parent,e.parent))}let aF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=L(tl),this.location=L(gr),this.changeDetector=L(af),this.environmentInjector=L(li),this.inputBinder=L(Yf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ZY(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]}),t})();class ZY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ua?this.route:e===tl?this.childContexts:this.parent.get(e,n)}}const Yf=new U("");let uF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=dw([r.queryParams,r.params,r.data]).pipe(vi(([o,s,a],u)=>(a={...o,...s,...a},0===u?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function S7(t){const e=we(t);if(!e)return null;const n=new vc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function tX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}(t,e,n);return new wi(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nl(t,a)),s}}const r=function nX(t){return new Ua(new vr(t.url),new vr(t.params),new vr(t.queryParams),new vr(t.fragment),new vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>nl(t,o));return new wi(r,i)}}const Aw="ngNavigationCancelingError";function cF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Aw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dF(t){return hF(t)&&ns(t.url)}function hF(t){return t&&t[Aw]}let fF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["ng-component"]],standalone:!0,features:[cR],decls:1,vars:0,template:function(n,r){1&n&&ht(0,"router-outlet")},dependencies:[aF],encapsulation:2}),t})();function Mw(t){const e=t.children&&t.children.map(Mw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=fF),n}function wr(t){return t.outlet||ae}function rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class cX{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Va(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Va(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new QY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new WY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Tw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=rl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class pF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xf{constructor(e,n){this.component=e,this.route=n}}function lX(t,e,n){const r=t._root;return il(r,e?e._root:null,n,[r.value])}function Ba(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function gG(t){return null!==Bd(t)}(t)?e.get(t):t:r}function il(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Va(e);return t.children.forEach(s=>{(function hX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function fX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ts(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(t.url,e.url)||!Ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sw(t,e)||!Ur(t.queryParams,e.queryParams);default:return!Sw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),il(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xf(a.outlet.component,s))}else s&&ol(e,a,i),i.canActivateChecks.push(new pF(r)),il(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ol(a,n.getContext(s),i)),i}function ol(t,e,n){const r=Va(t),i=t.value;Object.entries(r).forEach(([o,s])=>{ol(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sl(t){return"function"==typeof t}function gF(t){return t instanceof Bf||"EmptyError"===t?.name}const Jf=Symbol("INITIAL_VALUE");function $a(){return vi(t=>dw(t.map(e=>e.pipe(Oa(1),function oY(...t){const e=$u(t);return Lt((n,r)=>{(e?hw(t,n,e):hw(t,n)).subscribe(r)})}(Jf)))).pipe(xe(e=>{for(const n of e)if(!0!==n){if(n===Jf)return Jf;if(!1===n||n instanceof La)return n}return!0}),ro(e=>e!==Jf),Oa(1)))}function mF(t){return function PH(...t){return $S(t)}(nn(e=>{if(ns(e))throw cF(0,e)}),xe(e=>!0===e))}class Zf{constructor(e){this.segmentGroup=e||null}}class yF{constructor(e){this.urlTree=e}}function ja(t){return zc(new Zf(t))}function _F(t){return zc(new yF(t))}class kX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[ae])return zc(new T(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new La(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const xw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PX(t,e,n,r,i){const o=Nw(t,e,n);return o.matched?(r=function rX(t,e){return t.providers&&!t._injector&&(t._injector=P_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ne(i.map(s=>{const a=Ba(s,t);return io(function vX(t){return t&&sl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe($a(),mF()):ne(!0)}(r,e,n).pipe(xe(s=>!0===s?o:{...xw}))):ne(o)}function Nw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...xw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hY)(n,t,e);if(!i)return{...xw};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vF(t,e,n,r){return n.length>0&&function LX(t,e,n){return n.some(r=>ep(t,e,r)&&wr(r)!==ae)}(t,n,r)?{segmentGroup:new be(e,FX(r,new be(n,t.children))),slicedSegments:[]}:0===n.length&&function VX(t,e,n){return n.some(r=>ep(t,e,r))}(t,n,r)?{segmentGroup:new be(t.segments,OX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function OX(t,e,n,r,i){const o={};for(const s of r)if(ep(t,n,s)&&!i[wr(s)]){const a=new be([],{});o[wr(s)]=a}return{...i,...o}}function FX(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&wr(r)!==ae){const i=new be([],{});n[wr(r)]=i}return n}function ep(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class jX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new kX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=vF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(es(n=>{if(n instanceof yF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Zf?this.noMatchError(n):n}),xe(n=>{const r=new Qf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new wi(r,n),o=new oF("",i),s=function RY(t,e,n=null,r=null){return KO(WO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(es(r=>{throw r instanceof Zf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=iF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return St(i).pipe(qc(o=>{const s=r.children[o],a=function aX(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function uY(t,e){return Lt(function aY(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Tt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$f(null),function cY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ro((i,o)=>t(i,o,r)):ko,pw(1),n?$f(e):PO(()=>new Bf))}(),Vt(o=>{if(null===o)return ja(r);const s=wF(o);return function HX(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ne(s)}))}processSegment(e,n,r,i,o,s){return St(n).pipe(qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(es(u=>{if(u instanceof Zf)return ne(null);throw u}))),Zo(a=>!!a),es(a=>{if(gF(a))return function BX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ne([]):ja(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function UX(t,e,n,r){return!!(wr(t)===r||r!==ae&&ep(e,n,t))&&("**"===t.path||Nw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ja(i):ja(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_F(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Vt(s=>{const a=new be(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Nw(n,i,o);if(!a)return ja(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_F(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Vt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?FO(i).parameters:{};a=ne({snapshot:new Qf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),wr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=PX(n,r,i,e).pipe(xe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Qf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),wr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(vi(u=>null===u?ja(n):this.getChildConfig(e=r._injector??e,r,i).pipe(vi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=vF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(xe(w=>null===w?null:[new wi(d,w)]));if(0===c.length&&0===m.length)return ne([new wi(d,[])]);const y=wr(r)===o;return this.processSegment(l,c,p,m,y?ae:o,!0).pipe(xe(w=>[new wi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function MX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(s=>{const a=Ba(s,t);return io(function gX(t){return t&&sl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe($a(),mF())}(e,n,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,n).pipe(nn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function RX(t){return zc(lF(!1,3))}())):ne({routes:[],injector:e})}}function GX(t){const e=t.value.routeConfig;return e&&""===e.path}function wF(t){const e=[],n=new Set;for(const r of t){if(!GX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wF(r.children);e.push(new wi(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function EF(t){return t.resolve||{}}function DF(t){return"string"==typeof t.title||null===t.title}function Rw(t){return vi(e=>{const n=t(e);return n?St(n).pipe(xe(()=>e)):ne(e)})}const Ha=new U("ROUTES");let kw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(nk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=io(n.loadComponent()).pipe(xe(CF),nn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),gw(()=>{this.componentLoaders.delete(n)})),i=new kO(r,()=>new ei).pipe(fw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ha,[],q.Self|q.Optional).flat()),{routes:c.map(Mw),injector:u}}),gw(()=>{this.childrenLoaders.delete(r)})),s=new kO(o,()=>new ei).pipe(fw());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return io(n()).pipe(xe(CF),Vt(r=>r instanceof aR||Array.isArray(r)?ne(r):St(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CF(t){return function XX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let tp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ei,this.configLoader=L(kw),this.environmentInjector=L(li),this.urlSerializer=L(Qc),this.rootContexts=L(tl),this.inputBindingEnabled=null!==L(Yf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new zY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new GY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new vr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ro(r=>0!==r.id),xe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),vi(r=>{let i=!1,o=!1;return ne(r).pipe(nn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new el(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),br}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return bF(s.source)&&(n.browserUrlTree=s.extractedUrl),ne(s).pipe(vi(l=>{const d=this.transitions?.getValue();return this.events.next(new Iw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?br:Promise.resolve(l)}),function zX(t,e,n,r,i,o){return Vt(s=>function $X(t,e,n,r,i,o,s="emptyOnly"){return new jX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),nn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new UY(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new Iw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=rF(0,this.rootComponentType).snapshot;return ne(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new el(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),br}}),nn(s=>{const a=new BY(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xe(s=>r={...s,guards:lX(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function IX(t,e){return Vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ne({...n,guardsResult:!0}):function EX(t,e,n,r){return St(t).pipe(Vt(i=>function AX(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(a=>{const u=rl(e)??i,c=Ba(a,u);return io(function _X(t){return t&&sl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Zo())})).pipe($a()):ne(!0)}(i.component,i.route,n,e,r)),Zo(i=>!0!==i,!0))}(s,r,i,t).pipe(Vt(a=>a&&function pX(t){return"boolean"==typeof t}(a)?function DX(t,e,n,r){return St(e).pipe(qc(i=>hw(function bX(t,e){return null!==t&&e&&e(new qY(t)),ne(!0)}(i.route.parent,r),function CX(t,e){return null!==t&&e&&e(new KY(t)),ne(!0)}(i.route,r),function SX(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function dX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>RO(()=>ne(s.guards.map(u=>{const c=rl(s.node)??n,l=Ba(u,c);return io(function yX(t){return t&&sl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Zo())})).pipe($a())));return ne(o).pipe($a())}(t,i.path,n),function TX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(o=>RO(()=>{const s=rl(e)??n,a=Ba(o,s);return io(function mX(t){return t&&sl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Zo())}));return ne(i).pipe($a())}(t,i.route,n))),Zo(i=>!0!==i,!0))}(r,o,t,e):ne(a)),xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),nn(s=>{if(r.guardsResult=s.guardsResult,ns(s.guardsResult))throw cF(0,s.guardsResult);const a=new $Y(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ro(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Rw(s=>{if(s.guards.canActivateChecks.length)return ne(s).pipe(nn(a=>{const u=new jY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vi(a=>{let u=!1;return ne(a).pipe(function qX(t,e){return Vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=0;return St(i).pipe(qc(s=>function WX(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!DF(i)&&(o[Wc]=i.title),function KX(t,e,n,r){const i=function QX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ne({});const o={};return St(i).pipe(Vt(s=>function YX(t,e,n,r){const i=rl(e)??r,o=Ba(t,i);return io(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Zo(),nn(a=>{o[s]=a}))),pw(1),function lY(t){return xe(()=>t)}(o),es(s=>gF(s)?br:zc(s)))}(o,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=iF(t,n).resolve,i&&DF(i)&&(t.data[Wc]=i.title),null)))}(s.route,r,t,e)),nn(()=>o++),pw(1),Vt(s=>o===i.length?ne(n):br))})}(n.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),nn(a=>{const u=new HY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Rw(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(nn(l=>{u.component=l}),xe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return dw(a(s.targetSnapshot.root)).pipe($f(),Oa(1))}),Rw(()=>this.afterPreactivation()),xe(s=>{const a=function eX(t,e,n){const r=nl(t,e._root,n?n._root:void 0);return new nF(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),nn(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>xe(i=>(new cX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Oa(1),nn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new rs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),gw(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),es(s=>{if(o=!0,hF(s)){dF(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Kf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),dF(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bF(r.source)};n.scheduleNavigation(u,Zc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Ew(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return br}))}))}cancelNavigationTransition(n,r,i){const o=new Kf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bF(t){return t!==Zc}let TF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Wc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(JX)},providedIn:"root"}),t})(),JX=(()=>{class t extends TF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(H(TP))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(tJ)},providedIn:"root"}),t})();class eJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let tJ=(()=>{class t extends eJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const np=new U("",{providedIn:"root",factory:()=>({})});let nJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(rJ)},providedIn:"root"}),t})(),rJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qn=(()=>((qn=qn||{})[qn.COMPLETE=0]="COMPLETE",qn[qn.FAILED=1]="FAILED",qn[qn.REDIRECTING=2]="REDIRECTING",qn))();function SF(t,e){t.events.pipe(ro(n=>n instanceof rs||n instanceof Kf||n instanceof Ew||n instanceof el),xe(n=>n instanceof rs||n instanceof el?qn.COMPLETE:n instanceof Kf&&(0===n.code||1===n.code)?qn.REDIRECTING:qn.FAILED),ro(n=>n!==qn.REDIRECTING),Oa(1)).subscribe(()=>{e()})}function iJ(t){throw t}function oJ(t,e,n){return e.parse("/")}const sJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(tk),this.isNgZoneEnabled=!1,this.options=L(np,{optional:!0})||{},this.pendingTasks=L(Vk),this.errorHandler=this.options.errorHandler||iJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(nJ),this.routeReuseStrategy=L(ZX),this.titleStrategy=L(TF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(Ha,{optional:!0})?.flat()??[],this.navigationTransitions=L(tp),this.urlSerializer=L(Qc),this.location=L(mv),this.componentInputBindingEnabled=!!L(Yf,{optional:!0}),this.isNgZoneEnabled=L(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new La,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=WO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return KO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ns(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zc,null,r)}navigate(n,r={skipLocationChange:!1}){return function uJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...sJ}:!1===r?{...aJ}:r,ns(n))return VO(this.currentUrlTree,n,i);const o=this.parseUrl(n);return VO(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return SF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class AF{}let dJ=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ro(n=>n instanceof rs),qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=P_(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return St(i).pipe($s())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ne(null);const o=i.pipe(Vt(s=>null===s?ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?St([o,this.loader.loadComponent(r)]).pipe($s()):o})}}return t.\u0275fac=function(n){return new(n||t)(H(rr),H(nk),H(li),H(AF),H(kw))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ow=new U("");let MF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Iw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof el&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Jx(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Ii(t,e){return{\u0275kind:t,\u0275providers:e}}function NF(){const t=L(Gn);return e=>{const n=t.get(xa);if(e!==n.components[0])return;const r=t.get(rr),i=t.get(RF);1===t.get(Fw)&&r.initialNavigation(),t.get(kF,null,q.Optional)?.setUpPreloading(),t.get(Ow,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RF=new U("",{factory:()=>new ei}),Fw=new U("",{providedIn:"root",factory:()=>1}),kF=new U("");function gJ(t){return Ii(0,[{provide:kF,useExisting:dJ},{provide:AF,useExisting:t}])}const PF=new U("ROUTER_FORROOT_GUARD"),yJ=[mv,{provide:Qc,useClass:mw},rr,tl,{provide:Ua,useFactory:function xF(t){return t.routerState.root},deps:[rr]},kw,[]];function _J(){return new fk("Router",rr)}let OF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[yJ,[],{provide:Ha,multi:!0,useValue:n},{provide:PF,useFactory:EJ,deps:[[rr,new fn,new fh]]},{provide:np,useValue:r||{}},r?.useHash?{provide:Qo,useClass:R7}:{provide:Qo,useClass:jk},{provide:Ow,useFactory:()=>{const t=L(K8),e=L(Me),n=L(np),r=L(tp),i=L(Qc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new MF(i,r,t,e,n)}},r?.preloadingStrategy?gJ(r.preloadingStrategy).\u0275providers:[],{provide:fk,multi:!0,useFactory:_J},r?.initialNavigation?DJ(r):[],r?.bindToComponentInputs?Ii(8,[uF,{provide:Yf,useExisting:uF}]).\u0275providers:[],[{provide:FF,useFactory:NF},{provide:ov,multi:!0,useExisting:FF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ha,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(H(PF,8))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})();function EJ(t){return"guarded"}function DJ(t){return["disabled"===t.initialNavigation?Ii(3,[{provide:Y_,multi:!0,useFactory:()=>{const e=L(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Fw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ii(2,[{provide:Fw,useValue:0},{provide:Y_,multi:!0,deps:[Gn],useFactory:e=>{const n=e.get(x7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(rr),o=e.get(RF);SF(i,()=>{r(!0)}),e.get(tp).afterPreactivation=()=>(r(!0),o.closed?ne(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new U(""),bJ=[];let TJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[OF.forRoot(bJ),OF]}),t})();function LF(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){LF(o,r,i,s,a,"next",u)}function a(u){LF(o,r,i,s,a,"throw",u)}s(void 0)})}}const VF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new xJ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rp=function(t){return function(t){const e=VF(t);return Vw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ip=function(t){try{return Vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},op=()=>{try{return function kJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ip(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},BF=t=>{var e,n;return null===(n=null===(e=op())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},$F=()=>{var t;return null===(t=op())||void 0===t?void 0:t.config},jF=t=>{var e;return null===(e=op())||void 0===e?void 0:e[`_${t}`]};class sp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Uw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function is(){try{return"object"==typeof indexedDB}catch{return!1}}function al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Bw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function GJ(t,e){return t.replace(zJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ir(i,`${this.serviceName}: ${s} (${i}).`,r)}}const zJ=/\{\$([^}]+)}/g;function up(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GF(o)&&GF(s)){if(!up(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GF(t){return null!==t&&"object"==typeof t}function cp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class KJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function QJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=$w),void 0===i.error&&(i.error=$w),void 0===i.complete&&(i.complete=$w);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $w(){}const YJ=1e3,XJ=2,JJ=144e5,ZJ=.5;function Hw(t,e=YJ,n=XJ){const r=e*Math.pow(n,t),i=Math.round(ZJ*r*(Math.random()-.5)*2);return Math.min(JJ,r+i)}function yn(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const os="[DEFAULT]";class tZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function rZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===os?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Gw=[];var J=(()=>((J=J||{})[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J))();const zF={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},oZ=J.INFO,sZ={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},aZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ga{constructor(e){this.name=e,this._logLevel=oZ,this._logHandler=aZ,this._userLogHandler=null,Gw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const uZ=(t,e)=>e.some(n=>t instanceof n);let qF,WF;const KF=new WeakMap,zw=new WeakMap,QF=new WeakMap,qw=new WeakMap,Ww=new WeakMap;let Kw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gZ(t){return"function"==typeof t?function pZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lZ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Qw(this),e),oo(KF.get(this))}:function(...e){return oo(t.apply(Qw(this),e))}:function(e,...n){const r=t.call(Qw(this),e,...n);return QF.set(r,e.sort?e.sort():[e]),oo(r)}}(t):(t instanceof IDBTransaction&&function hZ(t){if(zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zw.set(t,e)}(t),uZ(t,function cZ(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Kw):t)}function oo(t){if(t instanceof IDBRequest)return function dZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KF.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}(t);if(qw.has(t))return qw.get(t);const e=gZ(t);return e!==t&&(qw.set(t,e),Ww.set(e,t)),e}const Qw=t=>Ww.get(t),yZ=["get","getKey","getAll","getAllKeys","count"],_Z=["put","add","delete","clear"],Yw=new Map;function YF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Yw.get(e))return Yw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_Z.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yZ.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Yw.set(e,o),o}!function fZ(t){Kw=t(Kw)}(t=>({...t,get:(e,n,r)=>YF(e,n)||t.get(e,n,r),has:(e,n)=>!!YF(e,n)||t.has(e,n)}));class vZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Xw="@firebase/app",ss=new Ga("@firebase/app"),lp="[DEFAULT]",qZ={[Xw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},as=new Map,dp=new Map;function WZ(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _n(t){const e=t.name;if(dp.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,t);for(const n of as.values())WZ(n,t);return!0}function za(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ei=new $r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class QZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const us="9.22.0";function Jw(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=$F()),!n)throw Ei.create("no-options");const o=as.get(i);if(o){if(up(n,o.options)&&up(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}const s=new iZ(i);for(const u of dp.values())s.addComponent(u);const a=new QZ(n,r,s);return as.set(i,a),a}function Zw(t=lp){const e=as.get(t);if(!e&&t===lp&&$F())return Jw();if(!e)throw Ei.create("no-app",{appName:t});return e}function JF(){return Array.from(as.values())}function Ze(t,e,n){var r;let i=null!==(r=qZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ss.warn(a.join(" "))}_n(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const YZ="firebase-heartbeat-database",XZ=1,ll="firebase-heartbeat-store";let tI=null;function ZF(){return tI||(tI=function mZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=oo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(oo(s.result),u.oldVersion,u.newVersion,oo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(YZ,XZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ll)}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),tI}function nI(){return(nI=g(function*(t){try{return yield(yield ZF()).transaction(ll).objectStore(ll).get(tL(t))}catch(e){if(e instanceof ir)ss.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}})).apply(this,arguments)}function eL(t,e){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t,e){try{const r=(yield ZF()).transaction(ll,"readwrite");yield r.objectStore(ll).put(e,tL(t)),yield r.done}catch(n){if(n instanceof ir)ss.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}})).apply(this,arguments)}function tL(t){return`${t.name}!${t.options.appId}`}class tee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ree(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nL(),{heartbeatsToSend:r,unsentEntries:i}=function nee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function nL(){return(new Date).toISOString().substring(0,10)}class ree{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!is()&&al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function JZ(t){return nI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rL(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}!function iee(t){_n(new rn("platform-logger",e=>new vZ(e),"PRIVATE")),_n(new rn("heartbeat",e=>new tee(e),"PRIVATE")),Ze(Xw,"0.9.10",t),Ze(Xw,"0.9.10","esm2017"),Ze("fire-js","")}(""),Ze("firebase","9.22.0","app");const aee=(t,e)=>e.some(n=>t instanceof n);let iL,oL;const sL=new WeakMap,iI=new WeakMap,aL=new WeakMap,oI=new WeakMap,sI=new WeakMap;let aI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pee(t){return"function"==typeof t?function fee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cee(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uI(this),e),so(sL.get(this))}:function(...e){return so(t.apply(uI(this),e))}:function(e,...n){const r=t.call(uI(this),e,...n);return aL.set(r,e.sort?e.sort():[e]),so(r)}}(t):(t instanceof IDBTransaction&&function dee(t){if(iI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iI.set(t,e)}(t),aee(t,function uee(){return iL||(iL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aI):t)}function so(t){if(t instanceof IDBRequest)return function lee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(so(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),sI.set(e,t),e}(t);if(oI.has(t))return oI.get(t);const e=pee(t);return e!==t&&(oI.set(t,e),sI.set(e,t)),e}const uI=t=>sI.get(t),mee=["get","getKey","getAll","getAllKeys","count"],yee=["put","add","delete","clear"],cI=new Map;function uL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(cI.get(e))return cI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mee.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return cI.set(e,o),o}!function hee(t){aI=t(aI)}(t=>({...t,get:(e,n,r)=>uL(e,n)||t.get(e,n,r),has:(e,n)=>!!uL(e,n)||t.has(e,n)}));const cL="@firebase/installations",lI="0.6.4",lL=1e4,dL=`w:${lI}`,hL="FIS_v2",_ee="https://firebaseinstallations.googleapis.com/v1",vee=36e5,Di=new $r("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fL(t){return t instanceof ir&&t.code.includes("request-failed")}function dI({projectId:t}){return`${_ee}/projects/${t}/installations`}function pL(t){return{token:t.token,requestStatus:2,expiresIn:Dee(t.expiresIn),creationTime:Date.now()}}function hI(t,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e){const r=(yield e.json()).error;return Di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function gL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pI(t){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Dee(t){return Number(t.replace("s","000"))}function mI(){return(mI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dI(t),i=gL(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hL,appId:t.appId,sdkVersion:dL})},u=yield pI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:pL(c.authToken)}}throw yield hI("Create Installation",u)})).apply(this,arguments)}function yL(t){return new Promise(e=>{setTimeout(e,t)})}const See=/^[cdef][\w-]{21}$/,yI="";function Aee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Mee(t){return function Tee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return See.test(n)?n:yI}catch{return yI}}function qa(t){return`${t.appName}!${t.appId}`}const Wa=new Map;function _L(t,e){const n=qa(t);vL(n,e),function Ree(t,e){const n=function wL(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{vL(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function IL(){0===Wa.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function vL(t,e){const n=Wa.get(t);if(n)for(const r of n)r(e)}let cs=null;const kee="firebase-installations-database",Pee=1,ls="firebase-installations-store";let _I=null;function vI(){return _I||(_I=function gee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=so(s);return r&&s.addEventListener("upgradeneeded",u=>{r(so(s.result),u.oldVersion,u.newVersion,so(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kee,Pee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ls)}})),_I}function hp(t,e){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t,e){const n=qa(t),i=(yield vI()).transaction(ls,"readwrite"),o=i.objectStore(ls),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&_L(t,e.fid),e})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t){const e=qa(t),r=(yield vI()).transaction(ls,"readwrite");yield r.objectStore(ls).delete(e),yield r.done})).apply(this,arguments)}function dl(t,e){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(t,e){const n=qa(t),i=(yield vI()).transaction(ls,"readwrite"),o=i.objectStore(ls),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&_L(t,a.fid),a})).apply(this,arguments)}function CI(t){return bI.apply(this,arguments)}function bI(){return bI=g(function*(t){let e;const n=yield dl(t.appConfig,r=>{const i=function Oee(t){return DL(t||{fid:Aee(),registrationStatus:0})}(r),o=function Fee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Di.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Lee(t,e){return TI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Vee(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===yI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),bI.apply(this,arguments)}function TI(){return TI=g(function*(t,e){try{const n=yield function bee(t,e){return mI.apply(this,arguments)}(t,e);return hp(t.appConfig,n)}catch(n){throw fL(n)&&409===n.customData.serverCode?yield II(t.appConfig):yield hp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),TI.apply(this,arguments)}function Vee(t){return SI.apply(this,arguments)}function SI(){return(SI=g(function*(t){let e=yield EL(t.appConfig);for(;1===e.registrationStatus;)yield yL(100),e=yield EL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield CI(t);return r||n}return e})).apply(this,arguments)}function EL(t){return dl(t,e=>{if(!e)throw Di.create("installation-not-found");return DL(e)})}function DL(t){return function Uee(t){return 1===t.registrationStatus&&t.registrationTime+lL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function AI(){return(AI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function $ee(t,{fid:e}){return`${dI(t)}/${e}/authTokens:generate`}(t,n),i=function mL(t,{refreshToken:e}){const n=gL(t);return n.append("Authorization",function Cee(t){return`${hL} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dL,appId:t.appId}})},u=yield pI(()=>fetch(r,a));if(u.ok)return pL(yield u.json());throw yield hI("Generate Auth Token",u)})).apply(this,arguments)}function MI(t){return xI.apply(this,arguments)}function xI(){return xI=g(function*(t,e=!1){let n;const r=yield dl(t.appConfig,o=>{if(!bL(o))throw Di.create("not-registered");const s=o.authToken;if(!e&&function Gee(t){return 2===t.requestStatus&&!function zee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vee}(t)}(s))return o;if(1===s.requestStatus)return n=function jee(t,e){return NI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Di.create("app-offline");const a=function qee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Hee(t,e){return RI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),xI.apply(this,arguments)}function NI(){return(NI=g(function*(t,e){let n=yield CL(t.appConfig);for(;1===n.authToken.requestStatus;)yield yL(100),n=yield CL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?MI(t,e):r})).apply(this,arguments)}function CL(t){return dl(t,e=>{if(!bL(e))throw Di.create("not-registered");return function Wee(t){return 1===t.requestStatus&&t.requestTime+lL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function RI(){return RI=g(function*(t,e){try{const n=yield function Bee(t,e){return AI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hp(t.appConfig,r),n}catch(n){if(!fL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hp(t.appConfig,r)}else yield II(t.appConfig);throw n}}),RI.apply(this,arguments)}function bL(t){return void 0!==t&&2===t.registrationStatus}function kI(){return(kI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield CI(e);return r?r.catch(console.error):MI(e).catch(console.error),n.fid})).apply(this,arguments)}function PI(){return PI=g(function*(t,e=!1){const n=t;return yield function Yee(t){return OI.apply(this,arguments)}(n),(yield MI(n,e)).token}),PI.apply(this,arguments)}function OI(){return(OI=g(function*(t){const{registrationPromise:e}=yield CI(t);e&&(yield e)})).apply(this,arguments)}function VI(t){return Di.create("missing-app-config-values",{valueName:t})}const TL="installations",tte=t=>{const e=t.getProvider("app").getImmediate(),n=function Zee(t){if(!t||!t.options)throw VI("App Configuration");if(!t.name)throw VI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw VI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:za(e,"heartbeat"),_delete:()=>Promise.resolve()}},nte=t=>{const n=za(t.getProvider("app").getImmediate(),TL).getImmediate();return{getId:()=>function Kee(t){return kI.apply(this,arguments)}(n),getToken:i=>function Qee(t){return PI.apply(this,arguments)}(n,i)}};(function rte(){_n(new rn(TL,tte,"PUBLIC")),_n(new rn("installations-internal",nte,"PRIVATE"))})(),Ze(cL,lI),Ze(cL,lI,"esm2017");const UI="@firebase/remote-config",kn=new $r("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function gte(t=navigator){return t.languages&&t.languages[0]||t.language}class mte{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:gte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),kn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw kn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw kn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class vte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function yte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function _te(t){if(!(t instanceof ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Hw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class Ete{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pp(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const ds="app_namespace_store";class Tte{constructor(e,n,r,i=function bte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ds],"readonly").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(pp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(kn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([ds],"readwrite").objectStore(ds),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(pp(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(kn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ds],"readwrite").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(pp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(kn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ste{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Mte(){return GI.apply(this,arguments)}function GI(){return(GI=g(function*(){if(!is())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}!function Ate(){_n(new rn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!is())throw kn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw kn.create("registration-project-id");if(!s)throw kn.create("registration-api-key");if(!a)throw kn.create("registration-app-id");const u=new Tte(a,r.name,n=n||"firebase"),c=new Ste(u),l=new Ga(UI);l.logLevel=J.ERROR;const d=new mte(i,us,n,o,s,a),h=new vte(d,u),f=new pte(h,u,c,l),p=new Ete(r,f,c,u,l);return function dte(t){const e=yn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ze(UI,"0.4.4"),Ze(UI,"0.4.4","esm2017")}();const xte=(t,e)=>e.some(n=>t instanceof n);let xL,NL;const RL=new WeakMap,zI=new WeakMap,kL=new WeakMap,qI=new WeakMap,WI=new WeakMap;let KI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Lte(t){return"function"==typeof t?function Fte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rte(){return NL||(NL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(QI(this),e),Ci(RL.get(this))}:function(...e){return Ci(t.apply(QI(this),e))}:function(e,...n){const r=t.call(QI(this),e,...n);return kL.set(r,e.sort?e.sort():[e]),Ci(r)}}(t):(t instanceof IDBTransaction&&function Pte(t){if(zI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zI.set(t,e)}(t),xte(t,function Nte(){return xL||(xL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,KI):t)}function Ci(t){if(t instanceof IDBRequest)return function kte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RL.set(n,t)}).catch(()=>{}),WI.set(e,t),e}(t);if(qI.has(t))return qI.get(t);const e=Lte(t);return e!==t&&(qI.set(t,e),WI.set(e,t)),e}const QI=t=>WI.get(t);function PL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ci(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ci(s.result),u.oldVersion,u.newVersion,Ci(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function YI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ci(n).then(()=>{})}const Vte=["get","getKey","getAll","getAllKeys","count"],Ute=["put","add","delete","clear"],XI=new Map;function OL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(XI.get(e))return XI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ute.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vte.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return XI.set(e,o),o}!function Ote(t){KI=t(KI)}(t=>({...t,get:(e,n,r)=>OL(e,n)||t.get(e,n,r),has:(e,n)=>!!OL(e,n)||t.has(e,n)}));const Bte="/firebase-messaging-sw.js",$te="/firebase-cloud-messaging-push-scope",FL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jte="https://fcmregistrations.googleapis.com/v1",LL="google.c.a.c_id",Hte="google.c.a.c_l",Gte="google.c.a.ts";var ao=(()=>((ao=ao||{}).PUSH_RECEIVED="push-received",ao.NOTIFICATION_CLICKED="notification-clicked",ao))();function bi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qte(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const JI="fcm_token_details_db",Wte=5,VL="fcm_token_object_Store";function ZI(){return ZI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(JI))return null;let e=null;return(yield PL(JI,Wte,{upgrade:(r=g(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(VL))return;const c=a.objectStore(VL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:bi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield YI(JI),yield YI("fcm_vapid_details_db"),yield YI("undefined"),function Qte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ZI.apply(this,arguments)}const Yte="firebase-messaging-database",Xte=1,hs="firebase-messaging-store";let eE=null;function tE(){return eE||(eE=PL(Yte,Xte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hs)}})),eE}function UL(t){return nE.apply(this,arguments)}function nE(){return nE=g(function*(t){const e=sE(t),r=yield(yield tE()).transaction(hs).objectStore(hs).get(e);if(r)return r;{const i=yield function Kte(t){return ZI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield rE(t,i),i}}),nE.apply(this,arguments)}function rE(t,e){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(t,e){const n=sE(t),i=(yield tE()).transaction(hs,"readwrite");return yield i.objectStore(hs).put(e,n),yield i.done,e})).apply(this,arguments)}function oE(){return(oE=g(function*(t){const e=sE(t),r=(yield tE()).transaction(hs,"readwrite");yield r.objectStore(hs).delete(e),yield r.done})).apply(this,arguments)}function sE({appConfig:t}){return t.appId}const jt=new $r("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ene(t,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e){const n=yield dE(t),r=$L(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(lE(t.appConfig),i)).json()}catch(s){throw jt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw jt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw jt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function uE(){return(uE=g(function*(t,e){const n=yield dE(t),r=$L(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${lE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw jt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw jt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw jt.create("token-update-no-token");return o.token})).apply(this,arguments)}function BL(t,e){return cE.apply(this,arguments)}function cE(){return(cE=g(function*(t,e){const r={method:"DELETE",headers:yield dE(t)};try{const o=yield(yield fetch(`${lE(t.appConfig)}/${e}`,r)).json();if(o.error)throw jt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function lE({projectId:t}){return`${jte}/projects/${t}/registrations`}function dE(t){return hE.apply(this,arguments)}function hE(){return(hE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function $L({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==FL&&(i.web.applicationPubKey=r),i}const nne=6048e5;function fE(){return fE=g(function*(t){const e=yield function one(t,e){return yE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:bi(e.getKey("auth")),p256dh:bi(e.getKey("p256dh"))},r=yield UL(t.firebaseDependencies);if(r){if(function sne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+nne?function ine(t,e){return gE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield BL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return HL(t.firebaseDependencies,n)}return HL(t.firebaseDependencies,n)}),fE.apply(this,arguments)}function pE(){return pE=g(function*(t){const e=yield UL(t.firebaseDependencies);e&&(yield BL(t.firebaseDependencies,e.token),yield function Jte(t){return oE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),pE.apply(this,arguments)}function gE(){return gE=g(function*(t,e){try{const n=yield function tne(t,e){return uE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield rE(t.firebaseDependencies,r),n}catch(n){throw yield function jL(t){return pE.apply(this,arguments)}(t),n}}),gE.apply(this,arguments)}function HL(t,e){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(t,e){const r={token:yield ene(t,e),createTime:Date.now(),subscriptionOptions:e};return yield rE(t,r),r.token})).apply(this,arguments)}function yE(){return(yE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qte(e)})})).apply(this,arguments)}function GL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function ane(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function une(t,e){e.data&&(t.data=e.data)}(e,t),function cne(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function zL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function _E(t){return jt.create("missing-app-config-values",{valueName:t})}zL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function dne(t){if(!t||!t.options)throw _E("App Configuration Object");if(!t.name)throw _E("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw _E(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function vE(){return(vE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Bte,{scope:$te}),t.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function wE(){return(wE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function qL(t){return vE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function IE(){return(IE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=FL)})).apply(this,arguments)}function EE(){return EE=g(function*(t,e){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function pne(t,e){return IE.apply(this,arguments)}(t,e?.vapidKey),yield function fne(t,e){return wE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function rne(t){return fE.apply(this,arguments)}(t)}),EE.apply(this,arguments)}function DE(){return(DE=g(function*(t,e,n){const r=function mne(t){switch(t){case ao.NOTIFICATION_CLICKED:return"notification_open";case ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[LL],message_name:n[Hte],message_time:n[Gte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function CE(){return CE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ao.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(GL(n)):t.onMessageHandler.next(GL(n)));const r=n.data;(function lne(t){return"object"==typeof t&&!!t&&LL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function gne(t,e,n){return DE.apply(this,arguments)}(t,n.messageType,r))}),CE.apply(this,arguments)}const KL="@firebase/messaging",_ne=t=>{const e=new hne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function yne(t,e){return CE.apply(this,arguments)}(e,n)),e},vne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function WL(t,e){return EE.apply(this,arguments)}(e,r)}};function YL(){return bE.apply(this,arguments)}function bE(){return(bE=g(function*(){try{yield al()}catch{return!1}return typeof window<"u"&&is()&&Bw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wne(){_n(new rn("messaging",_ne,"PUBLIC")),_n(new rn("messaging-internal",vne,"PRIVATE")),Ze(KL,"0.12.4"),Ze(KL,"0.12.4","esm2017")}();const gp="analytics",Dne="firebase_id",Cne="origin",bne=6e4,Tne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AE="https://www.googletagmanager.com/gtag/js",xt=new Ga("@firebase/analytics"),vn=new $r("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ane(t){if(!t.startsWith(AE)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function XL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ME(){return(ME=g(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield XL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,o)})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield XL(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){xt.error(o)}})).apply(this,arguments)}const Lne=30,JL=new class Une{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function NE(){return(NE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bne(r)},o=Tne.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function RE(){return(RE=g(function*(t,e=JL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:bne),ZL({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function ZL(t,e,n){return kE.apply(this,arguments)}function kE(){return kE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JL){var o;const{appId:s,measurementId:a}=t;try{yield function Hne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function $ne(t){return NE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function Gne(t){if(!(t instanceof ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Hw(n,i.intervalMillis,Lne):Hw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),xt.debug(`Calling attemptFetch again in ${l} millis`),ZL(t,d,r,i)}}),kE.apply(this,arguments)}class zne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let PE,$E;function OE(){return(OE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function jE(){return(jE=g(function*(){if(!is())return xt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield al()}catch(t){return xt.warn(vn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function HE(){return HE=g(function*(t,e,n,r,i,o,s){var a;const u=function jne(t){return RE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=function Jne(){return jE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Fne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(AE)&&n.src.includes(t))return n;return null})(o)||function xne(t,e){const n=function Mne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Ane}),r=document.createElement("script"),i=`${AE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),$E&&(i("consent","default",$E),function e2(t){$E=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Cne]="firebase",h.update=!0,null!=d&&(h[Dne]=d),i("config",l.measurementId,h),PE&&(i("set",PE),function t2(t){PE=t}(void 0)),l.measurementId}),HE.apply(this,arguments)}class ere{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},n2=[];const r2={};let o2,Hr,mp="dataLayer",GE=!1;function nre(t,e,n){!function tre(){const t=[];if(Uw()&&t.push("This is a browser extension environment."),Bw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw vn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw vn.create("already-exists",{id:r});if(!GE){!function Nne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mp);const{wrappedGtag:o,gtagCore:s}=function One(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Pne(t,e,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function kne(t,e,n,r,i){return xE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function Rne(t,e,n,r,i,o){return ME.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){xt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(jr,n2,r2,mp,"gtag");Hr=o,o2=s,GE=!0}return jr[r]=function Zne(t,e,n,r,i,o,s){return HE.apply(this,arguments)}(t,n2,r2,e,o2,mp,n),new ere(t)}function ire(){return zE.apply(this,arguments)}function zE(){return(zE=g(function*(){if(Uw()||!Bw()||!is())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}const s2="@firebase/analytics";!function sre(){_n(new rn(gp,(e,{options:n})=>nre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),_n(new rn("analytics-internal",function t(e){try{const n=e.getProvider(gp).getImmediate();return{logEvent:(r,i,o)=>function ore(t,e,n,r){t=yn(t),function qne(t,e,n,r,i){return OE.apply(this,arguments)}(Hr,jr[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,o)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ze(s2,"0.10.0"),Ze(s2,"0.10.0","esm2017")}();class are extends Ln{constructor(e,n){super()}schedule(e,n=0){return this}}const yp={setInterval(t,e,...n){const{delegate:r}=yp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class u2 extends are{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return yp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const c2={now:()=>(c2.delegate||Date).now(),delegate:void 0};class hl{constructor(e,n=hl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}hl.now=c2.now;class l2 extends hl{constructor(e,n=hl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const lre=new class cre extends l2{}(class ure extends u2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),dre=new l2(u2),_p=new da("7.5.0"),WE="__angularfire_symbol__analyticsIsSupportedValue",KE="__angularfire_symbol__analyticsIsSupported",QE="__angularfire_symbol__remoteConfigIsSupportedValue",YE="__angularfire_symbol__remoteConfigIsSupported",XE="__angularfire_symbol__messagingIsSupportedValue",JE="__angularfire_symbol__messagingIsSupported";function eD(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[KE]||(globalThis[KE]=ire().then(t=>globalThis[WE]=t).catch(()=>globalThis[WE]=!1)),globalThis[JE]||(globalThis[JE]=YL().then(t=>globalThis[XE]=t).catch(()=>globalThis[XE]=!1)),globalThis[YE]||(globalThis[YE]=Mte().then(t=>globalThis[QE]=t).catch(()=>globalThis[QE]=!1));const tD=(t,e)=>{const n=e?[e]:JF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Ka(){}class d2{constructor(e,n=lre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class hre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),n.pipe(nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nD=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new d2(Zone.current)),this.insideAngular=n.run(()=>new d2(Zone.current,dre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ps(t){return fs().ngZone.run(()=>t())}function pre(t){return fs(),function gre(t){return function(n){return(n=n.lift(new hre(t.ngZone))).pipe(Vd(t.outsideAngular),Ld(t.insideAngular))}}(fs())(t)}const mre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ps(()=>t.apply(void 0,r))},Gr=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),r[o]=mre(r[o],n));const i=function fre(t){return fs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Qe){const o=fs();return i.pipe(Vd(o.outsideAngular),Ld(o.insideAngular))}return ps(()=>i)}return i instanceof Qe?i.pipe(pre):i instanceof Promise?ps(()=>new Promise((o,s)=>i.then(a=>ps(()=>o(a)),a=>ps(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ps(()=>i)};class Qa{constructor(e){return e}}class rD{constructor(){return JF()}}const iD=new U("angularfire2._apps"),_re={provide:Qa,useFactory:function yre(t){return t&&1===t.length?t[0]:new Qa(Zw())},deps:[[new fn,iD]]},vre={provide:rD,deps:[[new fn,iD]]};function wre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qa(r)}}let Ire=(()=>{class t{constructor(n){Ze("angularfire",_p.full,"core"),Ze("angularfire",_p.full,"app"),Ze("angular",Fx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(Qi))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[_re,vre]}),t})();function Ere(t,...e){return{ngModule:Ire,providers:[{provide:iD,useFactory:wre(t),multi:!0,deps:[Me,Gn,nD,...e]}]}}const Dre=Gr(Jw,!0),oD=new Map,h2={activated:!1,tokenObservers:[]},Cre={initialized:!1,enabled:!1};function et(t){return oD.get(t)||Object.assign({},h2)}function vp(){return Cre}const sD="https://content-firebaseappcheck.googleapis.com/v1",Are="exchangeDebugToken",f2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xre{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new sp,yield function Nre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new sp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new $r("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cD(){return(cD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Ht.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const Ore="firebase-app-check-database",Fre=1,fl="firebase-app-check-store";let Dp=null;function lD(){return(lD=g(function*(t,e){const r=(yield function m2(){return Dp||(Dp=new Promise((t,e)=>{try{const n=indexedDB.open(Ore,Fre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fl,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),Dp)}()).transaction(fl,"readwrite"),o=r.objectStore(fl).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const pl=new Ga("@firebase/app-check");function fD(t,e){return is()?function Vre(t,e){return function y2(t,e){return lD.apply(this,arguments)}(function v2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{pl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yD(){return(yD=g(function*(){const t=vp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gre={error:"UNKNOWN_ERROR"};function zre(t){return Vw.encodeString(JSON.stringify(t),!1)}function Cp(t){return _D.apply(this,arguments)}function _D(){return(_D=g(function*(t,e=!1){const n=t.app;!function aD(t){if(!et(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}(n);const r=et(n);let o,i=r.token;if(i&&!Ya(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ya(u)?i=u:yield fD(n,void 0))}if(!e&&i&&Ya(i))return{token:i.token};let a,s=!1;if(function gD(){return vp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function Ep(t,e){return cD.apply(this,arguments)}(function p2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sD}/projects/${n}/apps/${r}:${Are}?key=${i}`,body:{debug_token:e}}}(n,yield function mD(){return yD.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield fD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield et(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?pl.warn(u.message):pl.error(u),o=u}return i?o?a=Ya(i)?{token:i.token,internalError:o}:E2(o):(a={token:i.token},r.token=i,yield fD(n,i)):a=E2(o),s&&function I2(t,e){const n=et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function ID(t,e){const n=et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function w2(t){const{app:e}=t,n=et(e);let r=n.tokenRefresher;r||(r=function Wre(t){const{app:e}=t;return new xre(g(function*(){let r;if(r=et(e).token?yield Cp(t,!0):yield Cp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},f2.RETRIAL_MIN_WAIT,f2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ya(t){return t.expireTimeMillis-Date.now()>0}function E2(t){return{token:zre(Gre),error:t}}class Kre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=et(this.app);for(const n of e)ID(this.app,n.next);return Promise.resolve()}}const x2="app-check-internal";!function uie(){_n(new rn("app-check",t=>function Qre(t,e){return new Kre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(x2).initialize()})),_n(new rn(x2,t=>function Yre(t){return{getToken:e=>Cp(t,e),addTokenListener:e=>function wD(t,e,n,r){const{app:i}=t,o=et(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Ya(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),w2(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>w2(t))}(t,"INTERNAL",e),removeTokenListener:e=>ID(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ze("@firebase/app-check","0.7.0")}();class bD{constructor(){return tD("app-check")}}typeof window<"u"&&window;const fie=function R2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},k2=new $r("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tp=new Ga("@firebase/auth");function Sp(t,...e){Tp.logLevel<=J.ERROR&&Tp.error(`Auth (${us}): ${t}`,...e)}function Pn(t,...e){throw SD(t,...e)}function zr(t,...e){return SD(t,...e)}function SD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return k2.create(t,...e)}function A(t,e,...n){if(!t)throw SD(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function uo(t,e){t||qr(e)}function gl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function O2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=function UJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}()||function $J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function gie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AD(){return"http:"===O2()||"https:"===O2()}()||Uw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function MD(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class F2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_ie=new ml(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tt(t,e,n,r){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n,r,i={}){return L2(t,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=cp(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),F2.fetch()(V2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function L2(t,e,n){return ND.apply(this,arguments)}function ND(){return(ND=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yie),e);try{const i=new vie(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw yl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw yl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw yl(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw yl(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function P2(t,e,n){const r=Object.assign(Object.assign({},fie()),{[e]:n});return new $r("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Pn(t,l)}}catch(i){if(i instanceof ir)throw i;Pn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ti(t,e,n,r){return RD.apply(this,arguments)}function RD(){return(RD=g(function*(t,e,n,r,i={}){const o=yield tt(t,e,n,r,i);return"mfaPendingCredential"in o&&Pn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function V2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?MD(t.config,i):`${t.config.apiScheme}://${i}`}class vie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),_ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function kD(){return(kD=g(function*(t,e){return tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function OD(){return(OD=g(function*(t,e){return tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function FD(){return(FD=g(function*(t,e=!1){const n=yn(t),r=yield n.getIdToken(e),i=Ap(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_l(LD(i.auth_time)),issuedAtTime:_l(LD(i.iat)),expirationTime:_l(LD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function LD(t){return 1e3*Number(t)}function Ap(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=ip(n);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Si(t,e){return VD.apply(this,arguments)}function VD(){return(VD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ir&&function bie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Tie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class U2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vl(t){return UD.apply(this,arguments)}function UD(){return UD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Si(t,function Eie(t,e){return OD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Mie(t){return t.map(e=>{var{providerId:n}=e,r=qS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Aie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new U2(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),UD.apply(this,arguments)}function BD(){return(BD=g(function*(t){const e=yn(t);yield vl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $D(){return($D=g(function*(t,e){const n=yield L2(t,{},g(function*(){const r=cp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=V2(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F2.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cie(t){const e=Ap(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function xie(t,e){return $D.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(A("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return qr("not implemented")}}function co(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new U2(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Die(t){return FD.apply(this,arguments)}(this,e)}reload(){return function Sie(t){return BD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Si(e,function wie(t,e){return kD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:F,isAnonymous:B,providerData:de,stsTokenManager:_t}=n;A(C&&_t,e,"internal-error");const Bi=wl.fromJSON(this.name,_t);A("string"==typeof C,e,"internal-error"),co(d,e.name),co(h,e.name),A("boolean"==typeof F,e,"internal-error"),A("boolean"==typeof B,e,"internal-error"),co(f,e.name),co(p,e.name),co(m,e.name),co(y,e.name),co(w,e.name),co(_,e.name);const Vu=new gs({uid:C,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Bi,createdAt:w,lastLoginAt:_});return de&&Array.isArray(de)&&(Vu.providerData=de.map(jhe=>Object.assign({},jhe))),y&&(Vu._redirectEventId=y),Vu}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new wl;i.updateFromServerResponse(n);const o=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vl(o),o})()}}const B2=new Map;function Ai(t){uo(t instanceof Function,"Expected a class definition");let e=B2.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B2.set(t,e),e)}const $2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Mp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?gs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ja(Ai($2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Ai($2);const s=Mp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=gs._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ja(o,e,r)):new Ja(o,e,r)})()}}function j2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(K2(e))return"Webos";if(jD(e))return"Safari";if((e.includes("chrome/")||G2(e))&&!e.includes("edge/"))return"Chrome";if(q2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function H2(t=Mt()){return/firefox\//i.test(t)}function jD(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G2(t=Mt()){return/crios\//i.test(t)}function z2(t=Mt()){return/iemobile/i.test(t)}function q2(t=Mt()){return/android/i.test(t)}function W2(t=Mt()){return/blackberry/i.test(t)}function K2(t=Mt()){return/webos/i.test(t)}function xp(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q2(t=Mt()){return xp(t)||q2(t)||K2(t)||W2(t)||/windows phone/i.test(t)||z2(t)}function Y2(t,e=[]){let n;switch(t){case"Browser":n=j2(Mt());break;case"Worker":n=`${j2(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}function X2(t,e){return GD.apply(this,arguments)}function GD(){return(GD=g(function*(t,e){return tt(t,"GET","/v2/recaptchaConfig",We(t,e))})).apply(this,arguments)}function Z2(t){return void 0!==t&&void 0!==t.enterprise}class eV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function zD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Oie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function tV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class nV{constructor(e){this.type="recaptcha-enterprise",this.auth=Nt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){X2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new eV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;Z2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&Z2(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));zD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function lo(t,e,n){return qD.apply(this,arguments)}function qD(){return(qD=g(function*(t,e,n,r=!1){const i=new nV(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Uie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Bie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rV(this),this.idTokenSubscription=new rV(this),this.beforeStateQueue=new Uie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ja.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield vl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?yn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ai(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield X2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new nV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ai(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ja.create(n,[Ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return A(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pie(t,...e){Tp.logLevel<=J.WARN&&Tp.warn(`Auth (${us}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Nt(t){return yn(t)}class rV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WJ(t,e){const n=new KJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function iV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class sV{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}function uV(t,e){return KD.apply(this,arguments)}function KD(){return(KD=g(function*(t,e){return tt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function YD(t,e){return XD.apply(this,arguments)}function XD(){return(XD=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithPassword",We(t,e))})).apply(this,arguments)}function oC(){return(oC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}function sC(){return(sC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}class Il extends sV{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield lo(e,i,"signInWithPassword");return YD(e,o)}return YD(e,i).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield lo(e,i,"signInWithPassword");return YD(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Qie(t,e){return oC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Pn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return uV(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Yie(t,e){return sC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Pn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Mi(t,e){return aC.apply(this,arguments)}function aC(){return(aC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class Cl{constructor(e){var n,r,i,o,s,a;const u=ul(cl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function roe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ioe(t){const e=ul(cl(t)).link,n=e?ul(cl(e)).deep_link_id:null,r=ul(cl(t)).deep_link_id;return(r?ul(cl(r)).link:null)||r||n||e||t}(e);try{return new Cl(n)}catch{return null}}}let cV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Il._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Cl.parseLink(r);return A(i,"argument-error"),Il._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ho{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ooe extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const o=yield gs._fromIdTokenResponse(e,r,i),s=lV(r);return new or({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=lV(r);return new or({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function lV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Pp extends ir{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pp(e,n,r,i)}}function dV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Pp._fromErrorAndOperation(t,o,e,r):o})}function yC(){return(yC=g(function*(t,e,n=!1){const r=yield Si(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return or._forOperation(t,"link",r)})).apply(this,arguments)}function vC(){return(vC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Si(t,dV(r,i,e,t),n);A(o.idToken,r,"internal-error");const s=Ap(o.idToken);A(s,r,"internal-error");const{sub:a}=s;return A(t.uid===a,r,"user-mismatch"),or._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Pn(r,"user-mismatch"),o}})).apply(this,arguments)}function pV(t,e){return wC.apply(this,arguments)}function wC(){return(wC=g(function*(t,e,n=!1){const r="signIn",i=yield dV(t,r,e),o=yield or._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function EC(){return(EC=g(function*(t,e){return pV(Nt(t),e)})).apply(this,arguments)}function hoe(t,e,n){return function IC(t,e){return EC.apply(this,arguments)}(yn(t),cV.credential(e,n))}function Eoe(t){return yn(t).signOut()}const Fp="__sak";class mV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xoe=(()=>{class t extends mV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Soe(){const t=Mt();return jD(t)||xp(t)}()&&function kie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Q2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Rie(){return function jJ(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),yV=(()=>{class t extends mV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Roe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Noe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function YC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class koe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=YC("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function gt(){return window}function XC(){return typeof gt().WorkerGlobalScope<"u"&&"function"==typeof gt().importScripts}function JC(){return(JC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _V="firebaseLocalStorageDb",Lp="firebaseLocalStorage",vV="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vp(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function ZC(){const t=indexedDB.open(_V,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lp,{keyPath:vV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),yield function Uoe(){const t=indexedDB.deleteDatabase(_V);return new Tl(t).toPromise()}(),e(yield ZC()))}))})}function wV(t,e,n){return eb.apply(this,arguments)}function eb(){return(eb=g(function*(t,e,n){const r=Vp(t,!0).put({[vV]:e,value:n});return new Tl(r).toPromise()})).apply(this,arguments)}function tb(){return(tb=g(function*(t,e){const n=Vp(t,!1).get(e),r=yield new Tl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function IV(t,e){const n=Vp(t,!0).delete(e);return new Tl(n).toPromise()}const Hoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield ZC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return XC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Roe._getInstance(function Loe(){return XC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Ooe(){return JC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new koe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Foe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield ZC();return yield wV(n,Fp,"1"),yield IV(n,Fp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>wV(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function Boe(t,e){return tb.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>IV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Vp(s,!1).getAll();return new Tl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();tV("rcb"),new ml(3e4,6e4);class lb extends sV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ose(t){return pV(t.auth,new lb(t),t.bypassAuthState)}function sse(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function fV(t,e){return vC.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)}function ase(t){return db.apply(this,arguments)}function db(){return(db=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function mC(t,e){return yC.apply(this,arguments)}(n,new lb(t),t.bypassAuthState)})).apply(this,arguments)}class use{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ose;case"linkViaPopup":case"linkViaRedirect":return ase;case"reauthViaPopup":case"reauthViaRedirect":return sse;default:Pn(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ml(2e3,1e4);const cse="pendingRedirect",Sl=new Map;class lse extends use{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Sl.get(n.auth._key());if(!r){try{const o=(yield function dse(t,e){return mb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Sl.set(n.auth._key(),r)}return n.bypassAuthState||Sl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function mb(){return(mb=g(function*(t,e){const n=function CV(t){return Mp(cse,t.config.apiKey,t.name)}(e),r=function DV(t){return Ai(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function hse(t,e){Sl.set(t._key(),e)}function bV(t,e){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(t,e,n=!1){const r=Nt(t),i=function ys(t,e){return e?Ai(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new lse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class yse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _se(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(SV(e))}saveEventToCache(e){this.cachedEventUids.add(SV(e)),this.lastProcessedEventTime=Date.now()}}function SV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function bb(){return(bb=g(function*(t,e={}){return tt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const wse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ise=/^https?/;function Tb(){return Tb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function vse(t){return bb.apply(this,arguments)}(t);for(const n of e)try{if(Dse(n))return}catch{}Pn(t,"unauthorized-domain")}),Tb.apply(this,arguments)}function Dse(t){const e=gl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Ise.test(n))return!1;if(wse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Cse=new ml(3e4,6e4);function MV(){const t=gt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Bp=null;const Sse=new ml(5e3,15e3),Ase="__/auth/iframe",Mse="emulator/auth/iframe",xse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rse(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?MD(e,Mse):`https://${t.config.authDomain}/${Ase}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=Nse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${cp(r).slice(1)}`}function Sb(){return Sb=g(function*(t){const e=yield function Tse(t){return Bp=Bp||function bse(t){return new Promise((e,n)=>{var r,i,o;function s(){MV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MV(),n(zr(t,"network-request-failed"))},timeout:Cse.get()})}if(null!==(i=null===(r=gt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=gt().gapi)||void 0===o||!o.load){const a=tV("iframefcb");return gt()[a]=()=>{gapi.load?s():n(zr(t,"network-request-failed"))},zD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Bp=null,e})}(t),Bp}(t),n=gt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Rse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xse,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),u=gt().setTimeout(()=>{s(a)},Sse.get());function c(){gt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),Sb.apply(this,arguments)}const Pse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $se="__/auth/handler",jse="emulator/auth/handler",Hse=encodeURIComponent("fac");function NV(t,e,n,r,i,o){return Ab.apply(this,arguments)}function Ab(){return(Ab=g(function*(t,e,n,r,i,o){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof ho){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function qJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof ooe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Hse}=${encodeURIComponent(u)}`:"";return`${function Gse({config:t}){return t.emulator?MD(t,jse):`https://${t.authDomain}/${$se}`}(t)}?${cp(a).slice(1)}${c}`})).apply(this,arguments)}const Mb="webStorageSupport",qse=class zse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yV,this._completeRedirectFn=bV,this._overrideRedirectResult=hse}_openPopup(e,n,r,i){var o=this;return g(function*(){var s;uo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield NV(e,n,r,gl(),i);return function Use(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Pse),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Mt().toLowerCase();n&&(a=G2(c)?"_blank":n),H2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Nie(t=Mt()){var e;return xp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Bse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new xV(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new xV(d)}(e,a,YC())})()}_openRedirect(e,n,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Poe(t){gt().location.href=t}(yield NV(e,n,r,gl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(uo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function kse(t){return Sb.apply(this,arguments)}(e),i=new yse(e);return r.register("authEvent",o=>(A(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mb,{type:Mb},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[Mb];void 0!==s&&n(!!s),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Ese(t){return Tb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q2()||jD()||xp()}};var PV="@firebase/auth";class Wse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xse=jF("authIdTokenMaxAge")||300;let FV=null;const Jse=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Xse)return;const o=r?.token;FV!==o&&(FV=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function LV(t=Zw()){const e=za(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function $ie(t,e){const n=za(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(up(n.getOptions(),e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:qse,persistence:[Hoe,xoe,yV]}),r=jF("authTokenSyncURL");if(r){const o=Jse(r);(function Ioe(t,e,n){yn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function woe(t,e,n,r){yn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=BF("auth");return i&&function Hie(t,e,n){const r=Nt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=iV(e),{host:s,port:a}=function Gie(t){const e=iV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:oV(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:oV(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function zie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Qse(t){_n(new rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y2(t)},c=new Bie(r,i,o,u);return function jie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_n(new rn("auth-internal",e=>{const n=Nt(e.getProvider("auth").getImmediate());return new Wse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(PV,"0.23.2",function Kse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ze(PV,"0.23.2","esm2017")}("Browser");class xi{constructor(e){return e}}class UV{constructor(){return tD("auth")}}const Nb=new U("angularfire2.auth-instances");function eae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xi(r)}}const tae={provide:UV,deps:[[new fn,Nb]]},nae={provide:xi,useFactory:function Zse(t,e){const n=eD("auth",t,e);return n&&new xi(n)},deps:[[new fn,Nb],Qa]};let rae=(()=>{class t{constructor(){Ze("angularfire",_p.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[nae,tae]}),t})();function iae(t,...e){return{ngModule:rae,providers:[{provide:Nb,useFactory:eae(t),multi:!0,deps:[Me,Gn,nD,rD,[new fn,bD],...e]}]}}const oae=Gr(LV,!0),sae=Gr(hoe,!0),aae=Gr(Eoe,!0);let uae=(()=>{class t{constructor(n=L(xi)){this.auth=n,this.isAuthenticated=!1,this.isAuthenticated=!!n.currentUser}}return t.\u0275fac=function(n){return new(n||t)(H(xi))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Al=(()=>{class t{constructor(){this.modals=[]}register(n){this.modals.push({id:n,visible:!1})}unregister(n){this.modals=this.modals.filter(r=>r.id!==n)}toggleModal(n){const r=this.modals.find(i=>i.id===n);r&&(r.visible=!r.visible)}isModalOpen(n){return!!this.modals.find(r=>r.id===n)?.visible}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cae=(()=>{class t{constructor(n){this.modal=n}openModal(){this.modal.toggleModal("auth")}}return t.\u0275fac=function(n){return new(n||t)(D(Al))},t.\u0275cmp=oi({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"fixed","inset-0","flex","flex-col","justify-center","items-center"],[1,"text-2xl","font-bold","m-1"],[1,"bg-blue-500","rounded-lg","text-white","text-sm","w-20","h-6","hover:bg-blue-600",3,"click"]],template:function(n,r){1&n&&(k(0,"div",0)(1,"h1",1),W(2,"FFC NUTRITION INC."),N(),k(3,"button",2),Ne("click",function(){return r.openModal()}),W(4," SIGN IN "),N()())}}),t})();const lae=[[["","heading",""]],"*"],dae=function(t){return{hidden:t}},hae=["[heading]","*"];let BV=(()=>{class t{constructor(n){this.modal=n,this.modalID=""}closeModal(){this.modal.toggleModal(this.modalID)}}return t.\u0275fac=function(n){return new(n||t)(D(Al))},t.\u0275cmp=oi({type:t,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:hae,decls:7,vars:3,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-gray-700","bg-opacity-50",3,"ngClass"],[1,"bg-white","rounded-lg","p-4","max-h-96","w-fit","min-w-fit","overflow-auto"],[1,"flex","justify-between","items-center","pb-4"],[1,"cursor-pointer","z-50","ml-4",3,"click"]],template:function(n,r){1&n&&(function HN(t){const e=E()[lt][Xt];if(!e.projection){const r=e.projection=tc(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?R6(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(lae),k(0,"div",0)(1,"div",1)(2,"div",2),w_(3),k(4,"div",3),Ne("click",function(){return r.closeModal()}),W(5,"\u2715 "),N()(),w_(6,1),N()()),2&n&&ce("ngClass",function mR(t,e,n,r){return yR(E(),dn(),t,e,n,r)}(1,dae,!r.modal.isModalOpen(r.modalID)))},dependencies:[Zk]}),t})();function fae(t,e){1&t&&(k(0,"p",3),W(1," Field is required. "),N())}function pae(t,e){1&t&&(k(0,"p",3),W(1,"Invalid email."),N())}function gae(t,e){if(1&t&&(dr(0),Le(1,fae,2,0,"p",2),Le(2,pae,2,0,"p",2),hr()),2&t){const n=en();Y(1),ce("ngIf",null==n.control.errors?null:n.control.errors.required),Y(1),ce("ngIf",null==n.control.errors?null:n.control.errors.email)}}let mae=(()=>{class t{constructor(){this.control=new Rn,this.type="text",this.placeholder=""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder"},decls:2,vars:4,consts:[[1,"border","py-2","px-3","bg-transparent","block","rounded","w-full",3,"formControl","type","placeholder"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(n,r){1&n&&(ht(0,"input",0),Le(1,gae,3,2,"ng-container",1)),2&n&&(ce("formControl",r.control)("type",r.type)("placeholder",r.placeholder),Y(1),ce("ngIf",r.control.touched&&r.control.dirty))},dependencies:[If,Ra,Sf,ow]}),t})(),yae=(()=>{class t{constructor(n,r=L(xi)){this.modal=n,this.auth=r,this.email=new Rn("",[Nn.required,Nn.email]),this.password=new Rn("",[Nn.required]),this.loginForm=new Pa({email:this.email,password:this.password}),this.inSubmission=!1}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}login(){var n=this;return g(function*(){n.inSubmission=!0;try{const r=n.loginForm.value.email??"",i=n.loginForm.value.password??"";yield sae(n.auth,r,i),location.reload()}catch(r){return n.inSubmission=!1,void console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(xi))},t.\u0275cmp=oi({type:t,selectors:[["app-auth-modal"]],decls:11,vars:4,consts:[["modalID","auth"],["heading","",1,"text-xl","font-bold"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["type","email","placeholder","Email",1,"w-64",3,"control"],["type","password","placeholder","Password",1,"w-64",3,"control"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"]],template:function(n,r){1&n&&(k(0,"app-modal",0)(1,"p",1),W(2,"Sign In"),N(),k(3,"div",2)(4,"form",3),Ne("ngSubmit",function(){return r.login()}),k(5,"div",4),ht(6,"app-input",5),N(),k(7,"div",4),ht(8,"app-input",6),N(),k(9,"button",7),W(10," Submit "),N()()()()),2&n&&(Y(4),ce("formGroup",r.loginForm),Y(2),ce("control",r.email),Y(2),ce("control",r.password),Y(1),ce("disabled",r.loginForm.invalid||r.inSubmission))},dependencies:[BV,mae,Lf,Af,Gc]}),t})();var O,_ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},Rb=Rb||{},re=_ae||self;function jp(){}function Hp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ml(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kb="closure_uid_"+(1e9*Math.random()>>>0),wae=0;function Iae(t,e,n){return t.call.apply(t.bind,arguments)}function Eae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iae:Eae).apply(null,arguments)}function Gp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function fo(){this.s=this.s,this.o=this.o}fo.prototype.s=!1,fo.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function vae(t){Object.prototype.hasOwnProperty.call(t,kb)&&t[kb]||(t[kb]=++wae)}(this)},fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hp(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var Cae=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",jp,e),re.removeEventListener("test",jp,e)}catch{}return t}();function zp(t){return/^[\s\xa0]*$/.test(t)}var HV=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ob(t,e){return t<e?-1:t>e?1:0}function qp(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return-1!=qp().indexOf(t)}function Fb(t){return Fb[" "](t),t}function GV(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}Fb[" "]=jp;var Wp,t,bae=Wr("Opera"),eu=Wr("Trident")||Wr("MSIE"),zV=Wr("Edge"),Lb=zV||eu,qV=Wr("Gecko")&&!(-1!=qp().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),Tae=-1!=qp().toLowerCase().indexOf("webkit")&&!Wr("Edge");function WV(){var t=re.document;return t?t.documentMode:void 0}e:{var Vb="",Ub=(t=qp(),qV?/rv:([^\);]+)(\)|;)/.exec(t):zV?/Edge\/([\d\.]+)/.exec(t):eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Tae?/WebKit\/(\S+)/.exec(t):bae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Ub&&(Vb=Ub?Ub[1]:""),eu){var Bb=WV();if(null!=Bb&&Bb>parseFloat(Vb)){Wp=String(Bb);break e}}Wp=Vb}var Sae={},Mae=re.document&&eu&&(WV()||parseInt(Wp,10))||void 0;function xl(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qV){e:{try{Fb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xl.$.h.call(this)}}Rt(xl,sn);var xae={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),Nae=0;function Rae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Nae,this.fa=this.ia=!1}function Kp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QV(t){const e={};for(const n in t)e[n]=t[n];return e}const YV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<YV.length;o++)n=YV[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qp(t){this.src=t,this.g={},this.h=0}function Hb(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=$V(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Kp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Gb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Qp.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Gb(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Rae(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var zb="closure_lm_"+(1e6*Math.random()|0),qb={};function JV(t,e,n,r,i){if(r&&r.once)return eU(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)JV(t,e[o],n,r,i);return null}return n=Yb(n),t&&t[Nl]?t.O(e,n,Ml(r)?!!r.capture:!!r,i):ZV(t,e,n,!1,r,i)}function ZV(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ml(i)?!!i.capture:!!i,a=Kb(t);if(a||(t[zb]=a=new Qp(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function kae(){const e=Pae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cae||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function eU(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eU(t,e[o],n,r,i);return null}return n=Yb(n),t&&t[Nl]?t.P(e,n,Ml(r)?!!r.capture:!!r,i):ZV(t,e,n,!0,r,i)}function tU(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tU(t,e[o],n,r,i);else r=Ml(r)?!!r.capture:!!r,n=Yb(n),t&&t[Nl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Gb(o=t.g[e],n,r,i))&&(Kp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Kb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gb(e,n,r,i)),(n=-1<t?e[t]:null)&&Wb(n))}function Wb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nl])Hb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kb(e))?(Hb(n,t),0==n.h&&(n.src=null,e[zb]=null)):Kp(t)}}}function nU(t){return t in qb?qb[t]:qb[t]="on"+t}function Pae(t,e){if(t.fa)t=!0;else{e=new xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Wb(t),t=n.call(r,e)}return t}function Kb(t){return(t=t[zb])instanceof Qp?t:null}var Qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yb(t){return"function"==typeof t?t:(t[Qb]||(t[Qb]=function(e){return t.handleEvent(e)}),t[Qb])}function kt(){fo.call(this),this.i=new Qp(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;XV(e=new sn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Yp(s,r,!0,e)&&i}if(i=Yp(s=e.g=t,r,!0,e)&&i,i=Yp(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Yp(s=e.g=n[o],r,!1,e)&&i}function Yp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&Hb(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(kt,fo),kt.prototype[Nl]=!0,kt.prototype.removeEventListener=function(t,e,n,r){tU(this,t,e,n,r)},kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kp(n[r]);delete t.g[e],t.h--}}this.J=null},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Xb=re.JSON.stringify;function Oae(){var t=oU;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Jb,rU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Lae,t=>t.reset());class Lae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vae(t){re.setTimeout(()=>{throw t},0)}function iU(t,e){Jb||function Uae(){var t=re.Promise.resolve(void 0);Jb=function(){t.then(Bae)}}(),Zb||(Jb(),Zb=!0),oU.add(t,e)}var Zb=!1,oU=new class Fae{constructor(){this.h=this.g=null}add(e,n){const r=rU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Bae(){for(var t;t=Oae();){try{t.h.call(t.g)}catch(n){Vae(n)}var e=rU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zb=!1}function Xp(t,e){kt.call(this),this.h=t||1,this.g=e||re,this.j=on(this.qb,this),this.l=Date.now()}function eT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function tT(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function sU(t){t.g=tT(()=>{t.g=null,t.i&&(t.i=!1,sU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(Xp,kt),(O=Xp.prototype).ga=!1,O.T=null,O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(eT(this),this.start()))}},O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.N=function(){Xp.$.N.call(this),eT(this),delete this.g};class $ae extends fo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sU(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(t){fo.call(this),this.h=t,this.g={}}Rt(Rl,fo);var aU=[];function uU(t,e,n,r){Array.isArray(n)||(n&&(aU[0]=n.toString()),n=aU);for(var i=0;i<n.length;i++){var o=JV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function cU(t){jb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wb(e)},t),t.g={}}function Jp(){this.g=!0}function tu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Rl.prototype.N=function(){Rl.$.N.call(this),cU(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jp.prototype.Ea=function(){this.g=!1},Jp.prototype.info=function(){};var _s={},lU=null;function Zp(){return lU=lU||new kt}function dU(t){sn.call(this,_s.Ta,t)}function kl(t){const e=Zp();Gt(e,new dU(e))}function hU(t,e){sn.call(this,_s.STAT_EVENT,t),this.stat=e}function wn(t){const e=Zp();Gt(e,new hU(e,t))}function fU(t,e){sn.call(this,_s.Ua,t),this.size=e}function Pl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}_s.Ta="serverreachability",Rt(dU,sn),_s.STAT_EVENT="statevent",Rt(hU,sn),_s.Ua="timingevent",Rt(fU,sn);var eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nT(){}function mU(){}nT.prototype.h=null;var oT,Ol={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rT(){sn.call(this,"d")}function iT(){sn.call(this,"c")}function tg(){}function Fl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rl(this),this.P=qae,this.V=new Xp(t=Lb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new yU}function yU(){this.i=null,this.g="",this.h=!1}Rt(rT,sn),Rt(iT,sn),Rt(tg,nT),tg.prototype.g=function(){return new XMLHttpRequest},tg.prototype.i=function(){return{}},oT=new tg;var qae=45e3,sT={},ng={};function aT(t,e,n){t.L=1,t.v=sg(Ni(e)),t.s=n,t.S=!0,_U(t,null)}function _U(t,e){t.G=Date.now(),Ll(t),t.A=Ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),AU(n.i,"t",r),t.C=0,n=t.l.I,t.h=new yU,t.g=JU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ae(on(t.Pa,t,t.g),t.O)),uU(t.U,t.g,"readystatechange",t.nb),e=t.I?QV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),kl(),function jae(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function vU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function wU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wae(t,n),i==ng){4==e&&(t.o=4,wn(14),r=!1),tu(t.j,t.m,null,"[Incomplete Response]");break}if(i==sT){t.o=4,wn(15),tu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}tu(t.j,t.m,i,null),uT(t,i)}vU(t)&&i!=ng&&i!=sT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,(e=t.l).g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),mT(e),e.L=!0,wn(11))):(tu(t.j,t.m,n,"[Invalid Chunked Response]"),vs(t),Vl(t))}function Wae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ng:(n=Number(e.substring(n,r)),isNaN(n)?sT:(r+=1)+n>e.length?ng:(e=e.substr(r,n),t.C=r+n,e))}function Ll(t){t.Y=Date.now()+t.P,IU(t,t.P)}function IU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Pl(on(t.lb,t),e)}function rg(t){t.B&&(re.clearTimeout(t.B),t.B=null)}function Vl(t){0==t.l.H||t.J||KU(t.l,t)}function vs(t){rg(t);var e=t.M;e&&"function"==typeof e.ra&&e.ra(),t.M=null,eT(t.V),cU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function uT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||cT(n.h,t)))if(!t.K&&cT(n.h,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;hg(n),lg(n)}gT(n),wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Pl(on(n.ib,n),6e3));if(1>=NU(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Is(n,11)}else if((t.K||n.g==t)&&hg(n),!zp(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const l=c[3];null!=l&&(n.qa=l,n.j.info("VER="+n.qa));const d=c[4];null!=d&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(lT(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,je(r.G,r.F,m))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=XU(r,r.I?r.oa:null,r.Y),s.K){RU(r.h,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(rg(a),Ll(a)),r.g=s}else qU(r);0<n.i.length&&dg(n)}else"stop"!=c[0]&&"close"!=c[0]||Is(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Is(n,7):pT(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}kl()}catch{}}function EU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Hp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qae(t){if(t.sa&&"function"==typeof t.sa)return t.sa();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Hp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(O=Fl.prototype).setTimeout=function(t){this.P=t},O.nb=function(t){t=t.target;const e=this.M;e&&3==Ri(t)?e.l():this.Pa(t)},O.Pa=function(t){try{if(t==this.g)e:{const l=Ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Lb||this.g&&(this.h.h||this.g.ja()||BU(this.g)))){this.J||4!=l||7==e||kl(),rg(this);var n=this.g.da();this.aa=n;t:if(vU(this)){var r=BU(this.g);t="";var i=r.length,o=4==Ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),Vl(this);var s="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Hae(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wn(12),vs(this),Vl(this);break e}tu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uT(this,n)}this.S?(wU(this,l,s),Lb&&this.i&&3==l&&(uU(this.U,this.V,"tick",this.mb),this.V.start())):(tu(this.j,this.m,s,null),uT(this,s)),4==l&&vs(this),this.i&&!this.J&&(4==l?KU(this.l,this):(this.i=!1,Ll(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),vs(this),Vl(this)}}}catch{}},O.mb=function(){if(this.g){var t=Ri(this.g),e=this.g.ja();this.C<e.length&&(rg(this),wU(this,t,e),this.i&&4!=t&&Ll(this))}},O.cancel=function(){this.J=!0,vs(this)},O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(kl(),wn(17)),vs(this),this.o=2,Vl(this)):IU(this,this.Y-t)};var DU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ws){this.h=void 0!==e?e:t.h,ig(this,t.j),this.s=t.s,this.g=t.g,og(this,t.m),this.l=t.l,e=t.i;var n=new $l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CU(this,n),this.o=t.o}else t&&(n=String(t).match(DU))?(this.h=!!e,ig(this,n[1]||"",!0),this.s=Ul(n[2]||""),this.g=Ul(n[3]||"",!0),og(this,n[4]),this.l=Ul(n[5]||"",!0),CU(this,n[6]||"",!0),this.o=Ul(n[7]||"")):(this.h=!!e,this.i=new $l(null,this.h))}function Ni(t){return new ws(t)}function ig(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function og(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CU(t,e,n){e instanceof $l?(t.i=e,function nue(t,e){e&&!t.j&&(po(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TU(this,r),AU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bl(e,eue)),t.i=new $l(e,t.h))}function je(t,e,n){t.i.set(e,n)}function sg(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bl(e,bU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bl(e,bU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bl(n,"/"==n.charAt(0)?Zae:Jae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bl(n,tue)),t.join("")};var bU=/[#\/\?@]/g,Jae=/[#\?:]/g,Zae=/[#\?]/g,eue=/[#\?@]/g,tue=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function po(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function TU(t,e){po(t),e=nu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SU(t,e){return po(t),e=nu(t,e),t.g.has(e)}function AU(t,e,n){TU(t,e),0<n.length&&(t.i=null,t.g.set(nu(t,e),Pb(n)),t.h+=n.length)}function nu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MU(t){this.l=t||iue,t=re.PerformanceNavigationTiming?0<(t=re.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=$l.prototype).add=function(t,e){po(this),this.i=null,t=nu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){po(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},O.sa=function(){po(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},O.Z=function(t){po(this);let e=[];if("string"==typeof t)SU(this,t)&&(e=e.concat(this.g.get(nu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},O.set=function(t,e){return po(this),this.i=null,SU(this,t=nu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var iue=10;function xU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function NU(t){return t.h?1:t.g?t.g.size:0}function cT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function lT(t,e){t.g?t.g.add(e):t.h=e}function RU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function kU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pb(t.i)}function dT(){}function oue(){this.g=new dT}function sue(t,e,n){const r=n||"";try{EU(t,function(i,o){let s=i;Ml(i)&&(s=Xb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ag(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jl(t){this.l=t.fc||null,this.j=t.ob||!1}function ug(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MU.prototype.cancel=function(){if(this.i=kU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},dT.prototype.stringify=function(t){return re.JSON.stringify(t,void 0)},dT.prototype.parse=function(t){return re.JSON.parse(t,void 0)},Rt(jl,nT),jl.prototype.g=function(){return new ug(this.l,this.j)},jl.prototype.i=function(t){return function(){return t}}({}),Rt(ug,kt);var hT=0;function PU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=ug.prototype).open=function(t,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hl(this)),this.readyState=hT},O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hl(this):Gl(this),3==this.readyState&&PU(this)}},O.Za=function(t){this.g&&(this.response=this.responseText=t,Hl(this))},O.Ya=function(t){this.g&&(this.response=t,Hl(this))},O.ka=function(){this.g&&Hl(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var uue=re.JSON.parse;function nt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OU,this.L=this.M=!1}Rt(nt,kt);var OU="",cue=/^https?$/i,lue=["POST","PUT"];function FU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LU(t),cg(t)}function LU(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function VU(t){if(t.h&&typeof Rb<"u"&&(!t.C[1]||4!=Ri(t)||2!=t.da()))if(t.v&&4==Ri(t))tT(t.La,0,t);else if(Gt(t,"readystatechange"),4==Ri(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(DU)[1]||null;if(!i&&re.self&&re.self.location){var o=re.self.location.protocol;i=o.substr(0,o.length-1)}r=!cue.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",LU(t)}}finally{cg(t)}}}function cg(t,e){if(t.g){UU(t);const n=t.g,r=t.C[0]?jp:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function UU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function Ri(t){return t.g?t.g.readyState:0}function BU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case OU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $U(t){let e="";return jb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function fT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$U(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function zl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jU(t){this.Ga=0,this.i=[],this.j=new Jp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zl("baseRetryDelayMs",5e3,t),this.hb=zl("retryDelaySeedMs",1e4,t),this.eb=zl("forwardChannelMaxRetries",2,t),this.xa=zl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new MU(t&&t.concurrentRequestLimit),this.Ja=new oue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function pT(t){if(HU(t),3==t.H){var e=t.W++,n=Ni(t.G);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),ql(t,n),(e=new Fl(t,t.j,e,void 0)).L=2,e.v=sg(Ni(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=JU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ll(e)}YU(t)}function lg(t){t.g&&(mT(t),t.g.cancel(),t.g=null)}function HU(t){lg(t),t.u&&(re.clearTimeout(t.u),t.u=null),hg(t),t.h.cancel(),t.m&&("number"==typeof t.m&&re.clearTimeout(t.m),t.m=null)}function dg(t){xU(t.h)||t.m||(t.m=!0,iU(t.Na,t),t.C=0)}function GU(t,e){var n;n=e?e.m:t.W++;const r=Ni(t.G);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.V),ql(t,r),t.o&&t.s&&fT(r,t.o,t.s),n=new Fl(t,t.j,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=zU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),lT(t.h,n),aT(n,r,e)}function ql(t,e){t.ma&&jb(t.ma,function(n,r){je(e,r,n)}),t.l&&EU({},function(n,r){je(e,r,n)})}function zU(t,e,n){n=Math.min(t.i.length,n);var r=t.l?on(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{sue(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function qU(t){t.g||t.u||(t.ba=1,iU(t.Ma,t),t.A=0)}function gT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Pl(on(t.Ma,t),QU(t,t.A)),t.A++,0))}function mT(t){null!=t.B&&(re.clearTimeout(t.B),t.B=null)}function WU(t){t.g=new Fl(t,t.j,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ni(t.wa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.M?"0":"1"),je(e,"AID",t.V),je(e,"TYPE","xmlhttp"),ql(t,e),t.o&&t.s&&fT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=sg(Ni(e)),n.s=null,n.S=!0,_U(n,t)}function hg(t){null!=t.v&&(re.clearTimeout(t.v),t.v=null)}function KU(t,e){var n=null;if(t.g==e){hg(t),mT(t),t.g=null;var r=2}else{if(!cT(t.h,e))return;n=e.F,RU(t.h,e),r=1}if(0!=t.H)if(t.ta=e.aa,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=Zp(),new fU(r,n)),dg(t)}else qU(t);else if(3==(i=e.o)||0==i&&0<t.ta||!(1==r&&function hue(t,e){return!(NU(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.F.concat(t.i),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Pl(on(t.Na,t,e),QU(t,t.C)),t.C++,0)))}(t,e)||2==r&&gT(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Is(t,5);break;case 4:Is(t,10);break;case 3:Is(t,6);break;default:Is(t,2)}}function QU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Is(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=on(t.pb,t);n||(n=new ws("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||ig(n,"https"),sg(n)),function aue(t,e){const n=new Jp;if(re.Image){const r=new Image;r.onload=Gp(ag,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gp(ag,n,r,"TestLoadImage: error",!1,e),r.onabort=Gp(ag,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gp(ag,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wn(2);t.H=0,t.l&&t.l.za(e),YU(t),HU(t)}function YU(t){if(t.H=0,t.pa=[],t.l){const e=kU(t.h);(0!=e.length||0!=t.i.length)&&(jV(t.pa,e),jV(t.pa,t.i),t.h.i.length=0,Pb(t.i),t.i.length=0),t.l.ya()}}function XU(t,e,n){var r=n instanceof ws?Ni(n):new ws(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),og(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ws(null,void 0);r&&ig(o,r),e&&(o.g=e),i&&og(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.qa),ql(t,r),r}function JU(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(n&&t.Ha&&!t.va?new jl({ob:!0}):t.va)).Oa(t.I),e}function ZU(){}function fg(){if(eu&&!(10<=Number(Mae)))throw Error("Environmental error: no available transport.")}function Wn(t,e){kt.call(this),this.g=new jU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ru(this)}function eB(t){rT.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function tB(){iT.call(this),this.status=1}function ru(t){this.g=t}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(O=nt.prototype).Oa=function(t){this.M=t},O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=function gU(t){return t.h||(t.h=t.i())}(this.u?this.u:oT),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void FU(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=re.FormData&&t instanceof re.FormData,!(0<=$V(lue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UU(this),0<this.B&&((this.L=function due(t){return eu&&function Aae(){return GV(Sae,9,function(){let t=0;const e=HV(String(Wp)).split("."),n=HV("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=Ob(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Ob(0==i[2].length,0==o[2].length)||Ob(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=tT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){FU(this,o)}},O.ua=function(){typeof Rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),cg(this))},O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cg(this,!0)),nt.$.N.call(this)},O.La=function(){this.s||(this.G||this.v||this.l?VU(this):this.kb())},O.kb=function(){VU(this)},O.da=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uue(e)}},O.Ia=function(){return this.m},O.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=jU.prototype).qa=8,O.H=1,O.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fl(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=QV(o),XV(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zU(this,i,e),je(n=Ni(this.G),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),ql(this,n),o&&(this.O?e="headers="+encodeURIComponent(String($U(o)))+"&"+e:this.o&&fT(n,this.o,o)),lT(this.h,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.ba=!0,aT(i,n,null)):aT(i,n,e),this.H=2}}else 3==this.H&&(t?GU(this,t):0==this.i.length||xU(this.h)||GU(this))},O.Ma=function(){if(this.u=null,WU(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Pl(on(this.jb,this),t)}},O.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,wn(10),lg(this),WU(this))},O.ib=function(){null!=this.v&&(this.v=null,lg(this),gT(this),wn(19))},O.pb=function(t){t?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))},(O=ZU.prototype).Ba=function(){},O.Aa=function(){},O.za=function(){},O.ya=function(){},O.Va=function(){},fg.prototype.g=function(t,e){return new Wn(t,e)},Rt(Wn,kt),Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=XU(t,null,t.Y),dg(t)},Wn.prototype.close=function(){pT(this.g)},Wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Xb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.fb++,t)),3==e.H&&dg(e)},Wn.prototype.N=function(){this.g.l=null,delete this.j,pT(this.g),delete this.g,Wn.$.N.call(this)},Rt(eB,rT),Rt(tB,iT),Rt(ru,ZU),ru.prototype.Ba=function(){Gt(this.g,"a")},ru.prototype.Aa=function(t){Gt(this.g,new eB(t))},ru.prototype.za=function(t){Gt(this.g,new tB)},ru.prototype.ya=function(){Gt(this.g,"b")},Rt(Er,function fue(){this.blockSize=-1}),Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)yT(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){yT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){yT(this,r),i=0;break}}this.h=i,this.i+=e},Er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var pue={};function _T(t){return-128<=t&&128>t?GV(pue,t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function Kr(t){if(isNaN(t)||!isFinite(t))return iu;if(0>t)return zt(Kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=vT;return new Te(e,0)}var vT=4294967296,iu=_T(0),wT=_T(1),rB=_T(16777216);function ki(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(wT)}function pg(t,e){return t.add(zt(e))}function gg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wl(t,e){this.g=t,this.h=e}function mg(t,e){if(ki(e))throw Error("division by zero");if(ki(t))return new Wl(iu,iu);if(sr(t))return e=mg(zt(t),e),new Wl(zt(e.g),zt(e.h));if(sr(e))return e=mg(t,zt(e)),new Wl(zt(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wT,r=e;0>=r.X(t);)n=iB(n),r=iB(r);var i=ou(n,1),o=ou(r,1);for(r=ou(r,2),n=ou(n,2);!ki(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ou(r,1),n=ou(n,1)}return e=pg(t,i.R(e)),new Wl(i,e)}for(i=iu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Kr(n)).R(e);sr(s)||0<s.X(t);)s=(o=Kr(n-=r)).R(e);ki(o)&&(o=wT),i=i.add(o),t=pg(t,s)}return new Wl(i,t)}function iB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function ou(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Te(i,t.h)}(O=Te.prototype).ea=function(){if(sr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:vT+r)*e,e*=vT}return t},O.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ki(this))return"0";if(sr(this))return"-"+zt(this).toString(t);for(var e=Kr(Math.pow(t,6)),n=this,r="";;){var i=mg(n,e).g,o=((0<(n=pg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ki(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},O.X=function(t){return sr(t=pg(this,t))?-1:ki(t)?0:1},O.abs=function(){return sr(this)?zt(this):this},O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},O.R=function(t){if(ki(this)||ki(t))return iu;if(sr(this))return sr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(sr(t))return zt(this.R(zt(t)));if(0>this.X(rB)&&0>t.X(rB))return Kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,gg(n,2*r+2*i),n[2*r+2*i+1]+=o*u,gg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,gg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,gg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},O.gb=function(t){return mg(this,t).h},O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},fg.prototype.createWebChannel=fg.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,eg.NO_ERROR=0,eg.TIMEOUT=8,eg.HTTP_ERROR=6,pU.COMPLETE="complete",mU.EventType=Ol,Ol.OPEN="a",Ol.CLOSE="b",Ol.ERROR="c",Ol.MESSAGE="d",kt.prototype.listen=kt.prototype.O,nt.prototype.listenOnce=nt.prototype.P,nt.prototype.getLastError=nt.prototype.Sa,nt.prototype.getLastErrorCode=nt.prototype.Ia,nt.prototype.getStatus=nt.prototype.da,nt.prototype.getResponseJson=nt.prototype.Wa,nt.prototype.getResponseText=nt.prototype.ja,nt.prototype.send=nt.prototype.ha,nt.prototype.setWithCredentials=nt.prototype.Oa,Er.prototype.digest=Er.prototype.l,Er.prototype.reset=Er.prototype.reset,Er.prototype.update=Er.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Kr,Te.fromString=function nB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(nB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kr(Math.pow(e,8)),r=iu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Kr(Math.pow(e,o)),r=r.R(o).add(Kr(s))):r=(r=r.R(n)).add(Kr(s))}return r};var gue=Ir.createWebChannelTransport=function(){return new fg},mue=Ir.getStatEventTarget=function(){return Zp()},IT=Ir.ErrorCode=eg,yue=Ir.EventType=pU,_ue=Ir.Event=_s,oB=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vue=Ir.FetchXmlHttpFactory=jl,yg=Ir.WebChannel=mU,wue=Ir.XhrIo=nt,Iue=Ir.Md5=Er,su=Ir.Integer=Te;const sB="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let au="9.22.0";const go=new Ga("@firebase/firestore");function ET(){return go.logLevel}function S(t,...e){if(go.logLevel<=J.DEBUG){const n=e.map(DT);go.debug(`Firestore (${au}): ${t}`,...n)}}function st(t,...e){if(go.logLevel<=J.ERROR){const n=e.map(DT);go.error(`Firestore (${au}): ${t}`,...n)}}function Dr(t,...e){if(go.logLevel<=J.WARN){const n=e.map(DT);go.warn(`Firestore (${au}): ${t}`,...n)}}function DT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function $(t,e){t||V()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class Due{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cue{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ct,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new aB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Pt(e)}}class bue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Tue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.T=n.token,new uB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Aue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Aue(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function uu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Ke(0,0))}static max(){return new j(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kl{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Kl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Kl{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const Mue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Kl{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return Mue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ye.fromString(e))}static fromName(e){return new M(ye.fromString(e).popFirst(5))}static empty(){return new M(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ye(e.slice()))}}function hB(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(j.min(),M.empty(),-1)}static max(){return new Kn(j.max(),M.empty(),-1)}}function bT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:ee(t.largestBatchId,e.largestBatchId))}const fB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(t){return TT.apply(this,arguments)}function TT(){return TT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==fB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),TT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function yo(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Xl(t){return null==t}function Jl(t){return 0===t&&1/t==-1/0}function EB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eg(this.root,e,this.comparator,!0)}}class Eg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=o??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CB(this.data.getIterator())}getIteratorFrom(e){return new CB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class CB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new On([])}unionWith(e){let n=new Ve(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class bB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bB("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const tce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if($(!!t),"string"==typeof t){let e=0;const n=tce.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pi(t){return"string"==typeof t?bt.fromBase64String(t):bt.fromUint8Array(t)}function Dg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cg(t){const e=t.mapValue.fields.__previous_value__;return Dg(e)?Cg(e):e}function Zl(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}class nce{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Cs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cs&&e.projectId===this.projectId&&e.database===this.database}}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:MB(t)?9007199254740991:10:V()}function Yr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=vo(r.timestampValue),s=vo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Pi(t.bytesValue).isEqual(Pi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=rt(r.doubleValue),s=rt(i.doubleValue);return o===s?Jl(o)===Jl(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return uu(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(EB(o)!==EB(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Yr(o[a],s[a])))return!1;return!0}(t,e);default:return V()}var i}function ed(t,e){return void 0!==(t.values||[]).find(n=>Yr(n,e))}function Eo(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=rt(i.integerValue||i.doubleValue),a=rt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return TB(t.timestampValue,e.timestampValue);case 4:return TB(Zl(t),Zl(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Pi(i),a=Pi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=ee(s[u],a[u]);if(0!==c)return c}return ee(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ee(rt(i.latitude),rt(o.latitude));return 0!==s?s:ee(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=Eo(s[u],a[u]);if(c)return c}return ee(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===wo.mapValue&&o===wo.mapValue)return 0;if(i===wo.mapValue)return 1;if(o===wo.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ee(a[l],c[l]);if(0!==d)return d;const h=Eo(s[a[l]],u[c[l]]);if(0!==h)return h}return ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function TB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ee(t,e);const n=vo(t),r=vo(e),i=ee(n.seconds,r.seconds);return 0!==i?i:ee(n.nanos,r.nanos)}function lu(t){return MT(t)}function MT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=vo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=MT(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${MT(r.fields[a])}`;return o+"}"}(t.mapValue):V();var e}function xT(t){return!!t&&"integerValue"in t}function td(t){return!!t&&"arrayValue"in t}function SB(t){return!!t&&"nullValue"in t}function AB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function nd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Wt(nd(this.value))}}function RB(t){const e=[];return _o(t.fields,(n,r)=>{const i=new at([n]);if(Sg(r)){const o=RB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}class Ue{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,j.min(),j.min(),j.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,j.min(),j.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,j.min(),j.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Do{constructor(e,n){this.position=e,this.inclusive=n}}function kB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):Eo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function PB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function oce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class OB{}class pe extends OB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new sce(e,n,r):"array-contains"===n?new cce(e,r):"in"===n?new $B(e,r):"not-in"===n?new lce(e,r):"array-contains-any"===n?new dce(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ace(e,r):new uce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Eo(n,this.value)):null!==n&&Io(this.value)===Io(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends OB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Se(e,n)}matches(e){return hu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function hu(t){return"and"===t.op}function RT(t){return function FB(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&hu(t)}function kT(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+lu(t.value);if(RT(t))return t.filters.map(e=>kT(e)).join(",");{const e=t.filters.map(n=>kT(n)).join(",");return`${t.op}(${e})`}}function LB(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&Yr(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&LB(o,r.filters[s]),!0)}(t,e):void V();var n,r}function UB(t){return t instanceof pe?`${(e=t).field.canonicalString()} ${e.op} ${lu(e.value)}`:t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(UB).join(" ,")+"}"}(t):"Filter";var e}class sce extends pe{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class ace extends pe{constructor(e,n){super(e,"in",n),this.keys=BB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uce extends pe{constructor(e,n){super(e,"not-in",n),this.keys=BB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class cce extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return td(n)&&ed(n.arrayValue,this.value)}}class $B extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ed(this.value.arrayValue,n)}}class lce extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ed(this.value.arrayValue,n)}}class dce extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ed(this.value.arrayValue,r))}}class hce{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function PT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hce(t,e,n,r,i,o,s)}function Ts(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lu(r)).join(",")),e.dt=n}return e.dt}function rd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PB(t.startAt,e.startAt)&&PB(t.endAt,e.endAt)}function Ag(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Oi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function fu(t){return new Oi(t)}function zB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ss(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function xg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function OT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new du(n)),e.wt.push(new du(at.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new du(at.keyField(),o))}}}return e.wt}function In(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=PT(e.path,e.collectionGroup,Ss(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ss(e))n.push(new du(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Do(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Do(e.startAt.position,e.startAt.inclusive):null;e._t=PT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ng(t,e,n){return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return rd(In(t),In(e))&&t.limitType===e.limitType}function qB(t){return`${Ts(In(t))}|lt:${t.limitType}`}function VT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>UB(r)).join(", ")}]`),Xl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lu(r)).join(",")),`Target(${n})`}(In(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ss(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=kB(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Ss(n),r)||n.endAt&&!function(i,o,s){const a=kB(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Ss(n),r)));var n,r}function KB(t){return(e,n)=>{let r=!1;for(const i of Ss(t)){const o=fce(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function fce(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?Eo(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DB(this.inner)}size(){return this.innerSize}}const pce=new Oe(M.comparator);function Fn(){return pce}const QB=new Oe(M.comparator);function sd(...t){let e=QB;for(const n of t)e=e.insert(n.key,n);return e}function YB(t){let e=QB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return ad()}function XB(){return ad()}function ad(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const gce=new Oe(M.comparator),mce=new Ve(M.comparator);function ue(...t){let e=mce;for(const n of t)e=e.add(n);return e}const yce=new Ve(ee);function JB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function ZB(t){return{integerValue:""+t}}function e$(t,e){return function gB(t){return"number"==typeof t&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?ZB(e):JB(t,e)}class Rg{constructor(){this._=void 0}}function _ce(t,e,n){return t instanceof pu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Dg(i)&&(i=Cg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof As?n$(t,e):t instanceof Ms?r$(t,e):function(r,i){const o=t$(r,i),s=i$(o)+i$(r.gt);return xT(o)&&xT(r.gt)?ZB(s):JB(r.serializer,s)}(t,e)}function vce(t,e,n){return t instanceof As?n$(t,e):t instanceof Ms?r$(t,e):n}function t$(t,e){return t instanceof gu?xT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class pu extends Rg{}class As extends Rg{constructor(e){super(),this.elements=e}}function n$(t,e){const n=o$(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ms extends Rg{constructor(e){super(),this.elements=e}}function r$(t,e){let n=o$(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class gu extends Rg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function i$(t){return rt(t.integerValue||t.doubleValue)}function o$(t){return td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ice{constructor(e,n){this.version=e,this.transformResults=n}}class He{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new He}static exists(e){return new He(void 0,e)}static updateTime(e){return new He(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Pg{}function s$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yu(t.key,He.none()):new mu(t.key,t.data,He.none());{const n=t.data,r=Wt.empty();let i=new Ve(at.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Li(t.key,r,new On(i.toArray()),He.none())}}function Ece(t,e,n){t instanceof mu?function(r,i,o){const s=r.value.clone(),a=c$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(r,i,o){if(!kg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=c$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(u$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function cd(t,e,n,r){return t instanceof mu?function(i,o,s,a){if(!kg(i.precondition,o))return s;const u=i.value.clone(),c=l$(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(i,o,s,a){if(!kg(i.precondition,o))return s;const u=l$(i.fieldTransforms,a,o),c=o.data;return c.setAll(u$(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,kg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Dce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=t$(r.transform,i||null);null!=o&&(null===n&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function a$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&uu(n,r,(i,o)=>function wce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof As&&r instanceof As||n instanceof Ms&&r instanceof Ms?uu(n.elements,r.elements,Yr):n instanceof gu&&r instanceof gu?Yr(n.gt,r.gt):n instanceof pu&&r instanceof pu);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class mu extends Pg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends Pg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c$(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vce(s,a,n[i]))}return r}function l$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_ce(o,s,e))}return r}class yu extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BT extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $T{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ece(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=s$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,(n,r)=>a$(n,r))&&uu(this.baseMutations,e.baseMutations,(n,r)=>a$(n,r))}}class jT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=gce;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new jT(e,n,r,i)}}class HT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bce{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,_e;function h$(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case mt.OK:return I.OK;case mt.CANCELLED:return I.CANCELLED;case mt.UNKNOWN:return I.UNKNOWN;case mt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mt.INTERNAL:return I.INTERNAL;case mt.UNAVAILABLE:return I.UNAVAILABLE;case mt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mt.NOT_FOUND:return I.NOT_FOUND;case mt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mt.ABORTED:return I.ABORTED;case mt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(_e=mt||(mt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class GT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Og}static getOrCreateInstance(){return null===Og&&(Og=new GT),Og}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Og=null;const Tce=new su([4294967295,4294967295],0);function p$(t){const e=function f$(){return new TextEncoder}().encode(t),n=new Iue;return n.update(e),new Uint8Array(n.digest())}function g$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new su([n,r],0),new su([i,o],0)]}class zT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ld(`Invalid padding: ${n}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ld(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ld(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=su.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(su.fromNumber(r)));return 1===i.compare(Tce)&&(i=new su([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=p$(e),[r,i]=g$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=p$(e),[r,i]=g$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dd(j.min(),i,new Oe(ee),Fn(),ue())}}class hd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hd(r,n,ue(),ue(),ue())}}class Fg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class m${constructor(e,n){this.targetId=e,this.Vt=n}}class y${constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _${constructor(){this.St=0,this.Dt=w$(),this.Ct=bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),n=ue(),r=ue();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new hd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=w$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fn(),this.zt=v$(),this.Wt=new Oe(ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Ag(s))if(0===i){const a=new M(s.path);this.Yt(r,a,Ue.newNoDocument(a,j.min()))}else $(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=GT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Pi(o).toUint8Array()}catch(l){if(l instanceof bB)return Dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new zT(u,s,a)}catch(l){return Dr(l instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Ag(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Ue.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=ue();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new dd(e,n,this.Wt,this.jt,r);return this.jt=Fn(),this.zt=v$(),this.Wt=new Oe(ee),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new _$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ve(ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function v$(){return new Oe(M.comparator)}function w$(){return new Oe(M.comparator)}const Ace={asc:"ASCENDING",desc:"DESCENDING"},Mce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xce={and:"AND",or:"OR"};class Nce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qT(t,e){return t.useProto3Json||Xl(e)?e:{value:e}}function _u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rce(t,e){return _u(t,e.toTimestamp())}function ut(t){return $(!!t),j.fromTimestamp(function(e){const n=vo(e);return new Ke(n.seconds,n.nanos)}(t))}function WT(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function E$(t){const e=ye.fromString(t);return $(N$(e)),e}function fd(t,e){return WT(t.databaseId,e.path)}function Jr(t,e){const n=E$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(C$(n))}function KT(t,e){return WT(t.databaseId,e)}function pd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C$(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function b$(t,e,n){return{name:fd(t,e),fields:n.value.mapValue.fields}}function S$(t,e){return{documents:[KT(t,e.path)]}}function YT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=KT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=KT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return x$(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Co((l=c).field),direction:Lce(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=qT(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function A$(t){let e=function D$(t){const e=E$(t);return 4===e.length?ye.emptyPath():C$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=M$(l);return d instanceof Se&&RT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new du(vu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Xl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Do((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Do(l.values||[],!l.before)}(n.endAt)),function GB(t,e,n,r,i,o,s,a){return new Oi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function M$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=vu(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=vu(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vu(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vu(e.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?pe.create(vu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>M$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V();var e}function Lce(t){return Ace[t]}function Vce(t){return Mce[t]}function Uce(t){return xce[t]}function Co(t){return{fieldPath:t.canonicalString()}}function vu(t){return at.fromServerFormat(t.fieldPath)}function x$(t){return t instanceof pe?function(e){if("=="===e.op){if(AB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NAN"}};if(SB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NAN"}};if(SB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(e.field),op:Vce(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>x$(r));return 1===n.length?n[0]:{compositeFilter:{op:Uce(e.op),filters:n}}}(t):V()}function Bce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Vi{constructor(e,n,r,i,o=j.min(),s=j.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R${constructor(e){this.fe=e}}function XT(t){const e=A$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ng(e,e.limit,"L"):e}class ks{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Jl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Pi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?MB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ks.Ve=new ks;class Qce{constructor(){this.rn=new r0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Kn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class r0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ye.comparator)).toArray()}}new Uint8Array(0);class un{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Os{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Os(0)}static Mn(){return new Os(-1)}}class tle{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ile{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ij{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&cd(r.mutation,i,On.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sd();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fn();const s=ad(),a=ad();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Li)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),cd(l.mutation,c,l.mutation.getFieldMask(),Ke.now())):s.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ile(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ad();let i=new Oe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||On.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=XB();l.forEach(h=>{if(!o.has(h)){const f=s$(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function FT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(Xr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:YB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=sd();return this.indexManager.getCollectionParents(e,i).next(s=>v.forEach(s,a=>{const u=(c=n,l=a.child(i),new Oi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Ue.newInvalidDocument(c)))});let s=sd();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&cd(c.mutation,u,On.empty(),Ke.now()),od(n,u)&&(s=s.insert(a,u))}),s})}}class ole{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:XT(r.bundledQuery),readTime:ut(r.readTime)}),v.resolve();var r}}class sle{constructor(){this.overlays=new Oe(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Xr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HT(n,r));let o=this.ls.get(n);void 0===o&&(o=ue(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class o0{constructor(){this.fs=new Ve(Ft.ds),this.ws=new Ve(Ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ft(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ye([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ye([])),r=new Ft(n,e),i=new Ft(n,e+1);let o=ue();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ft(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||ee(e.As,n.As)}static _s(e,n){return ee(e.As,n.As)||M.comparator(e.key,n.key)}}class ale{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ve(Ft.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new $T(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ee);return n.forEach(i=>{const o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new Ft(new M(o),0);let a=new Ve(ee);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ule{constructor(e){this.Ds=e,this.docs=new Oe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ue.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fn();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||bT(hB(l),r)<=0||(i.has(l.key)||od(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cle(this)}getSize(e){return v.resolve(this.size)}}class cle extends tle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class lle{constructor(e){this.persistence=e,this.xs=new Fi(n=>Ts(n),rd),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new o0,this.targetCount=0,this.Ms=Os.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class s0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lle(this),this.indexManager=new Qce,this.remoteDocumentCache=new ule(r=>this.referenceDelegate.Ls(r)),this.serializer=new R$(n),this.qs=new ole(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ale(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new dle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class dle extends Rue{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Qs=new o0,this.js=null}static zs(e){return new zg(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class l0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new l0(e,n.fromCache,r,i)}}class sj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(zB(n))return v.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ng(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,Ng(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return zB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(ET()<=J.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VT(n)),this.Wi(e,s,n,function dB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Ke(n+1,0):new Ke(n,r));return new Kn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ve(KB(e));return n.forEach((i,o)=>{od(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return ET()<=J.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",VT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class fle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(ee),this.Yi=new Fi(o=>Ts(o),rd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ij(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function uj(t,e){return d0.apply(this,arguments)}function d0(){return d0=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ue();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),d0.apply(this,arguments)}function cj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function mle(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Du(t,e,n){return h0.apply(this,arguments)}function h0(){return h0=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!yo(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),h0.apply(this,arguments)}function Kg(t,e,n){const r=x(t);let i=j.min(),o=ue();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:ue())).next(a=>(function fj(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function WB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class y0{constructor(){this.activeTargetIds=function UT(){return yce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mj{constructor(){this.Hr=new y0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vle{Yr(e){}shutdown(){}}class yj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xg=null;function v0(){return null===Xg?Xg=268435456+Math.round(2147483648*Math.random()):Xg++,"0x"+Xg.toString(16)}const wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ile{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cn="WebChannelConnection";class Ele extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=v0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Dr("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${wle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=v0();return new Promise((s,a)=>{const u=new wue;u.setWithCredentials(!0),u.listenOnce(yue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case IT.NO_ERROR:const l=u.getResponseJson();S(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case IT.TIMEOUT:S(cn,`RPC '${e}' ${o} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case IT.HTTP_ERROR:const d=u.getStatus();if(S(cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{S(cn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);S(cn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=v0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gue(),a=mue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new vue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");S(cn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Ile({ro:y=>{f?S(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(cn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,C=>{try{_(C)}catch(F){setTimeout(()=>{throw F},0)}})};return m(d,yg.EventType.OPEN,()=>{f||S(cn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,yg.EventType.CLOSE,()=>{f||(f=!0,S(cn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,yg.EventType.ERROR,y=>{f||(f=!0,Dr(cn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,yg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];$(!!_);const F=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(F){S(cn,`RPC '${e}' stream ${i} received error:`,F);const B=F.status;let de=function(Bi){const Vu=mt[Bi];if(void 0!==Vu)return h$(Vu)}(B),_t=F.message;void 0===de&&(de=I.INTERNAL,_t="Unknown error status: "+B+" with message "+F.message),f=!0,p.wo(new b(de,_t)),d.close()}else S(cn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,_ue.STAT_EVENT,y=>{y.stat===oB.PROXY?S(cn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===oB.NOPROXY&&S(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Jg(){return typeof document<"u"?document:null}function Cd(t){return new Nce(t,!0)}class w0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vj{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new w0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dle extends vj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Pce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?($(void 0===c||"string"==typeof c),bt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?I.UNKNOWN:h$(u.code);return new b(c,u.message||"")}(s);n=new y$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Jr(t,r.document.name),o=ut(r.document.updateTime),s=r.document.createTime?ut(r.document.createTime):j.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,o,s,a);n=new Fg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Jr(t,r.document),o=r.readTime?ut(r.readTime):j.min(),s=Ue.newNoDocument(i,o);n=new Fg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Jr(t,r.document);n=new Fg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new bce(i,o);n=new m$(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?ut(o.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=pd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Ag(a)?{documents:S$(i,a)}:{query:YT(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=I$(i,o.resumeToken);const u=qT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(j.min())>0){s.readTime=_u(i,o.snapshotVersion.toTimestamp());const u=qT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function Fce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=pd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Cle extends vj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Oce(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let o=ut(r.updateTime?r.updateTime:i);return o.isEqual(j.min())&&(o=ut(i)),new Ice(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.cu(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function gd(t,e){let n;if(e instanceof mu)n={update:b$(t,e.key,e.value)};else if(e instanceof yu)n={delete:fd(t,e.key)};else if(e instanceof Li)n={update:b$(t,e.key,e.data),updateMask:Bce(e.fieldMask)};else{if(!(e instanceof BT))return V();n={verify:fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof As)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ms)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof gu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Rce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class ble extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Sle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ale{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ao(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Cu(l),l.bu.set("Unknown"),l.vu.delete(4),yield bd(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new Sle(r,i)}}function bd(t){return E0.apply(this,arguments)}function E0(){return E0=g(function*(t){if(Ao(t))for(const e of t.Ru)yield e(!0)}),E0.apply(this,arguments)}function Cu(t){return D0.apply(this,arguments)}function D0(){return D0=g(function*(t){for(const e of t.Ru)yield e(!1)}),D0.apply(this,arguments)}function Zg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),T0(n)?b0(n):Tu(n).Ko()&&C0(n,e))}function Td(t,e){const n=x(t),r=Tu(n);n.Au.delete(e),r.Ko()&&wj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ao(n)&&n.bu.set("Unknown"))}function C0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).su(e)}function wj(t,e){t.Vu.qt(e),Tu(t).iu(e)}function b0(t){t.Vu=new Sce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.bu.gu()}function T0(t){return Ao(t)&&!Tu(t).Uo()&&t.Au.size>0}function Ao(t){return 0===x(t).vu.size}function Ij(t){t.Vu=void 0}function Mle(t){return S0.apply(this,arguments)}function S0(){return S0=g(function*(t){t.Au.forEach((e,n)=>{C0(t,e)})}),S0.apply(this,arguments)}function xle(t,e){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t,e){Ij(t),T0(t)?(t.bu.Iu(e),b0(t)):t.bu.set("Unknown")}),A0.apply(this,arguments)}function Nle(t,e,n){return M0.apply(this,arguments)}function M0(){return M0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof y$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield em(t,r)}else if(e instanceof Fg?t.Vu.Ht(e):e instanceof m$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield cj(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),wj(i,a);const l=new Vi(c.target,a,u,c.sequenceNumber);C0(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield em(t,r)}var r}),M0.apply(this,arguments)}function em(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t,e,n){if(!yo(e))throw e;t.vu.add(1),yield Cu(t),t.bu.set("Offline"),n||(n=()=>cj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield bd(t)}))}),x0.apply(this,arguments)}function Ej(t,e){return e().catch(n=>em(t,n,e))}function bu(t){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t){const e=x(t),n=Mo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Rle(e);)try{const i=yield mle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,kle(e,i)}catch(i){yield em(e,i)}Dj(e)&&Cj(e)}),N0.apply(this,arguments)}function Rle(t){return Ao(t)&&t.Eu.length<10}function kle(t,e){t.Eu.push(e);const n=Mo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Dj(t){return Ao(t)&&!Mo(t).Uo()&&t.Eu.length>0}function Cj(t){Mo(t).start()}function Ple(t){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t){Mo(t).hu()}),R0.apply(this,arguments)}function Ole(t){return k0.apply(this,arguments)}function k0(){return k0=g(function*(t){const e=Mo(t);for(const n of t.Eu)e.uu(n.mutations)}),k0.apply(this,arguments)}function Fle(t,e,n){return P0.apply(this,arguments)}function P0(){return P0=g(function*(t,e,n){const r=t.Eu.shift(),i=jT.from(r,e,n);yield Ej(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield bu(t)}),P0.apply(this,arguments)}function Lle(t,e){return O0.apply(this,arguments)}function O0(){return O0=g(function*(t,e){var n;e&&Mo(t).ou&&(yield(n=g(function*(r,i){if(function d$(t){switch(t){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(o=i.code)&&o!==I.ABORTED){const s=r.Eu.shift();Mo(r).Qo(),yield Ej(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield bu(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Dj(t)&&Cj(t)}),O0.apply(this,arguments)}function bj(t,e){return F0.apply(this,arguments)}function F0(){return F0=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.vu.add(3),yield Cu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield bd(n)}),F0.apply(this,arguments)}function V0(){return V0=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield bd(n)):e||(n.vu.add(2),yield Cu(n),n.bu.set("Unknown"))}),V0.apply(this,arguments)}function Tu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Dle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Mle.bind(null,t),ao:xle.bind(null,t),nu:Nle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),T0(t)?b0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Ij(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Mo(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Cle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ple.bind(null,t),ao:Lle.bind(null,t),au:Ole.bind(null,t),cu:Fle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield bu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class U0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new U0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(t,e){if(st("AsyncQueue",`${e}: ${t}`),yo(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Au{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=sd(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Tj{constructor(){this.Cu=new Oe(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mu{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Mu(e,n,Au.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vle{constructor(){this.Nu=void 0,this.listeners=[]}}class Ule{constructor(){this.queries=new Fi(e=>qB(e),id),this.onlineState="Unknown",this.ku=new Set}}function $0(){return $0=g(function*(t,e){const n=x(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Vle),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Su(s,`Initialization of query '${VT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&G0(n)}),$0.apply(this,arguments)}function H0(){return H0=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),H0.apply(this,arguments)}function Ble(t,e){const n=x(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&G0(n)}function $le(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function G0(t){t.ku.forEach(e=>{e.next()})}class z0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mj{constructor(e){this.key=e}}class xj{constructor(e){this.key=e}}class Nj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=KB(e),this.ec=new Au(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Tj,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=od(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new Mu(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new xj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Mj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ue();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Mu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Gle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zle{constructor(e){this.key=e,this.fc=!1}}class qle{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Fi(a=>qB(a),id),this._c=new Map,this.mc=new Set,this.gc=new Oe(M.comparator),this.yc=new Map,this.Ic=new o0,this.Tc={},this.Ec=new Map,this.Ac=Os.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Wle(t,e){return q0.apply(this,arguments)}function q0(){return q0=g(function*(t,e){const n=function gS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yle.bind(null,e),e.dc.nu=Ble.bind(null,e.eventManager),e.dc.Pc=$le.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Eu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,In(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function W0(t,e,n,r,i){return K0.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Zg(n.remoteStore,s)}return i}),q0.apply(this,arguments)}function K0(){return K0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let C=y.view.sc(w);C.zi&&(C=yield Kg(m.localStore,y.query,!1).then(({documents:de})=>y.view.sc(de,C)));const F=_&&_.targetChanges.get(y.targetId),B=y.view.applyChanges(C,m.isPrimaryClient,F);return iS(m,y.targetId,B.cc),B.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Kg(t.localStore,e,!0),s=new Nj(e,o.ir),a=s.sc(o.documents),u=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);iS(t,n,c.cc);const l=new Gle(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),K0.apply(this,arguments)}function Kle(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!id(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Du(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Td(n.remoteStore,r.targetId),xu(n,r.targetId)}).catch(mo))):(xu(n,r.targetId),yield Du(n.localStore,r.targetId,!0))}),Q0.apply(this,arguments)}function Y0(){return Y0=g(function*(t,e,n){const r=function mS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jle.bind(null,e),e}(t);try{const i=yield function(o,s){const a=x(o),u=Ke.now(),c=s.reduce((h,f)=>h.add(f.key),ue());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Fn(),p=ue();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of s){const _=Dce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Li(w.key,_,RB(_.value.mapValue),He.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:YB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new Oe(ee)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ui(r,i.changes),yield bu(r.remoteStore)}catch(i){const o=Su(i,"Failed to persist write");n.reject(o)}}),Y0.apply(this,arguments)}function Rj(t,e){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e){const n=x(t);try{const r=yield function gle(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let u=Fn(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function lj(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?$(s.fc):i.removedDocuments.size>0&&($(s.fc),s.fc=!1))}),yield Ui(n,r,e)}catch(r){yield mo(r)}}),X0.apply(this,arguments)}function kj(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=x(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&G0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yle(t,e,n){return J0.apply(this,arguments)}function J0(){return J0=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Oe(M.comparator);s=s.insert(o,Ue.newNoDocument(o,j.min()));const a=ue().add(o),u=new dd(j.min(),new Map,new Oe(ee),s,a);yield Rj(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),oS(r)}else yield Du(r.localStore,e,!1).then(()=>xu(r,e,n)).catch(mo)}),J0.apply(this,arguments)}function Xle(t,e){return Z0.apply(this,arguments)}function Z0(){return Z0=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function ple(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ue();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ui(n,i)}catch(i){yield mo(i)}}),Z0.apply(this,arguments)}function Jle(t,e,n){return eS.apply(this,arguments)}function eS(){return eS=g(function*(t,e,n){const r=x(t);try{const i=yield function(o,s){const a=x(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);rS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ui(r,i)}catch(i){yield mo(i)}}),eS.apply(this,arguments)}function nS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function rS(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function xu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Pj(t,r)})}function Pj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Td(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),oS(t))}function iS(t,e,n){for(const r of n)r instanceof Mj?(t.Ic.addReference(r.key,e),ede(t,r)):r instanceof xj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Pj(t,r.key)):V()}function ede(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),oS(t))}function oS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new zle(n)),t.gc=t.gc.insert(n,r),Zg(t.remoteStore,new Vi(In(fu(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function Ui(t,e,n){return sS.apply(this,arguments)}function sS(){return sS=g(function*(t,e,n){const r=x(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=l0.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yo(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),sS.apply(this,arguments)}function tde(t,e){return aS.apply(this,arguments)}function aS(){return aS=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield uj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ui(n,r.er)}var i}),aS.apply(this,arguments)}function nde(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class tm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Cd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function aj(t,e,n,r){return new fle(t,e,n,r)}(this.persistence,new sj,e.initialUser,this.serializer)}createPersistence(e){return new s0(zg.zs,this.serializer)}createSharedClientState(e){return new mj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tde.bind(null,r.syncEngine),yield function L0(t,e){return V0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ule}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),r=new Ele(e.databaseInfo);return new ble(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>kj(this.syncEngine,a,0),s=yj.D()?new yj:new vle,new Ale(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new qle(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Cu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class nm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gde{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=cB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Su(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function rm(t,e){return yS.apply(this,arguments)}function yS(){return yS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield uj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),yS.apply(this,arguments)}function _S(t,e){return vS.apply(this,arguments)}function vS(){return vS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function wS(t){return IS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>bj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>bj(e.remoteStore,o)),t._onlineComponents=e}),vS.apply(this,arguments)}function IS(){return IS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Bj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),yield rm(t,new tm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield rm(t,new tm);return t._offlineComponents}),IS.apply(this,arguments)}function im(t){return ES.apply(this,arguments)}function ES(){return ES=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield _S(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield _S(t,new Nu))),t._onlineComponents}),ES.apply(this,arguments)}function CS(){return CS=g(function*(t){const e=yield im(t),n=e.eventManager;return n.onListen=Wle.bind(null,e.syncEngine),n.onUnlisten=Kle.bind(null,e.syncEngine),n}),CS.apply(this,arguments)}function zj(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,o,s,a,u){const c=new nm({next:d=>{o.enqueueAndForget(()=>function j0(t,e){return H0.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new z0(s,c,{includeMetadataChanges:!0,Ku:!0});return function B0(t,e){return $0.apply(this,arguments)}(i,l)}(yield function Ru(t){return CS.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function qj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Wj=new Map;function bS(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kj(t){if(!M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qj(t){if(M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sm(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Xj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Cde(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Eue;switch(n.type){case"firstParty":return new Tue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Wj.delete(e),n.terminate())}(this),Promise.resolve()}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Zr extends Kt{constructor(e,n,r){super(e,n,fu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new M(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Tde(t,e,...n){if(t=yn(t),bS("collection","path",e),t instanceof Sd){const r=ye.fromString(e,...n);return Qj(r),new Zr(t,null,r)}{if(!(t instanceof ct||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Qj(r),new Zr(t.firestore,null,r)}}function Jj(t,e,...n){if(t=yn(t),1===arguments.length&&(e=cB.A()),bS("doc","path",e),t instanceof Sd){const r=ye.fromString(e,...n);return Kj(r),new ct(t,null,new M(r))}{if(!(t instanceof ct||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Kj(r),new ct(t.firestore,t instanceof Zr?t.converter:null,new M(r))}}class Sde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new w0(this,"async_queue_retry"),this.Xc=()=>{const n=Jg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Jg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Jg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!yo(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=U0.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Be extends Sd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eH(this),this._firestoreClient.terminate()}}function Mde(t,e){const r="string"==typeof t?t:e||"(default)",i=za("object"==typeof t?t:Zw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=BF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function bde(t,e,n,r={}){var i;const o=(t=ge(t,Sd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Dr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Pt.MOCK_USER;else{s=function VJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify({alg:"none",type:"JWT"})),rp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Pt(u)}t._authCredentials=new Due(new aB(s,a))}}(i,...o)}return i}function yt(t){return t._firestoreClient||eH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eH(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new nce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new gde(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(bt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rH{constructor(e){this._methodName=e}}class SS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const Nde=/^__.*__$/;class Rde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}function oH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class am{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return cm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oH(this.ca)&&Nde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cd(e)}ya(e,n,r,i=!1){return new am({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(t){const e=t._freezeSettings(),n=Cd(t._databaseId);return new kde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AS(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);xS("Data must be an object, but it was:",s,r);const a=lH(r,s);let u,c;if(o.merge)u=new On(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=xd(e,d,n);if(!s.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hH(l,h)||l.push(h)}u=new On(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Rde(new Wt(a),u,c)}function Vs(t,e){if(dH(t=yn(t)))return xS("Unsupported field value:",e,t),lH(t,e);if(t instanceof rH)return function(n,r){if(!oH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Vs(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=yn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return e$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ke.fromDate(n);return{timestampValue:_u(r.serializer,i)}}if(n instanceof Ke){const i=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_u(r.serializer,i)}}if(n instanceof SS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ls)return{bytesValue:I$(r.serializer,n._byteString)};if(n instanceof ct){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${sm(n)}`)}(t,e)}function lH(t,e){const n={};return DB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const o=Vs(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function dH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof SS||t instanceof Ls||t instanceof ct||t instanceof rH)}function xS(t,e,n){if(!dH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function xd(t,e,n){if((e=yn(e))instanceof ku)return e._internalPath;if("string"==typeof e)return um(t,e);throw cm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lde=new RegExp("[~\\*/\\[\\]]");function um(t,e,n){if(e.search(Lde)>=0)throw cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function hH(t,e){return t.some(n=>n.isEqual(e))}class NS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Vde extends NS{data(){return super.data()}}function lm(t,e){return"string"==typeof e?um(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}class Bde{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new SS(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);$(N$(r));const i=new Cs(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||st(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends NS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pm extends Fu{data(e={}){return super.data(e)}}class Lu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pm(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new pm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Us(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new pm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Us(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:jde(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class xo extends Bde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function Hde(t){t=ge(t,Kt);const e=ge(t.firestore,Be),n=yt(e),r=new xo(e);return function fH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),zj(n,t._query).then(i=>new Lu(e,r,t,i))}function Gde(t){return Rd(ge(t.firestore,Be),[new yu(t._key,He.none())])}function zde(t,e){const n=ge(t.firestore,Be),r=Jj(t),i=function kS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Rd(n,[AS(Pu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,He.exists(!1))]).then(()=>r)}function Rd(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(g(function*(){return function Qle(t,e,n){return Y0.apply(this,arguments)}(yield function DS(t){return im(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}!function(t,e=!0){au=us,_n(new rn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Be(new Cue(n.getProvider("auth-internal")),new Sue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Ze(sB,"3.12.0",t),Ze(sB,"3.12.0","esm2017")}();class mm{constructor(e){return e}}const IH="firestore",OS=new U("angularfire2.firestore-instances");function ohe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mm(r)}}const she={provide:class rhe{constructor(){return tD(IH)}},deps:[[new fn,OS]]},ahe={provide:mm,useFactory:function ihe(t,e){const n=eD(IH,t,e);return n&&new mm(n)},deps:[[new fn,OS],Qa]};let uhe=(()=>{class t{constructor(){Ze("angularfire",_p.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[ahe,she]}),t})();function che(t,...e){return{ngModule:uhe,providers:[{provide:OS,useFactory:ohe(t),multi:!0,deps:[Me,Gn,nD,rD,[new fn,UV],[new fn,bD],...e]}]}}const lhe=Gr(zde,!0),EH=Gr(Tde,!0),dhe=Gr(Gde,!0),hhe=Gr(Jj,!0),fhe=Gr(Hde,!0),phe=Gr(Mde,!0);let DH=(()=>{class t{constructor(n){this.db=n,this.supplierList=[],this.supplierDocumentList=[]}createSupplier(n){var r=this;return g(function*(){try{yield lhe(EH(r.db,"suppliers"),{name:n.name,address:n.address,contactNumber:n.contactNumber,contactEmail:n.contactEmail,supplierRating:n.supplierRating,items:n.items,methodsOfPayment:n.methodsOfPayment}),console.log("Supplier data added.")}catch(i){console.error("Error adding data.",i)}})()}fetchData(){var n=this;return g(function*(){try{(yield fhe(EH(n.db,"suppliers"))).forEach(i=>{n.supplierList.push({...i.data(),id:i.id}),n.supplierDocumentList.push(i)})}catch(r){console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(H(mm))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ghe(t,e){1&t&&(k(0,"p",18),W(1," Field is required. "),N())}function mhe(t,e){if(1&t&&(dr(0),Le(1,ghe,2,0,"p",17),hr()),2&t){const n=en(2);Y(1),ce("ngIf",null==n.supplierForm.controls.name.errors?null:n.supplierForm.controls.name.errors.required)}}function yhe(t,e){1&t&&(k(0,"p",18),W(1," Field is required. "),N())}function _he(t,e){if(1&t&&(dr(0),Le(1,yhe,2,0,"p",17),hr()),2&t){const n=en(2);Y(1),ce("ngIf",null==n.supplierForm.controls.address.errors?null:n.supplierForm.controls.address.errors.required)}}function vhe(t,e){1&t&&(k(0,"p",18),W(1," Field is required. "),N())}function whe(t,e){if(1&t&&(dr(0),Le(1,vhe,2,0,"p",17),hr()),2&t){const n=en(2);Y(1),ce("ngIf",null==n.supplierForm.controls.contactNumber.errors?null:n.supplierForm.controls.contactNumber.errors.required)}}function Ihe(t,e){1&t&&(k(0,"p",18),W(1," Field is required. "),N())}function Ehe(t,e){1&t&&(k(0,"p",18),W(1," Email is required. "),N())}function Dhe(t,e){if(1&t&&(dr(0),Le(1,Ihe,2,0,"p",17),Le(2,Ehe,2,0,"p",17),hr()),2&t){const n=en(2);Y(1),ce("ngIf",null==n.supplierForm.controls.contactEmail.errors?null:n.supplierForm.controls.contactEmail.errors.required),Y(1),ce("ngIf",null==n.supplierForm.controls.contactEmail.errors?null:n.supplierForm.controls.contactEmail.errors.email)}}function Che(t,e){1&t&&(k(0,"p",18),W(1," Field is required. "),N())}function bhe(t,e){1&t&&(k(0,"p",18),W(1," Value too low. "),N())}function The(t,e){1&t&&(k(0,"p",18),W(1," Value too high. "),N())}function She(t,e){if(1&t&&(dr(0),Le(1,Che,2,0,"p",17),Le(2,bhe,2,0,"p",17),Le(3,The,2,0,"p",17),hr()),2&t){const n=en(2);Y(1),ce("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.required),Y(1),ce("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.min),Y(1),ce("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.max)}}function Ahe(t,e){if(1&t){const n=Da();k(0,"div")(1,"div",19),ht(2,"input",20),N(),k(3,"div",19),ht(4,"input",21),N(),k(5,"div",19),ht(6,"input",22),N(),k(7,"div")(8,"button",23),Ne("click",function(){const o=zi(n).index;return qi(en(2).removeItem(o))}),W(9," Remove Item "),N()()()}if(2&t){const n=e.index;Y(1),ce("formGroupName",n),Y(2),ce("formGroupName",n),Y(2),ce("formGroupName",n)}}function Mhe(t,e){if(1&t){const n=Da();k(0,"div"),ht(1,"input",24),k(2,"button",23),Ne("click",function(){const o=zi(n).index;return qi(en(2).removeMethodOfPayment(o))}),W(3," Remove Method of Payment "),N()()}if(2&t){const n=e.index;Y(1),ce("formControlName",n)}}function xhe(t,e){if(1&t){const n=Da();dr(0),k(1,"div",3)(2,"form",4),Ne("ngSubmit",function(){return zi(n),qi(en().submitAddSupplier())}),k(3,"div",5),ht(4,"input",6),Le(5,mhe,2,1,"ng-container",2),N(),k(6,"div",5),ht(7,"input",7),Le(8,_he,2,1,"ng-container",2),N(),k(9,"div",5),ht(10,"input",8),Le(11,whe,2,1,"ng-container",2),N(),k(12,"div",5),ht(13,"input",9),Le(14,Dhe,3,2,"ng-container",2),N(),k(15,"div",5)(16,"label"),W(17,"Supplier Rating:"),N(),ht(18,"input",10),Le(19,She,4,3,"ng-container",2),N(),ht(20,"hr"),k(21,"h1",11),W(22,"Items"),N(),k(23,"div",12),Le(24,Ahe,10,3,"div",13),N(),k(25,"div")(26,"button",14),Ne("click",function(){return zi(n),qi(en().addItem())}),W(27," Add Item "),N()(),k(28,"h1",11),W(29,"Methods of Payment"),N(),k(30,"div",15),Le(31,Mhe,4,1,"div",13),N(),k(32,"div")(33,"button",14),Ne("click",function(){return zi(n),qi(en().addMethodOfPayment())}),W(34," Add Method of Payment "),N()(),k(35,"button",16),W(36," Submit "),N()()(),hr()}if(2&t){const n=en();Y(2),ce("formGroup",n.supplierForm),Y(3),ce("ngIf",n.supplierForm.controls.name.touched&&n.supplierForm.controls.name.dirty),Y(3),ce("ngIf",n.supplierForm.controls.address.touched&&n.supplierForm.controls.address.dirty),Y(3),ce("ngIf",n.supplierForm.controls.contactNumber.touched&&n.supplierForm.controls.contactNumber.dirty),Y(3),ce("ngIf",n.supplierForm.controls.contactEmail.touched&&n.supplierForm.controls.contactEmail.dirty),Y(5),ce("ngIf",n.supplierForm.controls.supplierRating.touched&&n.supplierForm.controls.supplierRating.dirty),Y(5),ce("ngForOf",n.getItemsControls()),Y(7),ce("ngForOf",n.getMethodsOfPaymentControls()),Y(4),ce("disabled",n.supplierForm.invalid)}}function Nhe(t,e){if(1&t&&(k(0,"div")(1,"div",26)(2,"h1",31),W(3),Zh(4,"uppercase"),N(),k(5,"div",32)(6,"p"),W(7,"Price/Unit:"),N(),k(8,"p"),W(9),N()(),k(10,"div",32)(11,"p"),W(12,"MOQ:"),N(),k(13,"p"),W(14),N()()()()),2&t){const n=e.$implicit;Y(3),pi(ef(4,3,n.itemName)),Y(6),qo("\u20b1 ",n.pricePerUnit,""),Y(5),qo("",n.moq," units")}}function Rhe(t,e){if(1&t){const n=Da();dr(0),k(1,"div",25)(2,"div",26)(3,"h1",27),W(4,"Supplier Name:"),N(),k(5,"p",28),W(6),N()(),k(7,"div",26)(8,"h1",27),W(9,"Supplier Address:"),N(),k(10,"p",28),W(11),N()(),k(12,"div",26)(13,"h1",27),W(14,"Contact Number:"),N(),k(15,"p",28),W(16),N()(),k(17,"div",26)(18,"h1",27),W(19,"Contact Email:"),N(),k(20,"p",28),W(21),N()(),k(22,"div",26)(23,"h1",27),W(24,"Supplier Rating:"),N(),k(25,"p",28),W(26),N()(),k(27,"div",5)(28,"h1",27),W(29,"Items:"),N(),Le(30,Nhe,15,5,"div",13),N(),k(31,"div",26)(32,"h1",27),W(33,"Methods of Payment:"),N(),k(34,"p",28),W(35),Zh(36,"uppercase"),N()(),k(37,"div",29)(38,"a",30),Ne("click",function(i){return zi(n),qi(en().deleteSupplier(i))}),W(39," Delete Supplier"),N()()(),hr()}if(2&t){const n=en();Y(6),pi(n.supplierName),Y(5),pi(n.supplierAddress),Y(5),pi(n.supplierNumber),Y(5),pi(n.supplierEmail),Y(5),qo("",n.supplierRating,"/5"),Y(4),ce("ngForOf",n.supplierItems),Y(5),pi(ef(36,7,n.supplierMOP))}}let khe=(()=>{class t{constructor(n,r){this.modal=n,this.masterlistService=r,this.supplierModalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber=0,this.supplierEmail="",this.supplierRating=0,this.supplierMOP="",this.supplierItems=[],this.supplierID="",this.supplierForm=new Pa({name:new Rn("",[Nn.required]),address:new Rn("",[Nn.required]),contactNumber:new Rn(null,[Nn.required]),contactEmail:new Rn("",[Nn.required,Nn.email]),supplierRating:new Rn(0,[Nn.required,Nn.min(0),Nn.max(5)]),items:new lw([]),methodsOfPayment:new lw([])})}ngOnInit(){this.modal.register("supplier"),this.getItemsControls()}ngOnDestroy(){this.modal.unregister("supplier")}getItemsControls(){return this.supplierForm.get("items").controls}getMethodsOfPaymentControls(){return this.supplierForm.get("methodsOfPayment").controls}addItem(){const n=this.supplierForm.get("items"),r=new Pa({itemName:new Rn(null,[Nn.required]),pricePerUnit:new Rn(null,[Nn.required]),moq:new Rn("",[Nn.required])});n.push(r)}addMethodOfPayment(){this.supplierForm.get("methodsOfPayment").push(new Rn(""))}removeItem(n){this.supplierForm.get("items").removeAt(n)}removeMethodOfPayment(n){this.supplierForm.get("methodsOfPayment").removeAt(n)}submitAddSupplier(){var n=this;return g(function*(){try{yield n.masterlistService.createSupplier(n.supplierForm.value),console.log(n.supplierForm.value),location.reload()}catch(r){return void console.error(r)}})()}deleteSupplier(n){var r=this;return g(function*(){n.preventDefault(),yield dhe(hhe(r.masterlistService.db,"suppliers",r.supplierID)),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(DH))},t.\u0275cmp=oi({type:t,selectors:[["app-supplier"]],inputs:{supplierModalTitle:"supplierModalTitle",supplierAction:"supplierAction",supplierName:"supplierName",supplierAddress:"supplierAddress",supplierNumber:"supplierNumber",supplierEmail:"supplierEmail",supplierRating:"supplierRating",supplierMOP:"supplierMOP",supplierItems:"supplierItems",supplierID:"supplierID"},decls:5,vars:3,consts:[["modalID","supplier"],["heading","",1,"text-xl","font-bold"],[4,"ngIf"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["formControlName","name","type","text","placeholder","Supplier Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","address","type","text","placeholder","Supplier Address",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactNumber","type","number","placeholder","Supplier Number",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactEmail","type","text","placeholder","Supplier Email",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","supplierRating","type","number","placeholder","Supplier Rating",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],[1,"mb-2"],["formArrayName","items"],[4,"ngFor","ngForOf"],["type","button",1,"rounded-lg","p-0.5","bg-amber-300","hover:bg-amber-400","w-full","mb-2",3,"click"],["formArrayName","methodsOfPayment"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"],[1,"mb-2",3,"formGroupName"],["formControlName","itemName","type","text","placeholder","Item Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","pricePerUnit","type","text","placeholder","Price per Unit",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","moq","type","text","placeholder","MOQ (Minimum Order Quantity)",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["type","button",1,"p-0.5","text-red-500","w-full","mb-2",3,"click"],["type","text","placeholder","Payment Method",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full","mb-2",3,"formControlName"],[1,"flex","flex-col","w-64"],[1,"flex","flex-col","align-middle","justify-between"],[1,"font-bold","pb-1"],[1,"pb-4","font-light"],[1,"flex","justify-center","align-middle"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[1,"pb-1"],[1,"flex","justify-between","font-light"]],template:function(n,r){1&n&&(k(0,"app-modal",0)(1,"p",1),W(2),N(),Le(3,xhe,37,9,"ng-container",2),Le(4,Rhe,40,9,"ng-container",2),N()),2&n&&(Y(2),pi(r.supplierModalTitle),Y(1),ce("ngIf","isAdd"===r.supplierAction),Y(1),ce("ngIf","isView"===r.supplierAction))},dependencies:[Sv,If,BV,Lf,Ra,nw,Sf,Af,Gc,sw,Vf,Uf,xv]}),t})();function Phe(t,e){if(1&t){const n=Da();k(0,"li",16),Ne("click",function(){const o=zi(n).$implicit;return qi(en().viewSupplier(o))}),W(1),Zh(2,"uppercase"),N()}if(2&t){const n=e.$implicit;Y(1),qo(" ",ef(2,1,n.name)," ")}}let Ohe=(()=>{class t{constructor(n,r=L(xi),i){this.modal=n,this.auth=r,this.masterlistService=i,this.modalTitle="",this.supplierAction="",this.supplierList=[],this.searchValue="",this.selectedOption="supplier",this.supplierName="",this.supplierAddress="",this.supplierNumber=0,this.supplierEmail="",this.supplierRating=0,this.supplierMOP="",this.supplierItems=[],this.supplierID=""}ngOnInit(){var n=this;return g(function*(){yield n.masterlistService.fetchData(),n.supplierList=n.masterlistService.supplierList})()}addSupplier(){this.modalTitle="Add Supplier",this.modal.toggleModal("supplier"),this.supplierAction="isAdd"}viewSupplier(n){this.modalTitle="Supplier Details",this.modal.toggleModal("supplier"),this.supplierAction="isView",this.supplierName=n.name,this.supplierAddress=n.address,this.supplierNumber=n.contactNumber,this.supplierEmail=n.contactEmail,this.supplierRating=n.supplierRating,this.supplierMOP=n.methodsOfPayment.join(", "),this.supplierItems=n.items,this.supplierID=n.id}search(){const n=this.searchValue.toLowerCase();this.supplierList=this.masterlistService.supplierList.filter(r=>"supplier"===this.selectedOption?r.name.toLowerCase().includes(n):"item"===this.selectedOption&&r.items.some(i=>i.itemName.toLowerCase().includes(n))),console.log(this.selectedOption,this.supplierList)}logout(n){var r=this;return g(function*(){n.preventDefault(),yield aae(r.auth),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(xi),D(DH))},t.\u0275cmp=oi({type:t,selectors:[["app-masterlist"]],decls:28,vars:14,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow"],[1,"font-bold","pb-1","text-center","text-xl"],[1,"flex","justify-center","align-middle"],["name","search","type","search","placeholder","Search item or supplier",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full",3,"ngModel","ngModelChange","input"],[1,"flex","justify-around","align-middle","py-2"],[1,"mr-2"],["type","radio","value","supplier","name","selectedOption",3,"ngModel","ngModelChange"],["type","radio","value","item","name","selectedOption",3,"ngModel","ngModelChange"],[1,"mb-2"],[1,"flex","justify-center","align-middle","mb-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","p-0.5","w-1/2",3,"click"],[1,"flex","flex-col"],["class","flex justify-center align-middle mb-2 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[3,"supplierModalTitle","supplierAction","supplierName","supplierAddress","supplierNumber","supplierEmail","supplierRating","supplierMOP","supplierItems","supplierID"],[1,"flex","justify-center","align-middle","mb-2","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(k(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),W(4,"Supplier Masterlist"),N(),k(5,"form")(6,"div",3)(7,"input",4),Ne("ngModelChange",function(o){return r.searchValue=o})("input",function(){return r.search()}),N()(),k(8,"div",5)(9,"div")(10,"label",6),W(11,"Supplier"),N(),k(12,"input",7),Ne("ngModelChange",function(o){return r.selectedOption=o}),N()(),k(13,"div")(14,"label",6),W(15,"Item"),N(),k(16,"input",8),Ne("ngModelChange",function(o){return r.selectedOption=o}),N()()()()(),ht(17,"hr",9),k(18,"div",10)(19,"button",11),Ne("click",function(){return r.addSupplier()}),W(20," Add Supplier "),N()(),k(21,"div",12)(22,"ul"),Le(23,Phe,3,3,"li",13),N()()(),k(24,"div",3)(25,"a",14),Ne("click",function(o){return r.logout(o)}),W(26,"Log Out"),N()(),ht(27,"app-supplier",15),N()),2&n&&(Y(7),ce("ngModel",r.searchValue),Y(5),ce("ngModel",r.selectedOption),Y(4),ce("ngModel",r.selectedOption),Y(7),ce("ngForOf",r.supplierList),Y(4),ce("supplierModalTitle",r.modalTitle)("supplierAction",r.supplierAction)("supplierName",r.supplierName)("supplierAddress",r.supplierAddress)("supplierNumber",r.supplierNumber)("supplierEmail",r.supplierEmail)("supplierRating",r.supplierRating)("supplierMOP",r.supplierMOP)("supplierItems",r.supplierItems)("supplierID",r.supplierID))},dependencies:[Sv,Lf,Ra,rw,Sf,Af,tw,Ff,khe,xv]}),t})();function Fhe(t,e){1&t&&(k(0,"div"),ht(1,"app-home")(2,"app-auth-modal"),N())}function Lhe(t,e){1&t&&ht(0,"app-masterlist")}let Vhe=(()=>{class t{constructor(n){this.auth=n,this.title="ffc-ipad"}}return t.\u0275fac=function(n){return new(n||t)(D(uae))},t.\u0275cmp=oi({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authMasterlist",""]],template:function(n,r){if(1&n&&(Le(0,Fhe,3,0,"div",0),Le(1,Lhe,1,0,"ng-template",null,1,VR)),2&n){const i=function PN(t){return Qs(function v4(){return Q.lFrame.contextLView}(),fe+t)}(2);ce("ngIf",!r.auth.isAuthenticated)("ngIfElse",i)}},dependencies:[If,cae,yae,Ohe]}),t})();const CH_firebase={apiKey:"AIzaSyDSC0bjZyz5JeKdGzDXf9rwsRHoh4_C9So",authDomain:"ffc-ipad.firebaseapp.com",projectId:"ffc-ipad",storageBucket:"ffc-ipad.appspot.com",messagingSenderId:"444173880131",appId:"1:444173880131:web:262b35ec914939335fbdf6"};let Uhe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t,bootstrap:[Vhe]}),t.\u0275inj=Qt({imports:[qK,TJ,tY,xO,eY,Ere(()=>Dre(CH_firebase)),iae(()=>oae()),che(()=>phe())]}),t})();const $he=LV(Jw(CH_firebase));let bH=!1;$he.onAuthStateChanged(()=>{bH||GK().bootstrapModule(Uhe).catch(t=>console.error(t)),bH=!0})}},Ae=>{Ae(Ae.s=114)}]);