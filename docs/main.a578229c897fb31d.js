"use strict";(self.webpackChunkffc_ipad=self.webpackChunkffc_ipad||[]).push([[179],{114:()=>{function Ae(t){return"function"==typeof t}function Vu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const kd=Vu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Bs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof kd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{FS(o)}catch(s){e=e??[],s instanceof kd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)FS(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bs(n,e)}remove(e){const{_finalizers:n}=this;n&&Bs(n,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const t=new Ln;return t.closed=!0,t})();const PS=Ln.EMPTY;function OS(t){return t instanceof Ln||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function FS(t){Ae(t)?t():t.unsubscribe()}const No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pd={setTimeout(t,e,...n){const{delegate:r}=Pd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Pd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function LS(t){Pd.setTimeout(()=>{const{onUnhandledError:e}=No;if(!e)throw t;e(t)})}function VS(){}const SH=mm("C",void 0,void 0);function mm(t,e,n){return{kind:t,value:e,error:n}}let Ro=null;function Od(t){if(No.useDeprecatedSynchronousErrorHandling){const e=!Ro;if(e&&(Ro={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ro;if(Ro=null,n)throw r}}else t()}class ym extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,OS(e)&&e.add(this)):this.destination=PH}static create(e,n,r){return new Uu(e,n,r)}next(e){this.isStopped?vm(function MH(t){return mm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?vm(function AH(t){return mm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vm(SH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NH=Function.prototype.bind;function _m(t,e){return NH.call(t,e)}class RH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fd(r)}else Fd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fd(n)}}}class Uu extends ym{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&No.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_m(e.next,o),error:e.error&&_m(e.error,o),complete:e.complete&&_m(e.complete,o)}):i=e}this.destination=new RH(i)}}function Fd(t){No.useDeprecatedSynchronousErrorHandling?function xH(t){No.useDeprecatedSynchronousErrorHandling&&Ro&&(Ro.errorThrown=!0,Ro.error=t)}(t):LS(t)}function vm(t,e){const{onStoppedNotification:n}=No;n&&Pd.setTimeout(()=>n(t,e))}const PH={closed:!0,next:VS,error:function kH(t){throw t},complete:VS},wm="function"==typeof Symbol&&Symbol.observable||"@@observable";function ko(t){return t}function US(t){return 0===t.length?ko:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function LH(t){return t&&t instanceof ym||function FH(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&OS(t)}(n)?n:new Uu(n,r,i);return Od(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=BS(r))((i,o)=>{const s=new Uu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wm](){return this}pipe(...n){return US(n)(this)}toPromise(n){return new(n=BS(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function BS(t){var e;return null!==(e=t??No.Promise)&&void 0!==e?e:Promise}const VH=Vu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ei=(()=>{class t extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $S(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new VH}next(n){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?PS:(this.currentObservers=null,o.push(n),new Ln(()=>{this.currentObservers=null,Bs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ye;return n.source=this,n}}return t.create=(e,n)=>new $S(e,n),t})();class $S extends ei{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:PS}}function jS(t){return Ae(t?.lift)}function Lt(t){return e=>{if(jS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(t,e,n,r,i){return new UH(t,e,n,r,i)}class UH extends ym{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(t,e){return Lt((n,r)=>{let i=0;n.subscribe(Tt(r,o=>{r.next(t.call(e,o,i++))}))})}function GS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Po(t){return this instanceof Po?(this.v=t,this):new Po(t)}function HH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function qS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}const WS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function KS(t){return Ae(t?.then)}function QS(t){return Ae(t[wm])}function YS(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function XS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JS=function zH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZS(t){return Ae(t?.[JS])}function eA(t){return function jH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Po?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Po(n.read());if(i)return yield Po(void 0);yield yield Po(r)}}finally{n.releaseLock()}})}function tA(t){return Ae(t?.getReader)}function ar(t){if(t instanceof Ye)return t;if(null!=t){if(QS(t))return function qH(t){return new Ye(e=>{const n=t[wm]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(WS(t))return function WH(t){return new Ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(KS(t))return function KH(t){return new Ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,LS)})}(t);if(YS(t))return nA(t);if(ZS(t))return function QH(t){return new Ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(tA(t))return function YH(t){return nA(eA(t))}(t)}throw XS(t)}function nA(t){return new Ye(e=>{(function XH(t,e){var n,r,i,o;return function BH(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=HH(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ti(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Vt(t,e,n=1/0){return Ae(e)?Vt((r,i)=>xe((o,s)=>e(r,o,i,s))(ar(t(r,i))),n):("number"==typeof e&&(n=e),Lt((r,i)=>function JH(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let y=!1;ar(n(m,l++)).subscribe(Tt(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();s?ti(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function $s(t=1/0){return Vt(ko,t)}const br=new Ye(t=>t.complete());function Em(t){return t[t.length-1]}function rA(t){return Ae(Em(t))?t.pop():void 0}function Bu(t){return function eG(t){return t&&Ae(t.schedule)}(Em(t))?t.pop():void 0}function Ld(t,e=0){return Lt((n,r)=>{n.subscribe(Tt(r,i=>ti(r,t,()=>r.next(i),e),()=>ti(r,t,()=>r.complete(),e),i=>ti(r,t,()=>r.error(i),e)))})}function Vd(t,e=0){return Lt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ye(n=>{ti(n,e,()=>{const r=t[Symbol.asyncIterator]();ti(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(t,e){return e?function aG(t,e){if(null!=t){if(QS(t))return function nG(t,e){return ar(t).pipe(Vd(e),Ld(e))}(t,e);if(WS(t))return function iG(t,e){return new Ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(KS(t))return function rG(t,e){return ar(t).pipe(Vd(e),Ld(e))}(t,e);if(YS(t))return iA(t,e);if(ZS(t))return function oG(t,e){return new Ye(n=>{let r;return ti(n,e,()=>{r=t[JS](),ti(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(tA(t))return function sG(t,e){return iA(eA(t),e)}(t,e)}throw XS(t)}(t,e):ar(t)}function Dm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Uu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function Cm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const lG=De({__forward_ref__:De});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return vt(this())},t}function J(t){return Tm(t)?t():t}function Tm(t){return"function"==typeof t&&t.hasOwnProperty(lG)&&t.__forward_ref__===Ne}function Sm(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function Am(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Ud(t,e){throw new T(-201,!1)}function Yn(t,e){null==t&&function Ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bd(t){return sA(t,$d)||sA(t,uA)}function sA(t,e){return t.hasOwnProperty(e)?t[e]:null}function aA(t){return t&&(t.hasOwnProperty(Mm)||t.hasOwnProperty(_G))?t[Mm]:null}const $d=De({\u0275prov:De}),Mm=De({\u0275inj:De}),uA=De({ngInjectableDef:De}),_G=De({ngInjectorDef:De});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let xm;function En(t){const e=xm;return xm=t,e}function lA(t,e,n){const r=Bd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&W.Optional?null:void 0!==e?e:void Ud(vt(t))}const Re=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$u={},Nm="__NG_DI_FLAG__",jd="ngTempTokenPath",wG=/\n/gm,dA="__source";let js;function ji(t){const e=js;return js=t,e}function DG(t,e=W.Default){if(void 0===js)throw new T(-203,!1);return null===js?lA(t,void 0,e):js.get(t,e&W.Optional?null:void 0,e)}function H(t,e=W.Default){return(function cA(){return xm}()||DG)(J(t),e)}function L(t,e=W.Default){return H(t,Hd(e))}function Hd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rm(t){const e=[];for(let n=0;n<t.length;n++){const r=J(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],u=CG(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function ju(t,e){return t[Nm]=e,t.prototype[Nm]=e,t}function CG(t){return t[Nm]}function ni(t){return{toString:t}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Un=(()=>{return(t=Un||(Un={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Un;var t})();const ri={},ve=[],Gd=De({\u0275cmp:De}),km=De({\u0275dir:De}),Pm=De({\u0275pipe:De}),fA=De({\u0275mod:De}),ii=De({\u0275fac:De}),Hu=De({__NG_ELEMENT_ID__:De}),pA=De({__NG_ENV_ID__:De});function gA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Om(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];yA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mA(t){return 3===t||4===t||6===t}function yA(t){return 64===t.charCodeAt(0)}function Gu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_A(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _A(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const vA="ng-template";function SG(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==gA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function wA(t){return 4===t.type&&t.value!==vA}function AG(t,e,n){return e===(4!==t.type||n?t.value:vA)}function MG(t,e,n){let r=4;const i=t.attrs||[],o=function RG(t){for(let e=0;e<t.length;e++)if(mA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!AG(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!SG(t.attrs,c,n)){if(ur(r))return!1;s=!0}continue}const d=xG(8&r?"class":u,i,wA(t),n);if(-1===d){if(ur(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==gA(f,c,0)||2&r&&c!==h){if(ur(r))return!1;s=!0}}}}else{if(!s&&!ur(r)&&!ur(u))return!1;if(s&&ur(u))continue;s=!1,r=u|1&r}}return ur(r)||s}function ur(t){return 0==(1&t)}function xG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function kG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function IA(t,e,n=!1){for(let r=0;r<e.length;r++)if(MG(t,e[r],n))return!0;return!1}function PG(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function EA(t,e){return t?":not("+e.trim()+")":e}function OG(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ur(s)&&(e+=EA(o,i),i=""),r=s,o=o||!ur(r);n++}return""!==i&&(e+=EA(o,i)),e}function oi(t){return ni(()=>{const e=CA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};bA(n);const r=t.dependencies;return n.directiveDefs=zd(r,!1),n.pipeDefs=zd(r,!0),n.id=function HG(t){let e=0;const n=JSON.stringify([t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,t.inputs,t.outputs,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery]);for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function UG(t){return we(t)||Yt(t)}function BG(t){return null!==t}function ln(t){return ni(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DA(t,e){if(null==t)return ri;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Y(t){return ni(()=>{const e=CA(t);return bA(e),e})}function Dn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Gd]||null}function Yt(t){return t[km]||null}function Cn(t){return t[Pm]||null}function Bn(t,e){const n=t[fA]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function CA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DA(t.inputs,e),outputs:DA(t.outputs)}}function bA(t){t.features?.forEach(e=>e(t))}function zd(t,e){if(!t)return null;const n=e?Cn:UG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(BG)}const wt=0,R=1,se=2,Ge=3,cr=4,Oo=5,Xt=6,Gs=7,Xe=8,zs=9,Fo=10,ie=11,zu=12,TA=13,qs=14,dt=15,qu=16,Ws=17,Sr=18,Wu=19,SA=20,Hi=21,si=22,qd=23,Wd=24,fe=25,Fm=1,AA=2,Ar=7,Kd=8,Ks=9,Ut=11;function $n(t){return Array.isArray(t)&&"object"==typeof t[Fm]}function bn(t){return Array.isArray(t)&&!0===t[Fm]}function Lm(t){return 0!=(4&t.flags)}function Lo(t){return t.componentOffset>-1}function Qd(t){return 1==(1&t.flags)}function lr(t){return!!t.template}function Vm(t){return 0!=(512&t[se])}function Vo(t,e){return t.hasOwnProperty(ii)?t[ii]:null}let KG=Re.WeakRef??class WG{constructor(e){this.ref=e}deref(){return this.ref}},YG=0,Mr=null,Yd=!1;function At(t){const e=Mr;return Mr=t,e}class kA{constructor(){this.id=YG++,this.ref=function QG(t){return new KG(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Yd;Yd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Yd=e}}producerAccessed(){if(Yd)throw new Error("");if(null===Mr)return;let e=Mr.producers.get(this.id);void 0===e?(e={consumerNode:Mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mr.trackingVersion},Mr.producers.set(this.id,e),this.consumers.set(Mr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let PA=null;const OA=()=>{};class e4 extends kA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=OA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=At(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=OA,this.watch(this.registerOnCleanup)}finally{At(e)}}cleanup(){this.cleanupFn()}}class t4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xn(){return FA}function FA(t){return t.type.prototype.ngOnChanges&&(t.setInput=r4),n4}function n4(){const t=VA(this),e=t?.current;if(e){const n=t.previous;if(n===ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function r4(t,e,n,r){const i=this.declaredInputs[n],o=VA(t)||function i4(t,e){return t[LA]=e}(t,{previous:ri,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new t4(u&&u.currentValue,e,a===ri),t[r]=e}Xn.ngInherit=!0;const LA="__ngSimpleChanges__";function VA(t){return t[LA]||null}const xr=function(t,e,n){};function Oe(t){for(;Array.isArray(t);)t=t[wt];return t}function Zd(t,e){return Oe(e[t])}function Tn(t,e){return Oe(e[t.index])}function $A(t,e){return t.data[e]}function Qs(t,e){return t[e]}function Sn(t,e){const n=e[t];return $n(n)?n:n[wt]}function eh(t){return 128==(128&t[se])}function Gi(t,e){return null==e?null:t[e]}function jA(t){t[Ws]=0}function l4(t){1024&t[se]||(t[se]|=1024,GA(t,1))}function HA(t){1024&t[se]&&(t[se]&=-1025,GA(t,-1))}function GA(t,e){let n=t[Ge];if(null===n)return;n[Oo]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[Oo]||-1===e&&0===r[Oo]);)n[Oo]+=e,r=n,n=n[Ge]}const Q={lFrame:tM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WA(){return Q.bindingsEnabled}function Ys(){return null!==Q.skipHydrationRootTNode}function E(){return Q.lFrame.lView}function me(){return Q.lFrame.tView}function zi(t){return Q.lFrame.contextLView=t,t[Xe]}function qi(t){return Q.lFrame.contextLView=null,t}function Bt(){let t=KA();for(;null!==t&&64===t.type;)t=t.parent;return t}function KA(){return Q.lFrame.currentTNode}function Nr(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function Gm(){return Q.lFrame.isParent}function zm(){Q.lFrame.isParent=!1}function dn(){const t=Q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xs(){return Q.lFrame.bindingIndex++}function E4(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,qm(e)}function qm(t){Q.lFrame.currentDirectiveIndex=t}function Km(t){Q.lFrame.currentQueryIndex=t}function C4(t){const e=t[R];return 2===e.type?e.declTNode:1===e.type?t[Xt]:null}function ZA(t,e,n){if(n&W.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&W.Host||(i=C4(o),null===i||(o=o[qs],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Q.lFrame=eM();return r.currentTNode=e,r.lView=t,!0}function Qm(t){const e=eM(),n=t[R];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eM(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?tM(t):e}function tM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function nM(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const rM=nM;function Ym(){const t=nM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hn(){return Q.lFrame.selectedIndex}function Uo(t){Q.lFrame.selectedIndex=t}let oM=!0;function th(){return oM}function Wi(t){oM=t}function nh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function rh(t,e,n){sM(t,e,3,n)}function ih(t,e,n,r){(3&t[se])===n&&sM(t,e,n,r)}function Xm(t,e){let n=t[se];(3&n)===e&&(n&=4095,n+=1,t[se]=n)}function sM(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ws]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ws]+=65536),(a<o||-1==o)&&(R4(t,n,e,u),t[Ws]=(4294901760&t[Ws])+u+2),u++}function aM(t,e){xr(4,t,e);const n=At(null);try{e.call(t)}finally{At(n),xr(5,t,e)}}function R4(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[se]>>12<t[Ws]>>16&&(3&t[se])===e&&(t[se]+=4096,aM(a,o)):aM(a,o)}const Js=-1;class Yu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function uM(t){return t!==Js}function oh(t){return 32767&t}function sh(t,e){let n=function F4(t){return t>>16}(t),r=e;for(;n>0;)r=r[qs],n--;return r}let Zm=!0;function ah(t){const e=Zm;return Zm=t,e}const cM=255,lM=5;let L4=0;const Rr={};function uh(t,e){const n=dM(t,e);if(-1!==n)return n;const r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,ey(r.data,t),ey(e,null),ey(r.blueprint,null));const i=ty(t,e),o=t.injectorIndex;if(uM(i)){const s=oh(i),a=sh(i,e),u=a[R].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ey(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ty(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=_M(i),null===r)return Js;if(n++,i=i[qs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Js}function ny(t,e,n){!function V4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hu)&&(r=n[Hu]),null==r&&(r=n[Hu]=L4++);const i=r&cM;e.data[t+(i>>lM)]|=1<<i}(t,e,n)}function hM(t,e,n){if(n&W.Optional||void 0!==t)return t;Ud()}function fM(t,e,n,r){if(n&W.Optional&&void 0===r&&(r=null),!(n&(W.Self|W.Host))){const i=t[zs],o=En(void 0);try{return i?i.get(e,r,n&W.Optional):lA(e,r,n&W.Optional)}finally{En(o)}}return hM(r,0,n)}function pM(t,e,n,r=W.Default,i){if(null!==t){if(2048&e[se]){const s=function H4(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[se]&&!(512&s[se]);){const a=gM(o,s,n,r|W.Self,Rr);if(a!==Rr)return a;let u=o.parent;if(!u){const c=s[SA];if(c){const l=c.get(n,Rr,r);if(l!==Rr)return l}u=_M(s),s=s[qs]}o=u}return i}(t,e,n,r,Rr);if(s!==Rr)return s}const o=gM(t,e,n,r,Rr);if(o!==Rr)return o}return fM(e,n,r,i)}function gM(t,e,n,r,i){const o=function $4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hu)?t[Hu]:void 0;return"number"==typeof e?e>=0?e&cM:j4:e}(n);if("function"==typeof o){if(!ZA(e,t,r))return r&W.Host?hM(i,0,r):fM(e,n,r,i);try{const s=o(r);if(null!=s||r&W.Optional)return s;Ud()}finally{rM()}}else if("number"==typeof o){let s=null,a=dM(t,e),u=Js,c=r&W.Host?e[dt][Xt]:null;for((-1===a||r&W.SkipSelf)&&(u=-1===a?ty(t,e):e[a+8],u!==Js&&yM(r,!1)?(s=e[R],a=oh(u),e=sh(u,e)):a=-1);-1!==a;){const l=e[R];if(mM(o,a,l.data)){const d=B4(a,e,n,s,r,c);if(d!==Rr)return d}u=e[a+8],u!==Js&&yM(r,e[R].data[a+8]===c)&&mM(o,a,e)?(s=l,a=oh(u),e=sh(u,e)):a=-1}}return i}function B4(t,e,n,r,i,o){const s=e[R],a=s.data[t+8],l=function ch(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&lr(f)&&f.type===n)return u}return null}(a,s,n,null==r?Lo(a)&&Zm:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==l?Bo(e,s,l,a):Rr}function Bo(t,e,n,r){let i=t[n];const o=e.data;if(function k4(t){return t instanceof Yu}(i)){const s=i;s.resolving&&function dG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(o[n]));const a=ah(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?En(s.injectImpl):null;ZA(t,r,W.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function N4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=FA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&En(u),ah(a),s.resolving=!1,rM()}}return i}function mM(t,e,n){return!!(n[e+(t>>lM)]&1<<t)}function yM(t,e){return!(t&W.Self||t&W.Host&&e)}class Zs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pM(this._tNode,this._lView,e,Hd(r),n)}}function j4(){return new Zs(Bt(),E())}function $t(t){return ni(()=>{const e=t.prototype.constructor,n=e[ii]||ry(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ii]||ry(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ry(t){return Tm(t)?()=>{const e=ry(J(t));return e&&e()}:Vo(t)}function _M(t){const e=t[R],n=e.type;return 2===n?e.declTNode:1===n?t[Xt]:null}const ta="__parameters__";function ra(t,e,n){return ni(()=>{const r=function iy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(ta)?u[ta]:Object.defineProperty(u,ta,{value:[]})[ta];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Zu(t,e){t.forEach(n=>Array.isArray(n)?Zu(n,e):e(n))}function wM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ec(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function jn(t,e,n){let r=ia(t,e);return r>=0?t[1|r]=n:(r=~r,function K4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oy(t,e){const n=ia(t,e);if(n>=0)return t[1|n]}function ia(t,e){return function IM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const fn=ju(ra("Optional"),8),fh=ju(ra("SkipSelf"),4);function mh(t){return 128==(128&t.flags)}var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();const gz=/^>|^->|<!--|-->|--!>|<!-$/g,mz=/(<|>)/,yz="\u200b$1\u200b";const hy=new Map;let _z=0;const py="__ngContext__";function Jt(t,e){$n(e)?(t[py]=e[Wu],function wz(t){hy.set(t[Wu],t)}(e)):t[py]=e}let gy;function my(t,e){return gy(t,e)}function rc(t){const e=t[Ge];return bn(e)?e[Ge]:e}function yy(t){return BM(t[zu])}function _y(t){return BM(t[cr])}function BM(t){for(;null!==t&&!bn(t);)t=t[cr];return t}function aa(t,e,n,r,i){if(null!=r){let o,s=!1;bn(r)?o=r:$n(r)&&(s=!0,r=r[wt]);const a=Oe(r);0===t&&null!==n?null==i?zM(e,n,a):$o(e,n,a,i||null,!0):1===t&&null!==n?$o(e,n,a,i||null,!0):2===t?function Eh(t,e,n){const r=wh(t,e);r&&function Uz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function jz(t,e,n,r,i){const o=n[Ar];o!==Oe(n)&&aa(e,t,r,o,i);for(let a=Ut;a<n.length;a++){const u=n[a];oc(u[R],u,t,e,r,o)}}(e,t,o,n,i)}}function vy(t,e){return t.createComment(function RM(t){return t.replace(gz,e=>e.replace(mz,yz))}(e))}function vh(t,e,n){return t.createElement(e,n)}function jM(t,e){const n=t[Ks],r=n.indexOf(e);HA(e),n.splice(r,1)}function wy(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[qu];null!==i&&i!==t&&jM(i,r),e>0&&(t[n-1][cr]=r[cr]);const o=dh(t,Ut+e);!function Nz(t,e){oc(t,e,e[ie],2,null,null),e[wt]=null,e[Xt]=null}(r[R],r);const s=o[Sr];null!==s&&s.detachView(o[R]),r[Ge]=null,r[cr]=null,r[se]&=-129}return r}function HM(t,e){if(!(256&e[se])){const n=e[ie];e[qd]?.destroy(),e[Wd]?.destroy(),n.destroyNode&&oc(t,e,n,3,null,null),function Pz(t){let e=t[zu];if(!e)return Iy(t[R],t);for(;e;){let n=null;if($n(e))n=e[zu];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[cr]&&e!==t;)$n(e)&&Iy(e[R],e),e=e[Ge];null===e&&(e=t),$n(e)&&Iy(e[R],e),n=e&&e[cr]}e=n}}(e)}}function Iy(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function Vz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Yu)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];xr(4,a,u);try{u.call(a)}finally{xr(5,a,u)}}else{xr(4,i,o);try{o.call(i)}finally{xr(5,i,o)}}}}}(t,e),function Lz(t,e){const n=t.cleanup,r=e[Gs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Gs]=null);const i=e[Hi];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();e[Hi]=null}}(t,e),1===e[R].type&&e[ie].destroy();const n=e[qu];if(null!==n&&bn(e[Ge])){n!==e[Ge]&&jM(n,e);const r=e[Sr];null!==r&&r.detachView(t)}!function Iz(t){hy.delete(t[Wu])}(e)}}function Ey(t,e,n){return function GM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[wt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Un.None||o===Un.Emulated)return null}return Tn(r,n)}}(t,e.parent,n)}function $o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zM(t,e,n){t.appendChild(e,n)}function qM(t,e,n,r,i){null!==r?$o(t,e,n,r,i):zM(t,e,n)}function wh(t,e){return t.parentNode(e)}function WM(t,e,n){return QM(t,e,n)}let Dy,Sy,QM=function KM(t,e,n){return 40&t.type?Tn(t,n):null};function Ih(t,e,n,r){const i=Ey(t,r,e),o=e[ie],a=WM(r.parent||e[Xt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)qM(o,i,n[u],a,!1);else qM(o,i,n,a,!1);void 0!==Dy&&Dy(o,r,e,n,i)}function ic(t,e){if(null!==e){const n=e.type;if(3&n)return Tn(e,t);if(4&n)return Cy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ic(t,r);{const i=t[e.index];return bn(i)?Cy(-1,i):Oe(i)}}if(32&n)return my(e,t)()||Oe(t[e.index]);{const r=XM(t,e);return null!==r?Array.isArray(r)?r[0]:ic(rc(t[dt]),r):ic(t,e.next)}}return null}function XM(t,e){return null!==e?t[dt][Xt].projection[e.projection]:null}function Cy(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[R].firstChild;if(null!==i)return ic(r,i)}return e[Ar]}function by(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Jt(Oe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)by(t,e,n.child,r,i,o,!1),aa(e,t,i,a,o);else if(32&u){const c=my(n,r);let l;for(;l=c();)aa(e,t,i,l,o);aa(e,t,i,a,o)}else 16&u?ZM(t,e,r,n,i,o):aa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function oc(t,e,n,r,i,o){by(n,r,t.firstChild,e,i,o,!1)}function ZM(t,e,n,r,i,o){const s=n[dt],u=s[Xt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)aa(e,t,i,u[c],o);else{let c=u;const l=s[Ge];mh(r)&&(c.flags|=128),by(t,e,c,l,i,o,!0)}}function ex(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Om(t,e,r),null!==i&&ex(t,e,i),null!==o&&function Gz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class ox{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lc=new U("ENVIRONMENT_INITIALIZER"),gx=new U("INJECTOR",-1),mx=new U("INJECTOR_DEF_TYPES");class yx{get(e,n=$u){if(n===$u){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function y3(...t){return{\u0275providers:vx(0,t),\u0275fromNgModule:!0}}function vx(t,...e){const n=[],r=new Set;let i;return Zu(e,o=>{const s=o;ky(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&wx(i,n),n}function wx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Py(i,o=>{e.push(o)})}}function ky(t,e,n,r){if(!(t=J(t)))return!1;let i=null,o=aA(t);const s=!o&&we(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=aA(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)ky(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Zu(o.imports,l=>{ky(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&wx(c,e)}if(!a){const c=Vo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:mx,useValue:i,multi:!0},{provide:lc,useValue:()=>H(i),multi:!0})}const u=o.providers;null==u||a||Py(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Py(t,e){for(let n of t)Sm(n)&&(n=n.\u0275providers),Array.isArray(n)?Py(n,e):e(n)}const _3=De({provide:String,useValue:De});function Oy(t){return null!==t&&"object"==typeof t&&_3 in t}function jo(t){return"function"==typeof t}const Fy=new U("Set Injector scope."),Th={},w3={};let Ly;function Sh(){return void 0===Ly&&(Ly=new yx),Ly}class li{}class Vy extends li{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,By(e,s=>this.processProvider(s)),this.records.set(gx,ca(void 0,this)),i.has("environment")&&this.records.set(li,ca(void 0,this));const o=this.records.get(Fy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mx.multi,ve,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ji(this),r=En(void 0);try{return e()}finally{ji(n),En(r)}}get(e,n=$u,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pA))return e[pA](this);r=Hd(r);const i=ji(this),o=En(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function b3(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&Bd(e);a=u&&this.injectableDefInScope(u)?ca(Uy(e),Th):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?Sh():this.parent).get(e,n=r&W.Optional&&n===$u?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[jd]=s[jd]||[]).unshift(vt(e)),i)throw s;return function bG(t,e,n,r){const i=t[jd];throw e[dA]&&i.unshift(e[dA]),t.message=function TG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[jd]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{En(o),ji(i)}}resolveInjectorInitializers(){const e=ji(this),n=En(void 0);try{const r=this.get(lc.multi,ve,W.Self);for(const i of r)i()}finally{ji(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=jo(e=J(e))?e:J(e&&e.provide);const r=function E3(t){return Oy(t)?ca(void 0,t.useValue):ca(Dx(t),Th)}(e);if(jo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ca(void 0,Th,!0),i.factory=()=>Rm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Th&&(n.value=w3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function C3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=J(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Uy(t){const e=Bd(t),n=null!==e?e.factory:Vo(t);if(null!==n)return n;if(t instanceof U)throw new T(204,!1);if(t instanceof Function)return function I3(t){const e=t.length;if(e>0)throw ec(e,"?"),new T(204,!1);const n=function yG(t){return t&&(t[$d]||t[uA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function Dx(t,e,n){let r;if(jo(t)){const i=J(t);return Vo(i)||Uy(i)}if(Oy(t))r=()=>J(t.useValue);else if(function Ex(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Rm(t.deps||[]));else if(function Ix(t){return!(!t||!t.useExisting)}(t))r=()=>H(J(t.useExisting));else{const i=J(t&&(t.useClass||t.provide));if(!function D3(t){return!!t.deps}(t))return Vo(i)||Uy(i);r=()=>new i(...Rm(t.deps))}return r}function ca(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function By(t,e){for(const n of t)Array.isArray(n)?By(n,e):n&&Sm(n)?By(n.\u0275providers,e):e(n)}const Ah=new U("AppId",{providedIn:"root",factory:()=>T3}),T3="ng",Cx=new U("Platform Initializer"),Qi=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bx=new U("CSP nonce",{providedIn:"root",factory:()=>function sc(){if(void 0!==Sy)return Sy;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sx=(t,e)=>null;function Ax(t,e){return Sx(t,e)}class F3{}class Nx{}class V3{resolveComponentFactory(e){throw function L3(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let kh=(()=>{class t{}return t.NULL=new V3,t})();function U3(){return la(Bt(),E())}function la(t,e){return new Hn(Tn(t,e))}let Hn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=U3,t})();class kx{}let di=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function $3(){const t=E(),n=Sn(Bt().index,t);return($n(n)?n:t)[ie]}(),t})(),j3=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class da{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Px=new da("16.0.1"),Xy={};function pc(t){for(;t;){t[se]|=64;const e=rc(t);if(Vm(t)&&!e)return t;t=e}return null}function Jy(t){return t.ngOriginalError}class Ho{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jy(e);for(;n&&Jy(n);)n=Jy(n);return n||null}}const Lx=new U("",{providedIn:"root",factory:()=>!1});function hi(t){return t instanceof Function?t():t}class Bx extends kA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){pc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=At(this);this.trackingVersion++;try{e(n,r)}finally{At(i)}}destroy(){this.trackingVersion++}}let Oh=null;function $x(){return Oh??=new Bx,Oh}function jx(t,e){return t[e]??$x()}function Hx(t,e){const n=$x();n.hasReadASignal&&(t[e]=Oh,n.lView=t,Oh=new Bx)}const oe={};function te(t){Gx(me(),E(),hn()+t,!1)}function Gx(t,e,n,r){if(!r)if(3==(3&e[se])){const o=t.preOrderCheckHooks;null!==o&&rh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&ih(e,o,0,n)}Uo(n)}function Kx(t,e=null,n=null,r){const i=Qx(t,e,n,r);return i.resolveInjectorInitializers(),i}function Qx(t,e=null,n=null,r,i=new Set){const o=[n||ve,y3(t)];return r=r||("object"==typeof t?void 0:vt(t)),new Vy(o,e||Sh(),r||null,i)}let Gn=(()=>{class t{static create(n,r){if(Array.isArray(n))return Kx({name:""},r,n,"");{const i=n.name??"";return Kx({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=$u,t.NULL=new yx,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>H(gx)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=W.Default){const n=E();return null===n?H(t,e):pM(Bt(),n,J(t),e)}function Fh(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[wt]=i,d[se]=140|r,(null!==c||t&&2048&t[se])&&(d[se]|=2048),jA(d),d[Ge]=d[qs]=t,d[Xe]=n,d[Fo]=s||t&&t[Fo],d[ie]=a||t&&t[ie],d[zs]=u||t&&t[zs]||null,d[Xt]=o,d[Wu]=function vz(){return _z++}(),d[si]=l,d[SA]=c,d[dt]=2==e.type?t[dt]:d,d}function fa(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Zy(t,e,n,r,i){const o=KA(),s=Gm(),u=t.data[e]=function cq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ys()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function I4(){return Q.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Qu(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Nr(o,!0),o}function gc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xx(t,e,n,r,i){const o=jx(e,qd),s=hn(),a=2&r;try{if(Uo(-1),a&&e.length>fe&&Gx(t,e,fe,!1),xr(a?2:0,i),a)o.runInContext(n,r,i);else{const c=At(null);try{n(r,i)}finally{At(c)}}}finally{a&&null===e[qd]&&Hx(e,qd),Uo(s),xr(a?3:1,i)}}function e_(t,e,n){if(Lm(e)){const r=At(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{At(r)}}}function t_(t,e,n){WA()&&(function mq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Lo(n)&&function Dq(t,e,n){const r=Tn(e,t),s=Lh(t,Fh(t,Jx(n),null,n.onPush?64:16,r,e,null,t[Fo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uh(n,e),Jt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Bo(e,t,a,n);Jt(c,e),null!==s&&Cq(0,a-i,c,u,0,s),lr(u)&&(Sn(n.index,e)[Xe]=Bo(e,t,a,n))}}(t,e,n,Tn(n,e)),64==(64&n.flags)&&rN(t,e,n))}function n_(t,e,n=Tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Jx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=r_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function r_(t,e,n,r,i,o,s,a,u,c,l){const d=fe+r,h=d+i,f=function rq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,h),p="function"==typeof c?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let Zx=t=>null;function eN(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?tN(n,e,i,o):r.hasOwnProperty(i)&&tN(n,e,r[i],o)}return n}function tN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function i_(t,e,n,r){if(WA()){const i=null===r?null:{"":-1},o=function _q(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(IA(e,s.selectors,!1))if(r||(r=[]),lr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),o_(t,e,a.length)}else r.unshift(s),o_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nN(t,e,n,s,i,a),i&&function vq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new T(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Gu(n.mergedAttrs,n.attrs)}function nN(t,e,n,r,i,o){for(let c=0;c<r.length;c++)ny(uh(n,e),t,r[c].type);!function Iq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=gc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Gu(n.mergedAttrs,l.hostAttrs),Eq(t,n,e,u,l),wq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function lq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=eN(d.inputs,l,u,h?h.inputs:null),c=eN(d.outputs,l,c,p);const m=null===u||null===s||wA(e)?null:bq(u,l,s);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function rN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function D4(){return Q.lFrame.currentDirectiveIndex}();try{Uo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];qm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&yq(u,c)}}finally{Uo(-1),qm(s)}}function yq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function o_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function Eq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Vo(i.type)),s=new Yu(o,lr(i),D);t.blueprint[r]=s,n[r]=s,function pq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function gq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,gc(t,n,i.hostVars,oe),i)}function Cq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)iN(r,n,s[a++],s[a++],s[a++])}function iN(t,e,n,r,i){const o=At(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{At(o)}}function bq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function oN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function sN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Km(n[r]),s.contentQueries(2,e[o],o)}}}function Lh(t,e){return t[zu]?t[TA][cr]=e:t[zu]=e,t[TA]=e,e}function a_(t,e,n){Km(0);const r=At(null);try{e(t,n)}finally{At(r)}}function lN(t,e){const n=t[zs],r=n?n.get(Ho,null):null;r&&r.handleError(e)}function u_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];iN(t.data[s],e[s],r,a,i)}}function Tq(t,e){const n=Sn(e,t),r=n[R];!function Sq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[wt];null!==i&&null===n[si]&&(n[si]=Ax(i,n[zs])),c_(r,n,n[Xe])}function c_(t,e,n){Qm(e);try{const r=t.viewQuery;null!==r&&a_(1,r,n);const i=t.template;null!==i&&Xx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sN(t,e),t.staticViewQueries&&a_(2,t.viewQuery,n);const o=t.components;null!==o&&function Aq(t,e){for(let n=0;n<e.length;n++)Tq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,Ym()}}let dN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new e4(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),t})();function Vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=bm(i,a):2==o&&(r=bm(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Oe(o)),bn(o)){for(let a=Ut;a<o.length;a++){const u=o[a],c=u[R].firstChild;null!==c&&mc(u[R],u,c,r)}o[Ar]!==o[wt]&&r.push(o[Ar])}const s=n.type;if(8&s)mc(t,e,n.child,r);else if(32&s){const a=my(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=XM(e,n);if(Array.isArray(a))r.push(...a);else{const u=rc(e[dt]);mc(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Uh(t,e,n,r=!0){const i=e[Fo].rendererFactory;i.begin&&i.begin();try{Bh(t,e,t.template,n)}catch(s){throw r&&lN(e,s),s}finally{i.end&&i.end(),e[Fo].effectManager?.flush()}}function Bh(t,e,n,r){const i=e[se];if(256!=(256&i)){e[Fo].effectManager?.flush(),Qm(e);try{jA(e),function YA(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Xx(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&rh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ih(e,c,0,null),Xm(e,0)}if(function Pq(t){for(let e=yy(t);null!==e;e=_y(e)){if(!e[AA])continue;const n=e[Ks];for(let r=0;r<n.length;r++){l4(n[r])}}}(e),function kq(t){for(let e=yy(t);null!==e;e=_y(e))for(let n=Ut;n<e.length;n++){const r=e[n],i=r[R];eh(r)&&Bh(i,r,i.template,r[Xe])}}(e),null!==t.contentQueries&&sN(t,e),s){const c=t.contentCheckHooks;null!==c&&rh(e,c)}else{const c=t.contentHooks;null!==c&&ih(e,c,1),Xm(e,1)}!function nq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=jx(e,Wd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Uo(~o);else{const s=o,a=n[++i],u=n[++i];E4(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[Wd]&&Hx(e,Wd),Uo(-1)}}(t,e);const a=t.components;null!==a&&function Fq(t,e){for(let n=0;n<e.length;n++)Oq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&a_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&rh(e,c)}else{const c=t.viewHooks;null!==c&&ih(e,c,2),Xm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,HA(e)}finally{Ym()}}}function Oq(t,e){const n=Sn(e,t);if(eh(n)){const r=n[R];80&n[se]?Bh(r,n,r.template,n[Xe]):n[Oo]>0&&l_(n)}}function l_(t){for(let r=yy(t);null!==r;r=_y(r))for(let i=Ut;i<r.length;i++){const o=r[i];if(eh(o))if(1024&o[se]){const s=o[R];Bh(s,o,s.template,o[Xe])}else o[Oo]>0&&l_(o)}const n=t[R].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Sn(n[r],t);eh(i)&&i[Oo]>0&&l_(i)}}class yc{get rootNodes(){const e=this._lView,n=e[R];return mc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(bn(e)){const n=e[Kd],r=n?n.indexOf(this):-1;r>-1&&(wy(e,r),dh(n,r))}this._attachedToViewContainer=!1}HM(this._lView[R],this._lView)}onDestroy(e){!function zA(t,e){if(256==(256&t[se]))throw new T(911,!1);null===t[Hi]&&(t[Hi]=[]),t[Hi].push(e)}(this._lView,e)}markForCheck(){pc(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Uh(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kz(t,e){oc(t,e,e[ie],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Lq extends yc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uh(e[R],e,e[Xe],!1)}checkNoChanges(){}get context(){return null}}class hN extends kh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new _c(n,this.ngModule)}}function fN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Uq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hd(r);const i=this.injector.get(e,Xy,r);return i!==Xy||n===Xy?i:this.parentInjector.get(e,n,r)}}class _c extends Nx{get inputs(){return fN(this.componentDef.inputs)}get outputs(){return fN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function FG(t){return t.map(OG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof li?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Uq(e,o):e,a=s.get(kx,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:s.get(j3,null),effectManager:s.get(dN,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function iq(t,e,n,r){const o=r.get(Lx,!1)||n===Un.ShadowDom,s=t.selectRootElement(e,o);return function oq(t){Zx(t)}(s),s}(d,r,this.componentDef.encapsulation,s):vh(d,h,function Vq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=r_(0,null,null,1,0,null,null,null,null,null,null),y=Fh(null,m,null,p,null,null,l,d,s,null,null);let w,_;Qm(y);try{const C=this.componentDef;let F,B=null;C.findHostDirectiveDefs?(F=[],B=new Map,C.findHostDirectiveDefs(C,F,B),F.push(C)):F=[C];const le=function $q(t,e){const n=t[R],r=fe;return t[r]=e,fa(n,r,2,"#host",null)}(y,f),_t=function jq(t,e,n,r,i,o,s){const a=i[R];!function Hq(t,e,n,r){for(const i of t)e.mergedAttrs=Gu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vh(e,e.mergedAttrs,!0),null!==n&&tx(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=Ax(e,i[zs]));const c=o.rendererFactory.createRenderer(e,n),l=Fh(i,Jx(n),null,n.onPush?64:16,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&o_(a,t,r.length-1),Lh(i,l),i[t.index]=l}(le,f,C,F,y,l,d);_=$A(m,fe),f&&function zq(t,e,n,r){if(r)Om(t,n,["ng-version",Px.full]);else{const{attrs:i,classes:o}=function LG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ur(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Om(t,n,i),o&&o.length>0&&ex(t,n,o.join(" "))}}(d,C,f,r),void 0!==n&&function qq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,n),w=function Gq(t,e,n,r,i,o){const s=Bt(),a=i[R],u=Tn(s,i);nN(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Jt(Bo(i,a,s.directiveStart+l,s),i);rN(a,i,s),u&&Jt(u,i);const c=Bo(i,a,s.directiveStart+s.componentOffset,s);if(t[Xe]=i[Xe]=c,null!==o)for(const l of o)l(c,e);return e_(a,s,t),c}(_t,C,F,B,y,[Wq]),c_(m,y,null)}finally{Ym()}return new Bq(this.componentType,w,la(_,y),y,_)}}class Bq extends F3{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Lq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;u_(o[R],o,i,e,n),this.previousInputValues.set(e,n),pc(Sn(this._tNode.index,o))}}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Wq(){const t=Bt();nh(E()[R],t)}function Ce(t){let e=function pN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=d_(t.inputs),s.declaredInputs=d_(t.declaredInputs),s.outputs=d_(t.outputs);const a=i.hostBindings;a&&Xq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Qq(t,u),c&&Yq(t,c),Cm(t.inputs,i.inputs),Cm(t.declaredInputs,i.declaredInputs),Cm(t.outputs,i.outputs),lr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Kq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gu(i.hostAttrs,n=Gu(n,i.hostAttrs))}}(r)}function d_(t){return t===ri?{}:t===ve?[]:t}function Qq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Yq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function Xq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function $h(t){return!!h_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function h_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fe(t,e,n,r,i,o,s,a){const u=E(),c=me(),l=t+fe,d=c.firstCreatePass?function E6(t,e,n,r,i,o,s,a,u){const c=e.consts,l=fa(e,t,4,s||null,Gi(c,a));i_(e,n,l,Gi(c,u)),nh(e,l);const d=l.tView=r_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Nr(d,!1);const h=xN(c,u,d,t);th()&&Ih(c,u,h,d),Jt(h,u),Lh(u,u[l]=oN(h,u,h,d)),Qd(d)&&t_(c,u,d),null!=s&&n_(u,d,a)}let xN=function NN(t,e,n,r){return Wi(!0),e[ie].createComment("")};function de(t,e,n){const r=E();return Zt(r,Xs(),e)&&function zn(t,e,n,r,i,o,s,a){const u=Tn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(u_(t,n,l,r,i),Lo(e)&&function hq(t,e){const n=Sn(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function dq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(me(),function ze(){const t=Q.lFrame;return $A(t.tView,t.selectedIndex)}(),r,t,e,r[ie],n,!1),de}function __(t,e,n,r,i){const s=i?"class":"style";u_(t,n,e.inputs[s],s,r)}function O(t,e,n,r){const i=E(),o=me(),s=fe+t,a=i[ie],u=o.firstCreatePass?function T6(t,e,n,r,i,o){const s=e.consts,u=fa(e,t,2,r,Gi(s,i));return i_(e,n,u,Gi(s,o)),null!==u.attrs&&Vh(u,u.attrs,!1),null!==u.mergedAttrs&&Vh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=kN(o,i,u,a,e,t);i[s]=c;const l=Qd(u);return Nr(u,!0),tx(a,c,u),32!=(32&u.flags)&&th()&&Ih(o,i,c,u),0===function h4(){return Q.lFrame.elementDepthCount}()&&Jt(c,i),function f4(){Q.lFrame.elementDepthCount++}(),l&&(t_(o,i,u),e_(o,u,i)),null!==r&&n_(i,u),O}function N(){let t=Bt();Gm()?zm():(t=t.parent,Nr(t,!1));const e=t;(function g4(t){return Q.skipHydrationRootTNode===t})(e)&&function v4(){Q.skipHydrationRootTNode=null}(),function p4(){Q.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(nh(n,t),Lm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function P4(t){return 0!=(8&t.flags)}(e)&&__(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function O4(t){return 0!=(16&t.flags)}(e)&&__(n,e,E(),e.stylesWithoutHost,!1),N}function qe(t,e,n,r){return O(t,e,n,r),N(),qe}let kN=(t,e,n,r,i,o)=>(Wi(!0),vh(r,i,function iM(){return Q.lFrame.currentNamespace}()));function dr(t,e,n){const r=E(),i=me(),o=t+fe,s=i.firstCreatePass?function M6(t,e,n,r,i){const o=e.consts,s=Gi(o,r),a=fa(e,t,8,"ng-container",s);return null!==s&&Vh(a,s,!0),i_(e,n,a,Gi(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Nr(s,!0);const a=ON(i,r,s,t);return r[o]=a,th()&&Ih(i,r,a,s),Jt(a,r),Qd(s)&&(t_(i,r,s),e_(i,s,r)),null!=n&&n_(r,s),dr}function hr(){let t=Bt();const e=me();return Gm()?zm():(t=t.parent,Nr(t,!1)),e.firstCreatePass&&(nh(e,t),Lm(t)&&e.queries.elementEnd(t)),hr}let ON=(t,e,n,r)=>(Wi(!0),vy(e[ie],""));function Da(){return E()}function Dc(t){return!!t&&"function"==typeof t.then}function FN(t){return!!t&&"function"==typeof t.subscribe}function Be(t,e,n,r){const i=E(),o=me(),s=Bt();return function VN(t,e,n,r,i,o,s){const a=Qd(r),c=t.firstCreatePass&&function uN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Xe],d=function aN(t){return t[Gs]||(t[Gs]=[])}(e);let h=!0;if(3&r.type||s){const m=Tn(r,e),y=s?s(m):m,w=d.length,_=s?F=>s(Oe(F[r.index])):r.index;let C=null;if(!s&&a&&(C=function R6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Gs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=BN(r,e,l,o,!1);const F=n.listen(y,i,o);d.push(o,F),c&&c.push(i,_,w,w+1)}}else o=BN(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const B=e[p[y]][p[y+1]].subscribe(o),le=d.length;d.push(o,B),c&&c.push(i,r.index,le,-(le+1))}}}(o,i,i[ie],s,t,e,r),Be}function UN(t,e,n,r){try{return xr(6,e,n),!1!==n(r)}catch(i){return lN(t,i),!1}finally{xr(7,e,n)}}function BN(t,e,n,r,i){return function o(s){if(s===Function)return r;pc(t.componentOffset>-1?Sn(t.index,e):e);let u=UN(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=UN(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function en(t=1){return function b4(t){return(Q.lFrame.contextLView=function T4(t,e){for(;t>0;)e=e[qs],t--;return e}(t,Q.lFrame.contextLView))[Xe]}(t)}function k6(t,e){let n=null;const r=function NG(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?IA(t,o,!0):PG(r,o))return i}else n=i}return n}function v_(t,e=0,n){const r=E(),i=me(),o=fa(i,fe+t,16,null,n||null);null===o.projection&&(o.projection=e),zm(),(!r[si]||Ys())&&32!=(32&o.flags)&&function $z(t,e,n){ZM(e[ie],0,e,n,Ey(t,n,e),WM(n.parent||e[Xt],n,e))}(i,r,o)}function qh(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function I_(t){return 2|t}function zo(t){return(131068&t)>>2}function E_(t,e){return-131069&t|e<<2}function D_(t){return 1|t}function XN(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Yi(o):zo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];U6(t[a],e)&&(u=!0,t[a+1]=r?D_(l):I_(l)),a=r?Yi(l):zo(l)}u&&(t[n+1]=r?I_(o):D_(o))}function U6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ia(t,e)>=0}function Wh(t,e){return function fr(t,e,n,r){const i=E(),o=me(),s=function ui(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function s1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[hn()],s=function o1(t,e){return e>=t.expandoStartIndex}(t,n);(function l1(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function K6(t,e,n,r){const i=function Wm(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Cc(n=C_(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=C_(i,t,e,n,r),null===o){let u=function Q6(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==zo(r))return t[Yi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=C_(null,t,e,u[1],r),u=Cc(u,e.attrs,r),function Y6(t,e,n,r){t[Yi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function X6(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Cc(r,t[o].hostAttrs,n);return Cc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function L6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),u=zo(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ia(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Yi(t[a+1]);t[r+1]=qh(h,a),0!==h&&(t[h+1]=E_(t[h+1],r)),t[a+1]=function O6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=qh(a,0),0!==a&&(t[a+1]=E_(t[a+1],r)),a=r;else t[r+1]=qh(u,0),0===a?a=r:t[u+1]=E_(t[u+1],r),u=r;c&&(t[r+1]=I_(t[r+1])),XN(t,l,r,!0),XN(t,l,r,!1),function V6(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ia(o,e)>=0&&(n[r+1]=D_(n[r+1]))}(e,l,t,r,o),s=qh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==oe&&Zt(i,s,e)&&function u1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function F6(t){return 1==(1&t)}(c)?c1(u,e,n,i,zo(c),s):void 0;Kh(l)||(Kh(o)||function P6(t){return 2==(2&t)}(c)&&(o=c1(u,null,n,i,a,s)),function Hz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:An.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}(r,s,Zd(hn(),n),i,o))}(o,o.data[hn()],i,i[ie],t,i[s+1]=function t5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(function Ki(t){return t instanceof ox?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),Wh}function C_(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Cc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Cc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,s,!!n||e[++o]))}return void 0===t?null:t}function c1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===oe&&(h=d?ve:void 0);let f=d?oy(h,r):l===r?h:void 0;if(c&&!Kh(f)&&(f=oy(u,r)),Kh(f)&&(a=f,s))return a;const p=t[i+1];i=s?Yi(p):zo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=oy(u,r))}return a}function Kh(t){return void 0!==t}function z(t,e=""){const n=E(),r=me(),i=t+fe,o=r.firstCreatePass?fa(r,i,1,e,null):r.data[i],s=d1(r,n,o,e,t);n[i]=s,th()&&Ih(r,n,s,o),Nr(o,!1)}let d1=(t,e,n,r,i)=>(Wi(!0),function _h(t,e){return t.createText(e)}(e[ie],r));function pi(t){return qo("",t,""),pi}function qo(t,e,n){const r=E(),i=function ga(t,e,n,r){return Zt(t,Xs(),n)?e+ee(n)+r:oe}(r,t,e,n);return i!==oe&&function fi(t,e,n){const r=Zd(e,t);!function $M(t,e,n){t.setValue(e,n)}(t[ie],r,n)}(r,hn(),i),qo}const Ta="en-US";let k1=Ta;function S_(t,e,n,r,i){if(t=J(t),Array.isArray(t))for(let o=0;o<t.length;o++)S_(t[o],e,n,r,i);else{const o=me(),s=E();let a=jo(t)?t:J(t.provide),u=Dx(t);const c=Bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(jo(t)||!t.multi){const f=new Yu(u,i,D),p=M_(a,e,i?l:l+h,d);-1===p?(ny(uh(c,s),o,a),A_(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=M_(a,e,l+h,d),p=M_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){ny(uh(c,s),o,a);const w=function I9(t,e,n,r,i){const o=new Yu(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,iR(o,i,r&&!n),o}(i?w9:v9,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),A_(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else A_(o,t,f>-1?f:p,iR(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function A_(t,e,n,r){const i=jo(e),o=function v3(t){return!!t.useClass}(e);if(i||o){const u=(o?J(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function iR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function M_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function v9(t,e,n,r){return x_(this.multi,[])}function w9(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Bo(n,n[R],this.providerFactory.index,r);o=a.slice(0,s),x_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],x_(i,o);return o}function x_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function _9(t,e,n){const r=me();if(r.firstCreatePass){const i=lr(t);S_(n,r.data,r.blueprint,i,!0),S_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Sa{}class oR{}class N_ extends Sa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hN(this);const i=Bn(e);this._bootstrapComponents=hi(i.bootstrap),this._r3Injector=Qx(e,n,[{provide:Sa,useValue:this},{provide:kh,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class R_ extends oR{constructor(e){super(),this.moduleType=e}create(e){return new N_(this.moduleType,e,[])}}class sR extends Sa{constructor(e){super(),this.componentFactoryResolver=new hN(this),this.instance=null;const n=new Vy([...e.providers,{provide:Sa,useValue:this},{provide:kh,useValue:this.componentFactoryResolver}],e.parent||Sh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function k_(t,e,n=null){return new sR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let C9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=vx(0,n.type),i=r.length>0?k_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(H(li))}),t})();function aR(t){t.getStandaloneInjector=e=>e.get(C9).getOrCreateStandaloneInjector(t)}function gR(t,e,n,r,i,o){const s=e+n;return Zt(t,s,i)?function Pr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function xc(t,e){const n=t[e];return n===oe?void 0:n}(t,s+1)}function Zh(t,e){const n=me();let r;const i=t+fe;n.firstCreatePass?(r=function j9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Vo(r.type)),s=En(D);try{const a=ah(!1),u=o();return ah(a),function b6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{En(s)}}function ef(t,e,n){const r=t+fe,i=E(),o=Qs(i,r);return function Nc(t,e){return t[R].data[e].pure}(i,r)?gR(i,dn(),e,o.transform,n,o):o.transform(n)}function O_(t){return e=>{setTimeout(t,void 0,e)}}const Ze=class W9 extends ei{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=O_(o),i&&(i=O_(i)),s&&(s=O_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ln&&e.add(a),a}};let gi=(()=>{class t{}return t.__NG_ELEMENT_ID__=X9,t})();const Q9=gi,Y9=class extends Q9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,o=Fh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);o[qu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Sr];return null!==a&&(o[Sr]=a.createEmbeddedView(i)),c_(i,o,e),new yc(o)}};function X9(){return tf(Bt(),E())}function tf(t,e){return 4&t.type?new Y9(e,t,la(t,e)):null}let gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=iW,t})();function iW(){return function bR(t,e){let n;const r=e[t.index];return bn(r)?n=r:(n=oN(r,e,null,t),e[t.index]=n,Lh(e,n)),TR(n,e,t,r),new DR(n,t,e)}(Bt(),E())}const oW=gr,DR=class extends oW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const e=ty(this._hostTNode,this._hostLView);if(uM(e)){const n=sh(e,this._hostLView),r=oh(e);return new Zs(n[R].data[r+8],n)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=CR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ju(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const u=s?e:new _c(we(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const y=(s?c:this.parentInjector).get(li,null);y&&(o=y)}we(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[R];if(function c4(t){return bn(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ge],l=new DR(c,c[Xt],c[Ge]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function Oz(t,e,n,r){const i=Ut+r,o=n.length;r>0&&(n[i-1][cr]=e),r<o-Ut?(e[cr]=n[i],wM(n,Ut+r,e)):(n.push(e),e[cr]=null),e[Ge]=n;const s=e[qu];null!==s&&n!==s&&function Fz(t,e){const n=t[Ks];e[dt]!==e[Ge][Ge][dt]&&(t[AA]=!0),null===n?t[Ks]=[e]:n.push(e)}(s,e);const a=e[Sr];null!==a&&a.insertView(t),e[se]|=128}(o,i,a,s),!r){const u=Cy(s,a),c=i[ie],l=wh(c,a[Ar]);null!==l&&function Rz(t,e,n,r,i,o){r[wt]=i,r[Xt]=e,oc(t,r,n,1,i,o)}(o,a[Xt],c,i,l,u)}return e.attachToViewContainerRef(),wM(V_(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=CR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=wy(this._lContainer,n);r&&(dh(V_(this._lContainer),n),HM(r[R],r))}detach(e){const n=this._adjustIndex(e,-1),r=wy(this._lContainer,n);return r&&null!=dh(V_(this._lContainer),n)?new yc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CR(t){return t[Kd]}function V_(t){return t[Kd]||(t[Kd]=[])}let TR=function SR(t,e,n,r){if(t[Ar])return;let i;i=8&n.type?Oe(r):function sW(t,e){const n=t[ie],r=n.createComment(""),i=Tn(e,t);return $o(n,wh(n,i),r,function Bz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ar]=i};function FR(t,e){return tf(t,e)}const Q_=new U("Application Initializer");let Y_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(Q_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Dc(o))n.push(o);else if(FN(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZR=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const mi=new U("LocaleId",{providedIn:"root",factory:()=>L(mi,W.Optional|W.SkipSelf)||function FW(){return typeof $localize<"u"&&$localize.locale||Ta}()});class VW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ek=(()=>{class t{compileModuleSync(n){return new R_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=hi(Bn(n).declarations).reduce((s,a)=>{const u=we(a);return u&&s.push(new _c(u)),s},[]);return new VW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $W=(()=>Promise.resolve(0))();function X_(t){typeof Zone>"u"?$W.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function rk(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function jW(){let t=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zW(t){const e=()=>{!function GW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Re,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Z_(t),t.isCheckStableRunning=!0,J_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return ik(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ok(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return ik(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ok(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Z_(t),J_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,HW,rk,rk);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const HW={};function J_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ik(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ok(t){t._nesting--,J_(t)}class qW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const sk=new U("",{providedIn:"root",factory:ak});function ak(){const t=L(Me);let e=!0;return function uG(...t){const e=Bu(t),n=function tG(t,e){return"number"==typeof Em(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ar(r[0]):$s(n)(St(r,e)):br}(new Ye(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ye(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),X_(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function cG(t={}){const{connector:e=(()=>new ei),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Lt((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Dm(p,i))}),w.subscribe(y),!s&&c>0&&(s=new Uu({next:_=>w.next(_),error:_=>{d=!0,h(),a=Dm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Dm(f,r),w.complete()}}),ar(m).subscribe(s))})(o)}}()))}const uk=new U(""),rf=new U("");let nv,ev=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nv||(function WW(t){nv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),X_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())X_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(H(Me),H(tv),H(rf))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),tv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return nv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Xi=null;const ck=new U("AllowMultipleToken"),rv=new U("PlatformDestroyListeners"),iv=new U("appBootstrapListener");class dk{constructor(e,n){this.name=e,this.token=n}}function fk(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(o=[])=>{let s=ov();if(!s||s.injector.get(ck,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function YW(t){if(Xi&&!Xi.get(ck,!1))throw new T(400,!1);(function lk(){!function JG(t){PA=t}(()=>{throw new T(600,!1)})})(),Xi=t;const e=t.get(gk);(function hk(t){t.get(Cx,null)?.forEach(n=>n())})(t)}(function pk(t=[],e){return Gn.create({name:e,providers:[{provide:Fy,useValue:"platform"},{provide:rv,useValue:new Set([()=>Xi=null])},...t]})}(a,r))}return function JW(t){const e=ov();if(!e)throw new T(401,!1);return e}()}}function ov(){return Xi?.get(gk)??null}let gk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ZW(t="zone.js",e){return"noop"===t?new qW:"zone.js"===t?new Me(e):t}(r?.ngZone,function mk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function D9(t,e,n){return new N_(t,e,n)}(n.moduleType,this.injector,function Ik(t){return[{provide:Me,useFactory:t},{provide:lc,multi:!0,useFactory:()=>{const e=L(t7,{optional:!0});return()=>e.initialize()}},{provide:wk,useFactory:e7},{provide:sk,useFactory:ak}]}(()=>i)),s=o.injector.get(Ho,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{sf(this._modules,o),a.unsubscribe()})}),function yk(t,e,n){try{const r=n();return Dc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Y_);return a.runInitializers(),a.donePromise.then(()=>(function P1(t){Yn(t,"Expected localeId to be defined"),"string"==typeof t&&(k1=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(mi,Ta)||Ta),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=_k({},r);return function KW(t,e,n){const r=new R_(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(xa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(rv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(H(Gn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _k(t,e){return Array.isArray(e)?e.reduce(_k,t):{...t,...e}}let xa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(wk),this.componentTypes=[],this.components=[],this.isStable=L(sk),this._injector=L(li)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Nx;if(!this._injector.get(Y_).done)throw!i&&function Hs(t){const e=we(t)||Yt(t)||Cn(t);return null!==e&&e.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(kh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function QW(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Sa),c=s.create(Gn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(uk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),sf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;sf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(iv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wk=new U("",{providedIn:"root",factory:()=>L(Ho).handleError.bind(void 0)});function e7(){const t=L(Me),e=L(Ho);return n=>t.runOutsideAngular(()=>e.handleError(n))}let t7=(()=>{class t{constructor(){this.zone=L(Me),this.applicationRef=L(xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let af=(()=>{class t{}return t.__NG_ELEMENT_ID__=r7,t})();function r7(t){return function i7(t,e,n){if(Lo(t)&&!n){const r=Sn(t.index,e);return new yc(r,r)}return 47&t.type?new yc(e[dt],e):null}(Bt(),E(),16==(16&t))}class bk{constructor(){}supports(e){return $h(e)}create(e){return new l7(e)}}const c7=(t,e)=>e;class l7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Sk(r,i,o)?n:r,a=Sk(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!$h(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function i6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new d7(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Tk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class d7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Tk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new h7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ak{constructor(){}supports(e){return e instanceof Map||h_(e)}create(){return new f7}}class f7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||h_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new p7(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class p7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mk(){return new lf([new bk])}let lf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Mk()),deps:[[t,new fh,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Mk}),t})();function xk(){return new kc([new Ak])}let kc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xk()),deps:[[t,new fh,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:xk}),t})();const y7=fk(null,"core",[]);let _7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(H(xa))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})(),Fk=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=L(Me),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hv=null;function Ji(){return hv}class x7{}const er=new U("DocumentToken");let fv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(R7)},providedIn:"platform"}),t})();const N7=new U("Location Initialized");let R7=(()=>{class t extends fv{constructor(){super(),this._doc=L(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(n){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function pv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Vk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function yi(t){return t&&"?"!==t[0]?"?"+t:t}let Qo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(Bk)},providedIn:"root"}),t})();const Uk=new U("appBaseHref");let Bk=(()=>{class t extends Qo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+yi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+yi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(fv),H(Uk,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k7=(()=>{class t extends Qo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=pv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H(fv),H(Uk,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),gv=(()=>{class t{constructor(n){this._subject=new Ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function F7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Vk($k(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yi(r))}normalize(n){return t.stripTrailingSlash(function O7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$k(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=yi,t.joinWithSlash=pv,t.stripTrailingSlash=Vk,t.\u0275fac=function(n){return new(n||t)(H(Qo))},t.\u0275prov=G({token:t,factory:function(){return function P7(){return new gv(H(Qo))}()},providedIn:"root"}),t})();function $k(t){return t.replace(/\/index.html$/,"")}const bv=/\s+/,Yk=[];let Xk=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Yk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(bv):Yk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(bv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(bv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(lf),D(kc),D(Hn),D(di))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class I8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new I8(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Zk(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Zk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(gr),D(gi),D(lf))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Zk(t,e){t.context.$implicit=e.item}let If=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new E8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(gr),D(gi))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class E8{constructor(){this.$implicit=null,this.ngIf=null}}function eP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}let Mv=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw function _r(t,e){return new T(2100,!1)}();return n.toUpperCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=Dn({name:"uppercase",type:t,pure:!0,standalone:!0}),t})(),rP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})();function oP(t){return"server"===t}let Q8=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Y8(H(er),window)}),t})();class Y8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function X8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sP(this.window.history)||sP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class bK extends x7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pv extends bK{static makeCurrent(){!function M7(t){hv||(hv=t)}(new Pv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function TK(){return Lc=Lc||document.querySelector("base"),Lc?Lc.getAttribute("href"):null}();return null==n?null:function SK(t){Cf=Cf||document.createElement("a"),Cf.setAttribute("href",t);const e=Cf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function v8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Cf,Lc=null,MK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Ov=new U("EventManagerPlugins");let dP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(H(Ov),H(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class hP{constructor(e){this._doc=e}}const Fv="ng-app-id";let fP=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oP(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Fv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Fv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Fv,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(H(er),H(Ah),H(bx,8),H(Qi))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vv=/%COMP%/g,kK=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function gP(t,e){return e.map(n=>n.replace(Vv,t))}let mP=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=oP(a),this.defaultRenderer=new Uv(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r={...r,encapsulation:Un.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof _P?i.applyToHost(n):i instanceof Bv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new _P(u,c,r,this.appId,l,s,a,d);break;case Un.ShadowDom:return new LK(u,c,n,r,s,a,this.nonce,d);default:o=new Bv(u,c,r,l,s,a,d)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(H(dP),H(fP),H(Ah),H(kK),H(er),H(Qi),H(Me),H(bx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class Uv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Lv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Lv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ji().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function yP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class LK extends Uv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bv extends Uv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?gP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _P extends Bv{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function PK(t){return"_ngcontent-%COMP%".replace(Vv,t)}(c),this.hostAttr=function OK(t){return"_nghost-%COMP%".replace(Vv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let VK=(()=>{class t extends hP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const vP=["alt","control","meta","shift"],UK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $K=(()=>{class t extends hP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=UK[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vP.forEach(s=>{s!==i&&(0,BK[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const IP=[{provide:Qi,useValue:"browser"},{provide:Cx,useValue:function jK(){Pv.makeCurrent()},multi:!0},{provide:er,useFactory:function GK(){return function Kz(t){Sy=t}(document),document},deps:[]}],zK=fk(y7,"browser",IP),qK=new U(""),EP=[{provide:rf,useClass:class AK{addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ji().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:uk,useClass:ev,deps:[Me,tv,rf]},{provide:ev,useClass:ev,deps:[Me,tv,rf]}],DP=[{provide:Fy,useValue:"root"},{provide:Ho,useFactory:function HK(){return new Ho},deps:[]},{provide:Ov,useClass:VK,multi:!0,deps:[er,Me,Qi]},{provide:Ov,useClass:$K,multi:!0,deps:[er]},mP,fP,dP,{provide:kx,useExisting:mP},{provide:class J8{},useClass:MK,deps:[]},[]];let WK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ah,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(H(qK,12))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[...DP,...EP],imports:[rP,_7]}),t})(),CP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(H(er))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function QK(){return new CP(H(er))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:eQ}=Array,{getPrototypeOf:tQ,prototype:nQ,keys:rQ}=Object;function AP(t){if(1===t.length){const e=t[0];if(eQ(e))return{args:e,keys:null};if(function iQ(t){return t&&"object"==typeof t&&tQ(t)===nQ}(e)){const n=rQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:oQ}=Array;function MP(t){return xe(e=>function sQ(t,e){return oQ(e)?t(...e):t(e)}(t,e))}function xP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let NP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(di),D(Hn))},t.\u0275dir=Y({type:t}),t})(),Yo=(()=>{class t extends NP{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Y({type:t,features:[Ce]}),t})();const Vr=new U("NgValueAccessor"),cQ={provide:Vr,useExisting:Ne(()=>Vc),multi:!0},dQ=new U("CompositionEventMode");let Vc=(()=>{class t extends NP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lQ(){const t=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(di),D(Hn),D(dQ,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Be("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[$e([cQ]),Ce]}),t})();function eo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function kP(t){return null!=t&&"number"==typeof t.length}const tn=new U("NgValidators"),to=new U("NgAsyncValidators"),hQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nn{static min(e){return function PP(t){return e=>{if(eo(e.value)||eo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function OP(t){return e=>{if(eo(e.value)||eo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function FP(t){return eo(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function LP(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function VP(t){return eo(t.value)||hQ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function UP(t){return e=>eo(e.value)||!kP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function BP(t){return e=>kP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function $P(t){if(!t)return bf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(eo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return WP(e)}static composeAsync(e){return KP(e)}}function bf(t){return null}function jP(t){return null!=t}function HP(t){return Dc(t)?St(t):t}function GP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function zP(t,e){return e.map(n=>n(t))}function qP(t){return t.map(e=>function fQ(t){return!t.validate}(e)?e:n=>e.validate(n))}function WP(t){if(!t)return null;const e=t.filter(jP);return 0==e.length?null:function(n){return GP(zP(n,e))}}function jv(t){return null!=t?WP(qP(t)):null}function KP(t){if(!t)return null;const e=t.filter(jP);return 0==e.length?null:function(n){return function aQ(...t){const e=rA(t),{args:n,keys:r}=AP(t),i=new Ye(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;ar(n[l]).subscribe(Tt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?xP(r,a):a),o.complete())}))}});return e?i.pipe(MP(e)):i}(zP(n,e).map(HP)).pipe(xe(GP))}}function Hv(t){return null!=t?KP(qP(t)):null}function QP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YP(t){return t._rawValidators}function XP(t){return t._rawAsyncValidators}function Gv(t){return t?Array.isArray(t)?t:[t]:[]}function Tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function JP(t,e){const n=Gv(e);return Gv(t).forEach(i=>{Tf(n,i)||n.push(i)}),n}function ZP(t,e){return Gv(e).filter(n=>!Tf(t,n))}class eO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class mn extends eO{get formDirective(){return null}get path(){return null}}class no extends eO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zv=(()=>{class t extends tO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(no,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Wh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),Sf=(()=>{class t extends tO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Wh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();const Uc="VALID",Mf="INVALID",Ra="PENDING",Bc="DISABLED";function Kv(t){return(xf(t)?t.validators:t)||null}function Qv(t,e){return(xf(e)?e.asyncValidators:t)||null}function xf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function rO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function iO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Yv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uc}get invalid(){return this.status===Mf}get pending(){return this.status==Ra}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZP(e,this._rawAsyncValidators))}hasValidator(e){return Tf(this._rawValidators,e)}hasAsyncValidator(e){return Tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ra,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===Ra)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ra,this._hasOwnPendingAsyncValidator=!0;const n=HP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?Mf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ra)?Ra:this._anyControlsHaveStatus(Mf)?Mf:Uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yQ(t){return Array.isArray(t)?jv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _Q(t){return Array.isArray(t)?Hv(t):t||null}(this._rawAsyncValidators)}}class ka extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iO(this,0,e),Object.keys(e).forEach(r=>{rO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Xo=new U("CallSetDisabledState",{providedIn:"root",factory:()=>$c}),$c="always";function Nf(t,e){return[...e.path,t]}function jc(t,e,n=$c){Xv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function IQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oO(t,e)})}(t,e),function DQ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function EQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function wQ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function kf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xv(t,e){const n=YP(t);null!==e.validator?t.setValidators(QP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=XP(t);null!==e.asyncValidator?t.setAsyncValidators(QP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();kf(e._rawValidators,i),kf(e._rawAsyncValidators,i)}function Pf(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=YP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=XP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return kf(e._rawValidators,r),kf(e._rawAsyncValidators,r),n}function oO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sO(t,e){Xv(t,e)}function Zv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function aO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ew(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Vc?n=o:function TQ(t){return Object.getPrototypeOf(t.constructor)===Yo}(o)?r=o:i=o}),i||r||n||null}const AQ={provide:mn,useExisting:Ne(()=>Of)},Hc=(()=>Promise.resolve())();let Of=(()=>{class t extends mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ze,this.form=new ka({},jv(n),Hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Hc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),jc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path),i=new ka({});sO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Hc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,aO(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Xo,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Be("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([AQ]),Ce]}),t})();function uO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Rn=class extends Yv{constructor(e=null,n,r){super(Kv(n),Qv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let lO=(()=>{class t extends mn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Nf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Y({type:t,features:[Ce]}),t})(),Ff=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const RQ={provide:Vr,useExisting:Ne(()=>tw),multi:!0};let tw=(()=>{class t extends Yo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Y({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Be("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[$e([RQ]),Ce]}),t})(),pO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})();const nw=new U("NgModelWithFormControlWarning"),FQ={provide:no,useExisting:Ne(()=>rw)};let rw=(()=>{class t extends no{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Ze,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ew(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&Rf(r,this,!1),jc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Zv(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Rf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Vr,10),D(nw,8),D(Xo,8))},t.\u0275dir=Y({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[$e([FQ]),Ce,Xn]}),t})();const LQ={provide:mn,useExisting:Ne(()=>Gc)};let Gc=(()=>{class t extends mn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ze,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return jc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rf(n.control||null,n,!1),function SQ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,aO(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Rf(r||null,n),(t=>t instanceof Rn)(i)&&(jc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);sO(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function CQ(t,e){return Pf(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xv(this.form,this),this._oldForm&&Pf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(D(tn,10),D(to,10),D(Xo,8))},t.\u0275dir=Y({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Be("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([LQ]),Ce,Xn]}),t})();const VQ={provide:mn,useExisting:Ne(()=>Lf)};let Lf=(()=>{class t extends lO{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[$e([VQ]),Ce]}),t})();const UQ={provide:mn,useExisting:Ne(()=>Vf)};let Vf=(()=>{class t extends mn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Nf(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10))},t.\u0275dir=Y({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[$e([UQ]),Ce]}),t})();function yO(t){return!(t instanceof Lf||t instanceof Gc||t instanceof Vf)}const BQ={provide:no,useExisting:Ne(()=>iw)};let iw=(()=>{class t extends no{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ze,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ew(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Zv(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Nf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(mn,13),D(tn,10),D(to,10),D(Vr,10),D(nw,8))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([BQ]),Ce,Xn]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[pO]}),t})();class uw extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){iO(this,0,e),e.forEach((r,i)=>{rO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}let tY=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Xo,useValue:n.callSetDisabledState??$c}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[MO]}),t})(),xO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:nw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Xo,useValue:n.callSetDisabledState??$c}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[MO]}),t})(),nY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[rP,xO]}),t})();function ne(...t){return St(t,Bu(t))}class vr extends ei{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function cw(...t){const e=Bu(t),n=rA(t),{args:r,keys:i}=AP(t);if(0===r.length)return St([],e);const o=new Ye(function iY(t,e,n=ko){return r=>{NO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)NO(e,()=>{const c=St(t[u],e);let l=!1;c.subscribe(Tt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>xP(i,s):ko));return n?o.pipe(MP(n)):o}function NO(t,e,n){t?ti(n,t,e):e()}const Uf=Vu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function lw(...t){return function oY(){return $s(1)}()(St(t,Bu(t)))}function RO(t){return new Ye(e=>{ar(t()).subscribe(e)})}function zc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new Ye(e?i=>e.schedule(r,0,i):r)}function dw(){return Lt((t,e)=>{let n=null;t._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kO extends Ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const n=this.getSubject();e.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return dw()(this)}}function vi(t,e){return Lt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Tt(r,u=>{i?.unsubscribe();let c=0;const l=o++;ar(t(u,l)).subscribe(i=Tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pa(t){return t<=0?()=>br:Lt((e,n)=>{let r=0;e.subscribe(Tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ro(t,e){return Lt((n,r)=>{let i=0;n.subscribe(Tt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Bf(t){return Lt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PO(t=aY){return Lt((e,n)=>{let r=!1;e.subscribe(Tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aY(){return new Uf}function Zo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ro((i,o)=>t(i,o,r)):ko,Pa(1),n?Bf(e):PO(()=>new Uf))}function qc(t,e){return Ae(e)?Vt(t,e,1):Vt(t,1)}function nn(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Lt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Tt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ko}function es(t){return Lt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Tt(n,void 0,void 0,s=>{o=ar(t(s,es(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hw(t){return t<=0?()=>br:Lt((e,n)=>{let r=[];e.subscribe(Tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fw(t){return Lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",Wc=Symbol("RouteTitle");class hY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Oa(t){return new hY(t)}function fY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ur(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!OO(t[i],e[i]))return!1;return!0}function OO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function FO(t){return t.length>0?t[t.length-1]:null}function io(t){return function rY(t){return!!t&&(t instanceof Ye||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:Dc(t)?St(Promise.resolve(t)):ne(t)}const gY={exact:function UO(t,e,n){if(!ts(t.segments,e.segments)||!$f(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UO(t.children[r],e.children[r],n))return!1;return!0},subset:BO},LO={exact:function mY(t,e){return Ur(t,e)},subset:function yY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OO(t[n],e[n]))},ignored:()=>!0};function VO(t,e,n){return gY[n.paths](t.root,e.root,n.matrixParams)&&LO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BO(t,e,n){return $O(t,e,e.segments,n)}function $O(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ts(i,n)||e.hasChildren()||!$f(i,n,r))}if(t.segments.length===n.length){if(!ts(t.segments,n)||!$f(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ts(t.segments,i)&&$f(t.segments,i,r)&&t.children[ae])&&$O(t.children[ae],e,o,r)}}function $f(t,e,n){return e.every((r,i)=>LO[n](t[i].parameters,r.parameters))}class Fa{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return wY.serialize(this)}}class be{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Kc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return GO(this)}}function ts(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Qc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new pw},providedIn:"root"}),t})();class pw{parse(e){const n=new NY(e);return new Fa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Yc(e.root,!0)}`,r=function DY(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Hf(n)}=${Hf(i)}`).join("&"):`${Hf(n)}=${Hf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function IY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const wY=new pw;function jf(t){return t.segments.map(e=>GO(e)).join("/")}function Yc(t,e){if(!t.hasChildren())return jf(t);if(e){const n=t.children[ae]?Yc(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Yc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function vY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[Yc(t.children[ae],!1)]:[`${i}:${Yc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${jf(t)}/${n[0]}`:`${jf(t)}/(${n.join("//")})`}}function jO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(t){return jO(t).replace(/%3B/gi,";")}function gw(t){return jO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gf(t){return decodeURIComponent(t)}function HO(t){return Gf(t.replace(/\+/g,"%20"))}function GO(t){return`${gw(t.path)}${function EY(t){return Object.keys(t).map(e=>`;${gw(e)}=${gw(t[e])}`).join("")}(t.parameters)}`}const CY=/^[^\/()?;#]+/;function mw(t){const e=t.match(CY);return e?e[0]:""}const bY=/^[^\/()?;=#]+/,SY=/^[^=?&#]+/,MY=/^[^&#]+/;class NY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new be(e,n)),r}parseSegment(){const e=mw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Kc(Gf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function TY(t){const e=t.match(bY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mw(this.remaining);i&&(r=i,this.capture(r))}e[Gf(n)]=Gf(r)}parseQueryParam(e){const n=function AY(t){const e=t.match(SY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function xY(t){const e=t.match(MY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=HO(n),o=HO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ae]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zO(t){return t.segments.length>0?new be([],{[ae]:t}):t}function qO(t){const e={};for(const r of Object.keys(t.children)){const o=qO(t.children[r]);if(r===ae&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function RY(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new be(t.segments.concat(e.segments),e.children)}return t}(new be(t.segments,e))}function ns(t){return t instanceof Fa}function WO(t){let e;const i=zO(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new be(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function KO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return yw(i,i,i,n,r);const o=function PY(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YO(n,e,r)}(e);if(o.toRoot())return yw(i,i,new be([],{}),n,r);const s=function OY(t,e,n){if(t.isAbsolute)return new qf(e,!0,0);if(!n)return new qf(e,!1,NaN);if(null===n.parent)return new qf(n,!0,0);const r=zf(t.commands[0])?0:1;return function FY(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new qf(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Jc(s.segmentGroup,s.index,o.commands):XO(s.segmentGroup,s.index,o.commands);return yw(i,s.segmentGroup,a,n,r)}function zf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xc(t){return"object"==typeof t&&null!=t&&t.outlets}function yw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:QO(t,e,n);const a=zO(qO(s));return new Fa(a,o,i)}function QO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:QO(o,e,n)}),new be(t.segments,r)}class YO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zf(r[0]))throw new T(4003,!1);const i=r.find(Xc);if(i&&i!==FO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XO(t,e,n){if(t||(t=new be([],{})),0===t.segments.length&&t.hasChildren())return Jc(t,e,n);const r=function VY(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Xc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZO(u,c,s))return o;r+=2}else{if(!ZO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new be(t.segments.slice(r.pathIndex),t.children),Jc(o,0,i)}return r.match&&0===i.length?new be(t.segments,{}):r.match&&!t.hasChildren()?_w(t,e,n):r.match?Jc(t,0,i):_w(t,e,n)}function Jc(t,e,n){if(0===n.length)return new be(t.segments,{});{const r=function LY(t){return Xc(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(!r[ae]&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const o=Jc(t.children[ae],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=XO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new be(t.segments,i)}}function _w(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Xc(o)){const u=UY(o.outlets);return new be(r,u)}if(0===i&&zf(n[0])){r.push(new Kc(t.segments[e].path,JO(n[0]))),i++;continue}const s=Xc(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zf(a)?(r.push(new Kc(s,JO(a))),i+=2):(r.push(new Kc(s,{})),i++)}return new be(r,{})}function UY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_w(new be([],{}),0,r))}),e}function JO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZO(t,e,n){return t==n.path&&Ur(e,n.parameters)}const Zc="imperative";class Br{constructor(e,n){this.id=e,this.url=n}}class vw extends Br{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends Br{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ww extends Br{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jY extends Br{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tl,this.attachRef=null}}let tl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new XY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Iw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Iw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ew(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ew(e,this._root).map(n=>n.value)}}function Iw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Iw(t,n);if(r)return r}return null}function Ew(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ew(t,n);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function La(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nF extends tF{constructor(e,n){super(e),this.snapshot=n,Dw(this,e)}toString(){return this.snapshot.toString()}}function rF(t,e){const n=function JY(t,e){const s=new Kf([],{},{},"",{},ae,e,null,{});return new oF("",new wi(s,[]))}(0,e),r=new vr([new Kc("",{})]),i=new vr({}),o=new vr({}),s=new vr({}),a=new vr(""),u=new Va(r,i,s,a,o,ae,e,n.root);return u.snapshot=n.root,new nF(new wi(u,[]),n)}class Va{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(xe(c=>c[Wc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ZY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kf{get title(){return this.data?.[Wc]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oF extends tF{constructor(e,n){super(n),this.url=e,Dw(this,n)}toString(){return sF(this._root)}}function Dw(t,e){e.value._routerState=t,e.children.forEach(n=>Dw(t,n))}function sF(t){const e=t.children.length>0?` { ${t.children.map(sF).join(", ")} } `:"";return`${t.value}${e}`}function Cw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ur(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ur(e.params,n.params)||t.paramsSubject.next(n.params),function pY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ur(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ur(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bw(t,e){const n=Ur(t.params,e.params)&&function _Y(t,e){return ts(t,e)&&t.every((n,r)=>Ur(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||bw(t.parent,e.parent))}let aF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.parentContexts=L(tl),this.location=L(gr),this.changeDetector=L(af),this.environmentInjector=L(li),this.inputBinder=L(Qf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new eX(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]}),t})();class eX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Va?this.route:e===tl?this.childContexts:this.parent.get(e,n)}}const Qf=new U("");let uF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=cw([r.queryParams,r.params,r.data]).pipe(vi(([o,s,a],u)=>(a={...o,...s,...a},0===u?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function A7(t){const e=we(t);if(!e)return null;const n=new _c(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function nX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}(t,e,n);return new wi(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nl(t,a)),s}}const r=function rX(t){return new Va(new vr(t.url),new vr(t.params),new vr(t.queryParams),new vr(t.fragment),new vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>nl(t,o));return new wi(r,i)}}const Tw="ngNavigationCancelingError";function cF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dF(t){return hF(t)&&ns(t.url)}function hF(t){return t&&t[Tw]}let fF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["ng-component"]],standalone:!0,features:[aR],decls:1,vars:0,template:function(n,r){1&n&&qe(0,"router-outlet")},dependencies:[aF],encapsulation:2}),t})();function Sw(t){const e=t.children&&t.children.map(Sw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=fF),n}function wr(t){return t.outlet||ae}function rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class lX{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=La(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=La(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=La(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=La(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new YY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new KY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Cw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=rl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class pF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yf{constructor(e,n){this.component=e,this.route=n}}function dX(t,e,n){const r=t._root;return il(r,e?e._root:null,n,[r.value])}function Ua(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function mG(t){return null!==Bd(t)}(t)?e.get(t):t:r}function il(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=La(e);return t.children.forEach(s=>{(function fX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function pX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ts(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(t.url,e.url)||!Ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bw(t,e)||!Ur(t.queryParams,e.queryParams);default:return!bw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),il(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yf(a.outlet.component,s))}else s&&ol(e,a,i),i.canActivateChecks.push(new pF(r)),il(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ol(a,n.getContext(s),i)),i}function ol(t,e,n){const r=La(t),i=t.value;Object.entries(r).forEach(([o,s])=>{ol(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Yf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sl(t){return"function"==typeof t}function gF(t){return t instanceof Uf||"EmptyError"===t?.name}const Xf=Symbol("INITIAL_VALUE");function Ba(){return vi(t=>cw(t.map(e=>e.pipe(Pa(1),function sY(...t){const e=Bu(t);return Lt((n,r)=>{(e?lw(t,n,e):lw(t,n)).subscribe(r)})}(Xf)))).pipe(xe(e=>{for(const n of e)if(!0!==n){if(n===Xf)return Xf;if(!1===n||n instanceof Fa)return n}return!0}),ro(e=>e!==Xf),Pa(1)))}function mF(t){return function OH(...t){return US(t)}(nn(e=>{if(ns(e))throw cF(0,e)}),xe(e=>!0===e))}class Jf{constructor(e){this.segmentGroup=e||null}}class yF{constructor(e){this.urlTree=e}}function $a(t){return zc(new Jf(t))}function _F(t){return zc(new yF(t))}class PX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[ae])return zc(new T(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Fa(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OX(t,e,n,r,i){const o=Mw(t,e,n);return o.matched?(r=function iX(t,e){return t.providers&&!t._injector&&(t._injector=k_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function NX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ne(i.map(s=>{const a=Ua(s,t);return io(function wX(t){return t&&sl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ba(),mF()):ne(!0)}(r,e,n).pipe(xe(s=>!0===s?o:{...Aw}))):ne(o)}function Mw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Aw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fY)(n,t,e);if(!i)return{...Aw};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vF(t,e,n,r){return n.length>0&&function VX(t,e,n){return n.some(r=>Zf(t,e,r)&&wr(r)!==ae)}(t,n,r)?{segmentGroup:new be(e,LX(r,new be(n,t.children))),slicedSegments:[]}:0===n.length&&function UX(t,e,n){return n.some(r=>Zf(t,e,r))}(t,n,r)?{segmentGroup:new be(t.segments,FX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function FX(t,e,n,r,i){const o={};for(const s of r)if(Zf(t,n,s)&&!i[wr(s)]){const a=new be([],{});o[wr(s)]=a}return{...i,...o}}function LX(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&wr(r)!==ae){const i=new be([],{});n[wr(r)]=i}return n}function Zf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class HX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new PX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=vF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(es(n=>{if(n instanceof yF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Jf?this.noMatchError(n):n}),xe(n=>{const r=new Kf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new wi(r,n),o=new oF("",i),s=function kY(t,e,n=null,r=null){return KO(WO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(es(r=>{throw r instanceof Jf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=iF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return St(i).pipe(qc(o=>{const s=r.children[o],a=function uX(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function cY(t,e){return Lt(function uY(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Tt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Bf(null),function lY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ro((i,o)=>t(i,o,r)):ko,hw(1),n?Bf(e):PO(()=>new Uf))}(),Vt(o=>{if(null===o)return $a(r);const s=wF(o);return function GX(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ne(s)}))}processSegment(e,n,r,i,o,s){return St(n).pipe(qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(es(u=>{if(u instanceof Jf)return ne(null);throw u}))),Zo(a=>!!a),es(a=>{if(gF(a))return function $X(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ne([]):$a(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function BX(t,e,n,r){return!!(wr(t)===r||r!==ae&&Zf(e,n,t))&&("**"===t.path||Mw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):$a(i):$a(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_F(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Vt(s=>{const a=new be(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Mw(n,i,o);if(!a)return $a(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_F(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Vt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?FO(i).parameters:{};a=ne({snapshot:new Kf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),wr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=OX(n,r,i,e).pipe(xe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Kf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),wr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(vi(u=>null===u?$a(n):this.getChildConfig(e=r._injector??e,r,i).pipe(vi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=vF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(xe(w=>null===w?null:[new wi(d,w)]));if(0===c.length&&0===m.length)return ne([new wi(d,[])]);const y=wr(r)===o;return this.processSegment(l,c,p,m,y?ae:o,!0).pipe(xe(w=>[new wi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function xX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(s=>{const a=Ua(s,t);return io(function mX(t){return t&&sl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ba(),mF())}(e,n,r).pipe(Vt(i=>i?this.configLoader.loadChildren(e,n).pipe(nn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function kX(t){return zc(lF(!1,3))}())):ne({routes:[],injector:e})}}function zX(t){const e=t.value.routeConfig;return e&&""===e.path}function wF(t){const e=[],n=new Set;for(const r of t){if(!zX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wF(r.children);e.push(new wi(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function EF(t){return t.resolve||{}}function DF(t){return"string"==typeof t.title||null===t.title}function xw(t){return vi(e=>{const n=t(e);return n?St(n).pipe(xe(()=>e)):ne(e)})}const ja=new U("ROUTES");let Nw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(ek)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=io(n.loadComponent()).pipe(xe(CF),nn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fw(()=>{this.componentLoaders.delete(n)})),i=new kO(r,()=>new ei).pipe(dw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(ja,[],W.Self|W.Optional).flat()),{routes:c.map(Sw),injector:u}}),fw(()=>{this.childrenLoaders.delete(r)})),s=new kO(o,()=>new ei).pipe(dw());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return io(n()).pipe(xe(CF),Vt(r=>r instanceof oR||Array.isArray(r)?ne(r):St(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CF(t){return function JX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ep=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ei,this.configLoader=L(Nw),this.environmentInjector=L(li),this.urlSerializer=L(Qc),this.rootContexts=L(tl),this.inputBindingEnabled=null!==L(Qf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new vr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ro(r=>0!==r.id),xe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),vi(r=>{let i=!1,o=!1;return ne(r).pipe(nn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new el(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),br}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return bF(s.source)&&(n.browserUrlTree=s.extractedUrl),ne(s).pipe(vi(l=>{const d=this.transitions?.getValue();return this.events.next(new vw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?br:Promise.resolve(l)}),function qX(t,e,n,r,i,o){return Vt(s=>function jX(t,e,n,r,i,o,s="emptyOnly"){return new HX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),nn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new BY(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new vw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=rF(0,this.rootComponentType).snapshot;return ne(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new el(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),br}}),nn(s=>{const a=new $Y(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xe(s=>r={...s,guards:dX(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function EX(t,e){return Vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ne({...n,guardsResult:!0}):function DX(t,e,n,r){return St(t).pipe(Vt(i=>function MX(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(a=>{const u=rl(e)??i,c=Ua(a,u);return io(function vX(t){return t&&sl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Zo())})).pipe(Ba()):ne(!0)}(i.component,i.route,n,e,r)),Zo(i=>!0!==i,!0))}(s,r,i,t).pipe(Vt(a=>a&&function gX(t){return"boolean"==typeof t}(a)?function CX(t,e,n,r){return St(e).pipe(qc(i=>lw(function TX(t,e){return null!==t&&e&&e(new WY(t)),ne(!0)}(i.route.parent,r),function bX(t,e){return null!==t&&e&&e(new QY(t)),ne(!0)}(i.route,r),function AX(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function hX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>RO(()=>ne(s.guards.map(u=>{const c=rl(s.node)??n,l=Ua(u,c);return io(function _X(t){return t&&sl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Zo())})).pipe(Ba())));return ne(o).pipe(Ba())}(t,i.path,n),function SX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(o=>RO(()=>{const s=rl(e)??n,a=Ua(o,s);return io(function yX(t){return t&&sl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Zo())}));return ne(i).pipe(Ba())}(t,i.route,n))),Zo(i=>!0!==i,!0))}(r,o,t,e):ne(a)),xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),nn(s=>{if(r.guardsResult=s.guardsResult,ns(s.guardsResult))throw cF(0,s.guardsResult);const a=new jY(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ro(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),xw(s=>{if(s.guards.canActivateChecks.length)return ne(s).pipe(nn(a=>{const u=new HY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vi(a=>{let u=!1;return ne(a).pipe(function WX(t,e){return Vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=0;return St(i).pipe(qc(s=>function KX(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!DF(i)&&(o[Wc]=i.title),function QX(t,e,n,r){const i=function YX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ne({});const o={};return St(i).pipe(Vt(s=>function XX(t,e,n,r){const i=rl(e)??r,o=Ua(t,i);return io(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Zo(),nn(a=>{o[s]=a}))),hw(1),function dY(t){return xe(()=>t)}(o),es(s=>gF(s)?br:zc(s)))}(o,t,e,r).pipe(xe(s=>(t._resolvedData=s,t.data=iF(t,n).resolve,i&&DF(i)&&(t.data[Wc]=i.title),null)))}(s.route,r,t,e)),nn(()=>o++),hw(1),Vt(s=>o===i.length?ne(n):br))})}(n.paramsInheritanceStrategy,this.environmentInjector),nn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),nn(a=>{const u=new GY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),xw(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(nn(l=>{u.component=l}),xe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return cw(a(s.targetSnapshot.root)).pipe(Bf(),Pa(1))}),xw(()=>this.afterPreactivation()),xe(s=>{const a=function tX(t,e,n){const r=nl(t,e._root,n?n._root:void 0);return new nF(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),nn(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>xe(i=>(new lX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Pa(1),nn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new rs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),fw(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),es(s=>{if(o=!0,hF(s)){dF(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Wf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),dF(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bF(r.source)};n.scheduleNavigation(u,Zc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new ww(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return br}))}))}cancelNavigationTransition(n,r,i){const o=new Wf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bF(t){return t!==Zc}let TF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Wc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(ZX)},providedIn:"root"}),t})(),ZX=(()=>{class t extends TF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(H(CP))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(nJ)},providedIn:"root"}),t})();class tJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let nJ=(()=>{class t extends tJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tp=new U("",{providedIn:"root",factory:()=>({})});let rJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(iJ)},providedIn:"root"}),t})(),iJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qn=(()=>((qn=qn||{})[qn.COMPLETE=0]="COMPLETE",qn[qn.FAILED=1]="FAILED",qn[qn.REDIRECTING=2]="REDIRECTING",qn))();function SF(t,e){t.events.pipe(ro(n=>n instanceof rs||n instanceof Wf||n instanceof ww||n instanceof el),xe(n=>n instanceof rs||n instanceof el?qn.COMPLETE:n instanceof Wf&&(0===n.code||1===n.code)?qn.REDIRECTING:qn.FAILED),ro(n=>n!==qn.REDIRECTING),Pa(1)).subscribe(()=>{e()})}function oJ(t){throw t}function sJ(t,e,n){return e.parse("/")}const aJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(ZR),this.isNgZoneEnabled=!1,this.options=L(tp,{optional:!0})||{},this.pendingTasks=L(Fk),this.errorHandler=this.options.errorHandler||oJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||sJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(rJ),this.routeReuseStrategy=L(eJ),this.titleStrategy=L(TF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(ja,{optional:!0})?.flat()??[],this.navigationTransitions=L(ep),this.urlSerializer=L(Qc),this.location=L(gv),this.componentInputBindingEnabled=!!L(Qf,{optional:!0}),this.isNgZoneEnabled=L(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=WO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return KO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ns(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zc,null,r)}navigate(n,r={skipLocationChange:!1}){return function cJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...aJ}:!1===r?{...uJ}:r,ns(n))return VO(this.currentUrlTree,n,i);const o=this.parseUrl(n);return VO(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return SF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class AF{}let hJ=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ro(n=>n instanceof rs),qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=k_(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return St(i).pipe($s())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ne(null);const o=i.pipe(Vt(s=>null===s?ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?St([o,this.loader.loadComponent(r)]).pipe($s()):o})}}return t.\u0275fac=function(n){return new(n||t)(H(rr),H(ek),H(li),H(AF),H(Nw))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kw=new U("");let MF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof el&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Yx(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Ii(t,e){return{\u0275kind:t,\u0275providers:e}}function NF(){const t=L(Gn);return e=>{const n=t.get(xa);if(e!==n.components[0])return;const r=t.get(rr),i=t.get(RF);1===t.get(Pw)&&r.initialNavigation(),t.get(kF,null,W.Optional)?.setUpPreloading(),t.get(kw,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RF=new U("",{factory:()=>new ei}),Pw=new U("",{providedIn:"root",factory:()=>1}),kF=new U("");function mJ(t){return Ii(0,[{provide:kF,useExisting:hJ},{provide:AF,useExisting:t}])}const PF=new U("ROUTER_FORROOT_GUARD"),_J=[gv,{provide:Qc,useClass:pw},rr,tl,{provide:Va,useFactory:function xF(t){return t.routerState.root},deps:[rr]},Nw,[]];function vJ(){return new dk("Router",rr)}let OF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[_J,[],{provide:ja,multi:!0,useValue:n},{provide:PF,useFactory:DJ,deps:[[rr,new fn,new fh]]},{provide:tp,useValue:r||{}},r?.useHash?{provide:Qo,useClass:k7}:{provide:Qo,useClass:Bk},{provide:kw,useFactory:()=>{const t=L(Q8),e=L(Me),n=L(tp),r=L(ep),i=L(Qc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new MF(i,r,t,e,n)}},r?.preloadingStrategy?mJ(r.preloadingStrategy).\u0275providers:[],{provide:dk,multi:!0,useFactory:vJ},r?.initialNavigation?CJ(r):[],r?.bindToComponentInputs?Ii(8,[uF,{provide:Qf,useExisting:uF}]).\u0275providers:[],[{provide:FF,useFactory:NF},{provide:iv,multi:!0,useExisting:FF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ja,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(H(PF,8))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({}),t})();function DJ(t){return"guarded"}function CJ(t){return["disabled"===t.initialNavigation?Ii(3,[{provide:Q_,multi:!0,useFactory:()=>{const e=L(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Pw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ii(2,[{provide:Pw,useValue:0},{provide:Q_,multi:!0,deps:[Gn],useFactory:e=>{const n=e.get(N7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(rr),o=e.get(RF);SF(i,()=>{r(!0)}),e.get(ep).afterPreactivation=()=>(r(!0),o.closed?ne(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new U(""),TJ=[];let SJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({imports:[OF.forRoot(TJ),OF]}),t})();function LF(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){LF(o,r,i,s,a,"next",u)}function a(u){LF(o,r,i,s,a,"throw",u)}s(void 0)})}}const VF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new NJ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const np=function(t){return function(t){const e=VF(t);return Fw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rp=function(t){try{return Fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ip=()=>{try{return function PJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},BF=t=>{var e,n;return null===(n=null===(e=ip())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},$F=()=>{var t;return null===(t=ip())||void 0===t?void 0:t.config},jF=t=>{var e;return null===(e=ip())||void 0===e?void 0:e[`_${t}`]};class op{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Lw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function is(){try{return"object"==typeof indexedDB}catch{return!1}}function al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Vw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function zJ(t,e){return t.replace(qJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ir(i,`${this.serviceName}: ${s} (${i}).`,r)}}const qJ=/\{\$([^}]+)}/g;function ap(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GF(o)&&GF(s)){if(!ap(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GF(t){return null!==t&&"object"==typeof t}function up(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class QJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function YJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Uw),void 0===i.error&&(i.error=Uw),void 0===i.complete&&(i.complete=Uw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(){}const XJ=1e3,JJ=2,ZJ=144e5,eZ=.5;function $w(t,e=XJ,n=JJ){const r=e*Math.pow(n,t),i=Math.round(eZ*r*(Math.random()-.5)*2);return Math.min(ZJ,r+i)}function yn(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const os="[DEFAULT]";class nZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new op;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function iZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===os?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const jw=[];var X=(()=>((X=X||{})[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X))();const zF={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},sZ=X.INFO,aZ={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},uZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=aZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ha{constructor(e){this.name=e,this._logLevel=sZ,this._logHandler=uZ,this._userLogHandler=null,jw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const cZ=(t,e)=>e.some(n=>t instanceof n);let qF,WF;const KF=new WeakMap,Hw=new WeakMap,QF=new WeakMap,Gw=new WeakMap,zw=new WeakMap;let qw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mZ(t){return"function"==typeof t?function gZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dZ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ww(this),e),oo(KF.get(this))}:function(...e){return oo(t.apply(Ww(this),e))}:function(e,...n){const r=t.call(Ww(this),e,...n);return QF.set(r,e.sort?e.sort():[e]),oo(r)}}(t):(t instanceof IDBTransaction&&function fZ(t){if(Hw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hw.set(t,e)}(t),cZ(t,function lZ(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qw):t)}function oo(t){if(t instanceof IDBRequest)return function hZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KF.set(n,t)}).catch(()=>{}),zw.set(e,t),e}(t);if(Gw.has(t))return Gw.get(t);const e=mZ(t);return e!==t&&(Gw.set(t,e),zw.set(e,t)),e}const Ww=t=>zw.get(t),_Z=["get","getKey","getAll","getAllKeys","count"],vZ=["put","add","delete","clear"],Kw=new Map;function YF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Kw.get(e))return Kw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_Z.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Kw.set(e,o),o}!function pZ(t){qw=t(qw)}(t=>({...t,get:(e,n,r)=>YF(e,n)||t.get(e,n,r),has:(e,n)=>!!YF(e,n)||t.has(e,n)}));class wZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function IZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Qw="@firebase/app",ss=new Ha("@firebase/app"),cp="[DEFAULT]",WZ={[Qw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},as=new Map,lp=new Map;function KZ(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _n(t){const e=t.name;if(lp.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of as.values())KZ(n,t);return!0}function Ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ei=new $r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class YZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const us="9.22.0";function Yw(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=$F()),!n)throw Ei.create("no-options");const o=as.get(i);if(o){if(ap(n,o.options)&&ap(r,o.config))return o;throw Ei.create("duplicate-app",{appName:i})}const s=new oZ(i);for(const u of lp.values())s.addComponent(u);const a=new YZ(n,r,s);return as.set(i,a),a}function Xw(t=cp){const e=as.get(t);if(!e&&t===cp&&$F())return Yw();if(!e)throw Ei.create("no-app",{appName:t});return e}function JF(){return Array.from(as.values())}function et(t,e,n){var r;let i=null!==(r=WZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ss.warn(a.join(" "))}_n(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const XZ="firebase-heartbeat-database",JZ=1,ll="firebase-heartbeat-store";let Zw=null;function ZF(){return Zw||(Zw=function yZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=oo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(oo(s.result),u.oldVersion,u.newVersion,oo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(XZ,JZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ll)}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Zw}function eI(){return(eI=g(function*(t){try{return yield(yield ZF()).transaction(ll).objectStore(ll).get(tL(t))}catch(e){if(e instanceof ir)ss.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});ss.warn(n.message)}}})).apply(this,arguments)}function eL(t,e){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(t,e){try{const r=(yield ZF()).transaction(ll,"readwrite");yield r.objectStore(ll).put(e,tL(t)),yield r.done}catch(n){if(n instanceof ir)ss.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n?.message});ss.warn(r.message)}}})).apply(this,arguments)}function tL(t){return`${t.name}!${t.options.appId}`}class nee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nL(),{heartbeatsToSend:r,unsentEntries:i}=function ree(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=np(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function nL(){return(new Date).toISOString().substring(0,10)}class iee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!is()&&al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ZZ(t){return eI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rL(t){return np(JSON.stringify({version:2,heartbeats:t})).length}!function oee(t){_n(new rn("platform-logger",e=>new wZ(e),"PRIVATE")),_n(new rn("heartbeat",e=>new nee(e),"PRIVATE")),et(Qw,"0.9.10",t),et(Qw,"0.9.10","esm2017"),et("fire-js","")}(""),et("firebase","9.22.0","app");const uee=(t,e)=>e.some(n=>t instanceof n);let iL,oL;const sL=new WeakMap,nI=new WeakMap,aL=new WeakMap,rI=new WeakMap,iI=new WeakMap;let oI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gee(t){return"function"==typeof t?function pee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lee(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sI(this),e),so(sL.get(this))}:function(...e){return so(t.apply(sI(this),e))}:function(e,...n){const r=t.call(sI(this),e,...n);return aL.set(r,e.sort?e.sort():[e]),so(r)}}(t):(t instanceof IDBTransaction&&function hee(t){if(nI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nI.set(t,e)}(t),uee(t,function cee(){return iL||(iL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,oI):t)}function so(t){if(t instanceof IDBRequest)return function dee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(so(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),iI.set(e,t),e}(t);if(rI.has(t))return rI.get(t);const e=gee(t);return e!==t&&(rI.set(t,e),iI.set(e,t)),e}const sI=t=>iI.get(t),yee=["get","getKey","getAll","getAllKeys","count"],_ee=["put","add","delete","clear"],aI=new Map;function uL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aI.get(e))return aI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_ee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yee.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return aI.set(e,o),o}!function fee(t){oI=t(oI)}(t=>({...t,get:(e,n,r)=>uL(e,n)||t.get(e,n,r),has:(e,n)=>!!uL(e,n)||t.has(e,n)}));const cL="@firebase/installations",uI="0.6.4",lL=1e4,dL=`w:${uI}`,hL="FIS_v2",vee="https://firebaseinstallations.googleapis.com/v1",wee=36e5,Di=new $r("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fL(t){return t instanceof ir&&t.code.includes("request-failed")}function cI({projectId:t}){return`${vee}/projects/${t}/installations`}function pL(t){return{token:t.token,requestStatus:2,expiresIn:Cee(t.expiresIn),creationTime:Date.now()}}function lI(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){const r=(yield e.json()).error;return Di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function gL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hI(t){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Cee(t){return Number(t.replace("s","000"))}function pI(){return(pI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cI(t),i=gL(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hL,appId:t.appId,sdkVersion:dL})},u=yield hI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:pL(c.authToken)}}throw yield lI("Create Installation",u)})).apply(this,arguments)}function yL(t){return new Promise(e=>{setTimeout(e,t)})}const Aee=/^[cdef][\w-]{21}$/,gI="";function Mee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xee(t){return function See(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Aee.test(n)?n:gI}catch{return gI}}function za(t){return`${t.appName}!${t.appId}`}const qa=new Map;function _L(t,e){const n=za(t);vL(n,e),function kee(t,e){const n=function wL(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{vL(t.data.key,t.data.fid)}),cs}();n&&n.postMessage({key:t,fid:e}),function IL(){0===qa.size&&cs&&(cs.close(),cs=null)}()}(n,e)}function vL(t,e){const n=qa.get(t);if(n)for(const r of n)r(e)}let cs=null;const Pee="firebase-installations-database",Oee=1,ls="firebase-installations-store";let mI=null;function yI(){return mI||(mI=function mee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=so(s);return r&&s.addEventListener("upgradeneeded",u=>{r(so(s.result),u.oldVersion,u.newVersion,so(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Pee,Oee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ls)}})),mI}function dp(t,e){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(t,e){const n=za(t),i=(yield yI()).transaction(ls,"readwrite"),o=i.objectStore(ls),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&_L(t,e.fid),e})).apply(this,arguments)}function vI(t){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t){const e=za(t),r=(yield yI()).transaction(ls,"readwrite");yield r.objectStore(ls).delete(e),yield r.done})).apply(this,arguments)}function dl(t,e){return II.apply(this,arguments)}function II(){return(II=g(function*(t,e){const n=za(t),i=(yield yI()).transaction(ls,"readwrite"),o=i.objectStore(ls),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&_L(t,a.fid),a})).apply(this,arguments)}function EI(t){return DI.apply(this,arguments)}function DI(){return DI=g(function*(t){let e;const n=yield dl(t.appConfig,r=>{const i=function Fee(t){return DL(t||{fid:Mee(),registrationStatus:0})}(r),o=function Lee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Di.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Vee(t,e){return CI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Uee(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===gI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),DI.apply(this,arguments)}function CI(){return CI=g(function*(t,e){try{const n=yield function Tee(t,e){return pI.apply(this,arguments)}(t,e);return dp(t.appConfig,n)}catch(n){throw fL(n)&&409===n.customData.serverCode?yield vI(t.appConfig):yield dp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),CI.apply(this,arguments)}function Uee(t){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t){let e=yield EL(t.appConfig);for(;1===e.registrationStatus;)yield yL(100),e=yield EL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield EI(t);return r||n}return e})).apply(this,arguments)}function EL(t){return dl(t,e=>{if(!e)throw Di.create("installation-not-found");return DL(e)})}function DL(t){return function Bee(t){return 1===t.registrationStatus&&t.registrationTime+lL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function TI(){return(TI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function jee(t,{fid:e}){return`${cI(t)}/${e}/authTokens:generate`}(t,n),i=function mL(t,{refreshToken:e}){const n=gL(t);return n.append("Authorization",function bee(t){return`${hL} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dL,appId:t.appId}})},u=yield hI(()=>fetch(r,a));if(u.ok)return pL(yield u.json());throw yield lI("Generate Auth Token",u)})).apply(this,arguments)}function SI(t){return AI.apply(this,arguments)}function AI(){return AI=g(function*(t,e=!1){let n;const r=yield dl(t.appConfig,o=>{if(!bL(o))throw Di.create("not-registered");const s=o.authToken;if(!e&&function zee(t){return 2===t.requestStatus&&!function qee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wee}(t)}(s))return o;if(1===s.requestStatus)return n=function Hee(t,e){return MI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Di.create("app-offline");const a=function Wee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Gee(t,e){return xI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),AI.apply(this,arguments)}function MI(){return(MI=g(function*(t,e){let n=yield CL(t.appConfig);for(;1===n.authToken.requestStatus;)yield yL(100),n=yield CL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?SI(t,e):r})).apply(this,arguments)}function CL(t){return dl(t,e=>{if(!bL(e))throw Di.create("not-registered");return function Kee(t){return 1===t.requestStatus&&t.requestTime+lL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function xI(){return xI=g(function*(t,e){try{const n=yield function $ee(t,e){return TI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dp(t.appConfig,r),n}catch(n){if(!fL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dp(t.appConfig,r)}else yield vI(t.appConfig);throw n}}),xI.apply(this,arguments)}function bL(t){return void 0!==t&&2===t.registrationStatus}function NI(){return(NI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield EI(e);return r?r.catch(console.error):SI(e).catch(console.error),n.fid})).apply(this,arguments)}function RI(){return RI=g(function*(t,e=!1){const n=t;return yield function Xee(t){return kI.apply(this,arguments)}(n),(yield SI(n,e)).token}),RI.apply(this,arguments)}function kI(){return(kI=g(function*(t){const{registrationPromise:e}=yield EI(t);e&&(yield e)})).apply(this,arguments)}function FI(t){return Di.create("missing-app-config-values",{valueName:t})}const TL="installations",nte=t=>{const e=t.getProvider("app").getImmediate(),n=function ete(t){if(!t||!t.options)throw FI("App Configuration");if(!t.name)throw FI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw FI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ga(e,"heartbeat"),_delete:()=>Promise.resolve()}},rte=t=>{const n=Ga(t.getProvider("app").getImmediate(),TL).getImmediate();return{getId:()=>function Qee(t){return NI.apply(this,arguments)}(n),getToken:i=>function Yee(t){return RI.apply(this,arguments)}(n,i)}};(function ite(){_n(new rn(TL,nte,"PUBLIC")),_n(new rn("installations-internal",rte,"PRIVATE"))})(),et(cL,uI),et(cL,uI,"esm2017");const LI="@firebase/remote-config",kn=new $r("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function mte(t=navigator){return t.languages&&t.languages[0]||t.language}class yte{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:mte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),kn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw kn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw kn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class wte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function _te(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function vte(t){if(!(t instanceof ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+$w(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class Dte{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fp(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const ds="app_namespace_store";class Ste{constructor(e,n,r,i=function Tte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(fp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ds],"readonly").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(fp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(kn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([ds],"readwrite").objectStore(ds),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(fp(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(kn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ds],"readwrite").objectStore(ds),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(fp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(kn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ate{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xte(){return jI.apply(this,arguments)}function jI(){return(jI=g(function*(){if(!is())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}!function Mte(){_n(new rn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!is())throw kn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw kn.create("registration-project-id");if(!s)throw kn.create("registration-api-key");if(!a)throw kn.create("registration-app-id");const u=new Ste(a,r.name,n=n||"firebase"),c=new Ate(u),l=new Ha(LI);l.logLevel=X.ERROR;const d=new yte(i,us,n,o,s,a),h=new wte(d,u),f=new gte(h,u,c,l),p=new Dte(r,f,c,u,l);return function hte(t){const e=yn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(LI,"0.4.4"),et(LI,"0.4.4","esm2017")}();const Nte=(t,e)=>e.some(n=>t instanceof n);let xL,NL;const RL=new WeakMap,HI=new WeakMap,kL=new WeakMap,GI=new WeakMap,zI=new WeakMap;let qI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return HI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vte(t){return"function"==typeof t?function Lte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kte(){return NL||(NL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(WI(this),e),Ci(RL.get(this))}:function(...e){return Ci(t.apply(WI(this),e))}:function(e,...n){const r=t.call(WI(this),e,...n);return kL.set(r,e.sort?e.sort():[e]),Ci(r)}}(t):(t instanceof IDBTransaction&&function Ote(t){if(HI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});HI.set(t,e)}(t),Nte(t,function Rte(){return xL||(xL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qI):t)}function Ci(t){if(t instanceof IDBRequest)return function Pte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RL.set(n,t)}).catch(()=>{}),zI.set(e,t),e}(t);if(GI.has(t))return GI.get(t);const e=Vte(t);return e!==t&&(GI.set(t,e),zI.set(e,t)),e}const WI=t=>zI.get(t);function PL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ci(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ci(s.result),u.oldVersion,u.newVersion,Ci(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function KI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ci(n).then(()=>{})}const Ute=["get","getKey","getAll","getAllKeys","count"],Bte=["put","add","delete","clear"],QI=new Map;function OL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(QI.get(e))return QI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ute.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return QI.set(e,o),o}!function Fte(t){qI=t(qI)}(t=>({...t,get:(e,n,r)=>OL(e,n)||t.get(e,n,r),has:(e,n)=>!!OL(e,n)||t.has(e,n)}));const $te="/firebase-messaging-sw.js",jte="/firebase-cloud-messaging-push-scope",FL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hte="https://fcmregistrations.googleapis.com/v1",LL="google.c.a.c_id",Gte="google.c.a.c_l",zte="google.c.a.ts";var ao=(()=>((ao=ao||{}).PUSH_RECEIVED="push-received",ao.NOTIFICATION_CLICKED="notification-clicked",ao))();function bi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wte(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const YI="fcm_token_details_db",Kte=5,VL="fcm_token_object_Store";function XI(){return XI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(YI))return null;let e=null;return(yield PL(YI,Kte,{upgrade:(r=g(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(VL))return;const c=a.objectStore(VL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:bi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield KI(YI),yield KI("fcm_vapid_details_db"),yield KI("undefined"),function Yte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XI.apply(this,arguments)}const Xte="firebase-messaging-database",Jte=1,hs="firebase-messaging-store";let JI=null;function ZI(){return JI||(JI=PL(Xte,Jte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hs)}})),JI}function UL(t){return eE.apply(this,arguments)}function eE(){return eE=g(function*(t){const e=iE(t),r=yield(yield ZI()).transaction(hs).objectStore(hs).get(e);if(r)return r;{const i=yield function Qte(t){return XI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield tE(t,i),i}}),eE.apply(this,arguments)}function tE(t,e){return nE.apply(this,arguments)}function nE(){return(nE=g(function*(t,e){const n=iE(t),i=(yield ZI()).transaction(hs,"readwrite");return yield i.objectStore(hs).put(e,n),yield i.done,e})).apply(this,arguments)}function rE(){return(rE=g(function*(t){const e=iE(t),r=(yield ZI()).transaction(hs,"readwrite");yield r.objectStore(hs).delete(e),yield r.done})).apply(this,arguments)}function iE({appConfig:t}){return t.appId}const jt=new $r("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tne(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const n=yield cE(t),r=$L(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(uE(t.appConfig),i)).json()}catch(s){throw jt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw jt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw jt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sE(){return(sE=g(function*(t,e){const n=yield cE(t),r=$L(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${uE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw jt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw jt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw jt.create("token-update-no-token");return o.token})).apply(this,arguments)}function BL(t,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e){const r={method:"DELETE",headers:yield cE(t)};try{const o=yield(yield fetch(`${uE(t.appConfig)}/${e}`,r)).json();if(o.error)throw jt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uE({projectId:t}){return`${Hte}/projects/${t}/registrations`}function cE(t){return lE.apply(this,arguments)}function lE(){return(lE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function $L({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==FL&&(i.web.applicationPubKey=r),i}const rne=6048e5;function dE(){return dE=g(function*(t){const e=yield function sne(t,e){return gE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:bi(e.getKey("auth")),p256dh:bi(e.getKey("p256dh"))},r=yield UL(t.firebaseDependencies);if(r){if(function ane(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+rne?function one(t,e){return fE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield BL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return HL(t.firebaseDependencies,n)}return HL(t.firebaseDependencies,n)}),dE.apply(this,arguments)}function hE(){return hE=g(function*(t){const e=yield UL(t.firebaseDependencies);e&&(yield BL(t.firebaseDependencies,e.token),yield function Zte(t){return rE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hE.apply(this,arguments)}function fE(){return fE=g(function*(t,e){try{const n=yield function nne(t,e){return sE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tE(t.firebaseDependencies,r),n}catch(n){throw yield function jL(t){return hE.apply(this,arguments)}(t),n}}),fE.apply(this,arguments)}function HL(t,e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(t,e){const r={token:yield tne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tE(t,r),r.token})).apply(this,arguments)}function gE(){return(gE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wte(e)})})).apply(this,arguments)}function GL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function une(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function cne(t,e){e.data&&(t.data=e.data)}(e,t),function lne(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function zL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mE(t){return jt.create("missing-app-config-values",{valueName:t})}zL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hne(t){if(!t||!t.options)throw mE("App Configuration Object");if(!t.name)throw mE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function yE(){return(yE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register($te,{scope:jte}),t.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function qL(t){return yE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function vE(){return(vE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=FL)})).apply(this,arguments)}function wE(){return wE=g(function*(t,e){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function gne(t,e){return vE.apply(this,arguments)}(t,e?.vapidKey),yield function pne(t,e){return _E.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function ine(t){return dE.apply(this,arguments)}(t)}),wE.apply(this,arguments)}function IE(){return(IE=g(function*(t,e,n){const r=function yne(t){switch(t){case ao.NOTIFICATION_CLICKED:return"notification_open";case ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[LL],message_name:n[Gte],message_time:n[zte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EE(){return EE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ao.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(GL(n)):t.onMessageHandler.next(GL(n)));const r=n.data;(function dne(t){return"object"==typeof t&&!!t&&LL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function mne(t,e,n){return IE.apply(this,arguments)}(t,n.messageType,r))}),EE.apply(this,arguments)}const KL="@firebase/messaging",vne=t=>{const e=new fne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function _ne(t,e){return EE.apply(this,arguments)}(e,n)),e},wne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function WL(t,e){return wE.apply(this,arguments)}(e,r)}};function YL(){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(){try{yield al()}catch{return!1}return typeof window<"u"&&is()&&Vw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ine(){_n(new rn("messaging",vne,"PUBLIC")),_n(new rn("messaging-internal",wne,"PRIVATE")),et(KL,"0.12.4"),et(KL,"0.12.4","esm2017")}();const pp="analytics",Cne="firebase_id",bne="origin",Tne=6e4,Sne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TE="https://www.googletagmanager.com/gtag/js",xt=new Ha("@firebase/analytics"),vn=new $r("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mne(t){if(!t.startsWith(TE)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function XL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SE(){return(SE=g(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield XL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,o)})).apply(this,arguments)}function AE(){return(AE=g(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield XL(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){xt.error(o)}})).apply(this,arguments)}const Vne=30,JL=new class Bne{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $ne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ME(){return(ME=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$ne(r)},o=Sne.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e=JL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Tne),ZL({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function ZL(t,e,n){return NE.apply(this,arguments)}function NE(){return NE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JL){var o;const{appId:s,measurementId:a}=t;try{yield function Gne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function jne(t){return ME.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function zne(t){if(!(t instanceof ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?$w(n,i.intervalMillis,Vne):$w(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),xt.debug(`Calling attemptFetch again in ${l} millis`),ZL(t,d,r,i)}}),NE.apply(this,arguments)}class qne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let RE,UE;function kE(){return(kE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function BE(){return(BE=g(function*(){if(!is())return xt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield al()}catch(t){return xt.warn(vn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function $E(){return $E=g(function*(t,e,n,r,i,o,s){var a;const u=function Hne(t){return xE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=function Zne(){return BE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Lne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(TE)&&n.src.includes(t))return n;return null})(o)||function Nne(t,e){const n=function xne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Mne}),r=document.createElement("script"),i=`${TE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),UE&&(i("consent","default",UE),function e2(t){UE=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[bne]="firebase",h.update=!0,null!=d&&(h[Cne]=d),i("config",l.measurementId,h),RE&&(i("set",RE),function t2(t){RE=t}(void 0)),l.measurementId}),$E.apply(this,arguments)}class tre{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},n2=[];const r2={};let o2,Hr,gp="dataLayer",jE=!1;function rre(t,e,n){!function nre(){const t=[];if(Lw()&&t.push("This is a browser extension environment."),Vw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw vn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw vn.create("already-exists",{id:r});if(!jE){!function Rne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gp);const{wrappedGtag:o,gtagCore:s}=function Fne(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function One(t,e,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function Pne(t,e,n,r,i){return AE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function kne(t,e,n,r,i,o){return SE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){xt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(jr,n2,r2,gp,"gtag");Hr=o,o2=s,jE=!0}return jr[r]=function ere(t,e,n,r,i,o,s){return $E.apply(this,arguments)}(t,n2,r2,e,o2,gp,n),new tre(t)}function ore(){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(){if(Lw()||!Vw()||!is())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}const s2="@firebase/analytics";!function are(){_n(new rn(pp,(e,{options:n})=>rre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),_n(new rn("analytics-internal",function t(e){try{const n=e.getProvider(pp).getImmediate();return{logEvent:(r,i,o)=>function sre(t,e,n,r){t=yn(t),function Wne(t,e,n,r,i){return kE.apply(this,arguments)}(Hr,jr[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,o)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),et(s2,"0.10.0"),et(s2,"0.10.0","esm2017")}();class ure extends Ln{constructor(e,n){super()}schedule(e,n=0){return this}}const mp={setInterval(t,e,...n){const{delegate:r}=mp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=mp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class u2 extends ure{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return mp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&mp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const c2={now:()=>(c2.delegate||Date).now(),delegate:void 0};class hl{constructor(e,n=hl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}hl.now=c2.now;class l2 extends hl{constructor(e,n=hl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const dre=new class lre extends l2{}(class cre extends u2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),hre=new l2(u2),yp=new da("7.5.0"),zE="__angularfire_symbol__analyticsIsSupportedValue",qE="__angularfire_symbol__analyticsIsSupported",WE="__angularfire_symbol__remoteConfigIsSupportedValue",KE="__angularfire_symbol__remoteConfigIsSupported",QE="__angularfire_symbol__messagingIsSupportedValue",YE="__angularfire_symbol__messagingIsSupported";function JE(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[qE]||(globalThis[qE]=ore().then(t=>globalThis[zE]=t).catch(()=>globalThis[zE]=!1)),globalThis[YE]||(globalThis[YE]=YL().then(t=>globalThis[QE]=t).catch(()=>globalThis[QE]=!1)),globalThis[KE]||(globalThis[KE]=xte().then(t=>globalThis[WE]=t).catch(()=>globalThis[WE]=!1));const ZE=(t,e)=>{const n=e?[e]:JF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Wa(){}class d2{constructor(e,n=dre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class fre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)),n.pipe(nn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eD=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new d2(Zone.current)),this.insideAngular=n.run(()=>new d2(Zone.current,hre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(Me))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ps(t){return fs().ngZone.run(()=>t())}function gre(t){return fs(),function mre(t){return function(n){return(n=n.lift(new fre(t.ngZone))).pipe(Vd(t.outsideAngular),Ld(t.insideAngular))}}(fs())(t)}const yre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ps(()=>t.apply(void 0,r))},Gr=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)))),r[o]=yre(r[o],n));const i=function pre(t){return fs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ye){const o=fs();return i.pipe(Vd(o.outsideAngular),Ld(o.insideAngular))}return ps(()=>i)}return i instanceof Ye?i.pipe(gre):i instanceof Promise?ps(()=>new Promise((o,s)=>i.then(a=>ps(()=>o(a)),a=>ps(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ps(()=>i)};class Ka{constructor(e){return e}}class tD{constructor(){return JF()}}const nD=new U("angularfire2._apps"),vre={provide:Ka,useFactory:function _re(t){return t&&1===t.length?t[0]:new Ka(Xw())},deps:[[new fn,nD]]},wre={provide:tD,deps:[[new fn,nD]]};function Ire(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ka(r)}}let Ere=(()=>{class t{constructor(n){et("angularfire",yp.full,"core"),et("angularfire",yp.full,"app"),et("angular",Px.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(Qi))},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[vre,wre]}),t})();function Dre(t,...e){return{ngModule:Ere,providers:[{provide:nD,useFactory:Ire(t),multi:!0,deps:[Me,Gn,eD,...e]}]}}const Cre=Gr(Yw,!0),rD=new Map,h2={activated:!1,tokenObservers:[]},bre={initialized:!1,enabled:!1};function tt(t){return rD.get(t)||Object.assign({},h2)}function _p(){return bre}const iD="https://content-firebaseappcheck.googleapis.com/v1",Mre="exchangeDebugToken",f2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nre{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new op,yield function Rre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new op,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new $r("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aD(){return(aD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Ht.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const Fre="firebase-app-check-database",Lre=1,fl="firebase-app-check-store";let Ep=null;function uD(){return(uD=g(function*(t,e){const r=(yield function m2(){return Ep||(Ep=new Promise((t,e)=>{try{const n=indexedDB.open(Fre,Lre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fl,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),Ep)}()).transaction(fl,"readwrite"),o=r.objectStore(fl).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const pl=new Ha("@firebase/app-check");function dD(t,e){return is()?function Ure(t,e){return function y2(t,e){return uD.apply(this,arguments)}(function v2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{pl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gD(){return(gD=g(function*(){const t=_p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zre={error:"UNKNOWN_ERROR"};function qre(t){return Fw.encodeString(JSON.stringify(t),!1)}function Dp(t){return mD.apply(this,arguments)}function mD(){return(mD=g(function*(t,e=!1){const n=t.app;!function oD(t){if(!tt(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}(n);const r=tt(n);let o,i=r.token;if(i&&!Qa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Qa(u)?i=u:yield dD(n,void 0))}if(!e&&i&&Qa(i))return{token:i.token};let a,s=!1;if(function fD(){return _p().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function Ip(t,e){return aD.apply(this,arguments)}(function p2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${iD}/projects/${n}/apps/${r}:${Mre}?key=${i}`,body:{debug_token:e}}}(n,yield function pD(){return gD.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield dD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield tt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?pl.warn(u.message):pl.error(u),o=u}return i?o?a=Qa(i)?{token:i.token,internalError:o}:E2(o):(a={token:i.token},r.token=i,yield dD(n,i)):a=E2(o),s&&function I2(t,e){const n=tt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function vD(t,e){const n=tt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function w2(t){const{app:e}=t,n=tt(e);let r=n.tokenRefresher;r||(r=function Kre(t){const{app:e}=t;return new Nre(g(function*(){let r;if(r=tt(e).token?yield Dp(t,!0):yield Dp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=tt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},f2.RETRIAL_MIN_WAIT,f2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Qa(t){return t.expireTimeMillis-Date.now()>0}function E2(t){return{token:qre(zre),error:t}}class Qre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=tt(this.app);for(const n of e)vD(this.app,n.next);return Promise.resolve()}}const x2="app-check-internal";!function cie(){_n(new rn("app-check",t=>function Yre(t,e){return new Qre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(x2).initialize()})),_n(new rn(x2,t=>function Xre(t){return{getToken:e=>Dp(t,e),addTokenListener:e=>function _D(t,e,n,r){const{app:i}=t,o=tt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Qa(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),w2(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>w2(t))}(t,"INTERNAL",e),removeTokenListener:e=>vD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.7.0")}();class DD{constructor(){return ZE("app-check")}}typeof window<"u"&&window;const pie=function R2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},k2=new $r("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bp=new Ha("@firebase/auth");function Tp(t,...e){bp.logLevel<=X.ERROR&&bp.error(`Auth (${us}): ${t}`,...e)}function Pn(t,...e){throw bD(t,...e)}function zr(t,...e){return bD(t,...e)}function bD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return k2.create(t,...e)}function A(t,e,...n){if(!t)throw bD(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function uo(t,e){t||qr(e)}function gl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function O2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=function BJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}()||function jJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function mie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function TD(){return"http:"===O2()||"https:"===O2()}()||Lw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function SD(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class F2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vie=new ml(3e4,6e4);function Ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nt(t,e,n,r){return AD.apply(this,arguments)}function AD(){return(AD=g(function*(t,e,n,r,i={}){return L2(t,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=up(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),F2.fetch()(V2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function L2(t,e,n){return MD.apply(this,arguments)}function MD(){return(MD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_ie),e);try{const i=new wie(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw yl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw yl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw yl(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw yl(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function P2(t,e,n){const r=Object.assign(Object.assign({},pie()),{[e]:n});return new $r("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Pn(t,l)}}catch(i){if(i instanceof ir)throw i;Pn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ti(t,e,n,r){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n,r,i={}){const o=yield nt(t,e,n,r,i);return"mfaPendingCredential"in o&&Pn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function V2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?SD(t.config,i):`${t.config.apiScheme}://${i}`}class wie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),vie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function ND(){return(ND=g(function*(t,e){return nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kD(){return(kD=g(function*(t,e){return nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function PD(){return(PD=g(function*(t,e=!1){const n=yn(t),r=yield n.getIdToken(e),i=Sp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_l(OD(i.auth_time)),issuedAtTime:_l(OD(i.iat)),expirationTime:_l(OD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function OD(t){return 1e3*Number(t)}function Sp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=rp(n);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Si(t,e){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ir&&function Tie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Sie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class U2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vl(t){return LD.apply(this,arguments)}function LD(){return LD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Si(t,function Die(t,e){return kD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function xie(t){return t.map(e=>{var{providerId:n}=e,r=GS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Mie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new U2(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),LD.apply(this,arguments)}function VD(){return(VD=g(function*(t){const e=yn(t);yield vl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UD(){return(UD=g(function*(t,e){const n=yield L2(t,{},g(function*(){const r=up({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=V2(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F2.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function bie(t){const e=Sp(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Nie(t,e){return UD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wl;return r&&(A("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(A("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return qr("not implemented")}}function co(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=GS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new U2(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Cie(t){return PD.apply(this,arguments)}(this,e)}reload(){return function Aie(t){return VD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Si(e,function Iie(t,e){return ND.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:F,isAnonymous:B,providerData:le,stsTokenManager:_t}=n;A(C&&_t,e,"internal-error");const Bi=wl.fromJSON(this.name,_t);A("string"==typeof C,e,"internal-error"),co(d,e.name),co(h,e.name),A("boolean"==typeof F,e,"internal-error"),A("boolean"==typeof B,e,"internal-error"),co(f,e.name),co(p,e.name),co(m,e.name),co(y,e.name),co(w,e.name),co(_,e.name);const Lu=new gs({uid:C,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Bi,createdAt:w,lastLoginAt:_});return le&&Array.isArray(le)&&(Lu.providerData=le.map(jhe=>Object.assign({},jhe))),y&&(Lu._redirectEventId=y),Lu}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new wl;i.updateFromServerResponse(n);const o=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vl(o),o})()}}const B2=new Map;function Ai(t){uo(t instanceof Function,"Expected a class definition");let e=B2.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B2.set(t,e),e)}const $2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ap(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ap("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?gs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Xa(Ai($2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Ai($2);const s=Ap(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=gs._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Xa(o,e,r)):new Xa(o,e,r)})()}}function j2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(K2(e))return"Webos";if(BD(e))return"Safari";if((e.includes("chrome/")||G2(e))&&!e.includes("edge/"))return"Chrome";if(q2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function H2(t=Mt()){return/firefox\//i.test(t)}function BD(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G2(t=Mt()){return/crios\//i.test(t)}function z2(t=Mt()){return/iemobile/i.test(t)}function q2(t=Mt()){return/android/i.test(t)}function W2(t=Mt()){return/blackberry/i.test(t)}function K2(t=Mt()){return/webos/i.test(t)}function Mp(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q2(t=Mt()){return Mp(t)||q2(t)||K2(t)||W2(t)||/windows phone/i.test(t)||z2(t)}function Y2(t,e=[]){let n;switch(t){case"Browser":n=j2(Mt());break;case"Worker":n=`${j2(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}function X2(t,e){return jD.apply(this,arguments)}function jD(){return(jD=g(function*(t,e){return nt(t,"GET","/v2/recaptchaConfig",Ke(t,e))})).apply(this,arguments)}function Z2(t){return void 0!==t&&void 0!==t.enterprise}class eV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function HD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Fie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function tV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class nV{constructor(e){this.type="recaptcha-enterprise",this.auth=Nt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){X2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new eV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;Z2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&Z2(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));HD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function lo(t,e,n){return GD.apply(this,arguments)}function GD(){return(GD=g(function*(t,e,n,r=!1){const i=new nV(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Bie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class $ie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rV(this),this.idTokenSubscription=new rV(this),this.beforeStateQueue=new Bie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Xa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield vl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function yie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?yn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ai(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield X2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new nV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ai(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Xa.create(n,[Ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return A(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function gie(t,...e){bp.logLevel<=X.WARN&&bp.warn(`Auth (${us}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Nt(t){return yn(t)}class rV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function KJ(t,e){const n=new QJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function iV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class sV{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}function uV(t,e){return qD.apply(this,arguments)}function qD(){return(qD=g(function*(t,e){return nt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function KD(t,e){return QD.apply(this,arguments)}function QD(){return(QD=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithPassword",Ke(t,e))})).apply(this,arguments)}function rC(){return(rC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}function iC(){return(iC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithEmailLink",Ke(t,e))})).apply(this,arguments)}class Il extends sV{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield lo(e,i,"signInWithPassword");return KD(e,o)}return KD(e,i).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield lo(e,i,"signInWithPassword");return KD(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Yie(t,e){return rC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Pn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return uV(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Xie(t,e){return iC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Pn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Mi(t,e){return oC.apply(this,arguments)}function oC(){return(oC=g(function*(t,e){return Ti(t,"POST","/v1/accounts:signInWithIdp",Ke(t,e))})).apply(this,arguments)}class Cl{constructor(e){var n,r,i,o,s,a;const u=ul(cl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function ioe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ooe(t){const e=ul(cl(t)).link,n=e?ul(cl(e)).deep_link_id:null,r=ul(cl(t)).deep_link_id;return(r?ul(cl(r)).link:null)||r||n||e||t}(e);try{return new Cl(n)}catch{return null}}}let cV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Il._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Cl.parseLink(r);return A(i,"argument-error"),Il._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ho{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class soe extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const o=yield gs._fromIdTokenResponse(e,r,i),s=lV(r);return new or({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=lV(r);return new or({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function lV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kp extends ir{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kp(e,n,r,i)}}function dV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?kp._fromErrorAndOperation(t,o,e,r):o})}function gC(){return(gC=g(function*(t,e,n=!1){const r=yield Si(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return or._forOperation(t,"link",r)})).apply(this,arguments)}function yC(){return(yC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Si(t,dV(r,i,e,t),n);A(o.idToken,r,"internal-error");const s=Sp(o.idToken);A(s,r,"internal-error");const{sub:a}=s;return A(t.uid===a,r,"user-mismatch"),or._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Pn(r,"user-mismatch"),o}})).apply(this,arguments)}function pV(t,e){return _C.apply(this,arguments)}function _C(){return(_C=g(function*(t,e,n=!1){const r="signIn",i=yield dV(t,r,e),o=yield or._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function wC(){return(wC=g(function*(t,e){return pV(Nt(t),e)})).apply(this,arguments)}function foe(t,e,n){return function vC(t,e){return wC.apply(this,arguments)}(yn(t),cV.credential(e,n))}function Doe(t){return yn(t).signOut()}const Op="__sak";class mV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Noe=(()=>{class t extends mV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aoe(){const t=Mt();return BD(t)||Mp(t)}()&&function Pie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Q2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function kie(){return function HJ(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),yV=(()=>{class t extends mV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let koe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Roe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function KC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Poe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=KC("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function gt(){return window}function QC(){return typeof gt().WorkerGlobalScope<"u"&&"function"==typeof gt().importScripts}function YC(){return(YC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _V="firebaseLocalStorageDb",Fp="firebaseLocalStorage",vV="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(t,e){return t.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function XC(){const t=indexedDB.open(_V,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fp,{keyPath:vV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),yield function Boe(){const t=indexedDB.deleteDatabase(_V);return new Tl(t).toPromise()}(),e(yield XC()))}))})}function wV(t,e,n){return JC.apply(this,arguments)}function JC(){return(JC=g(function*(t,e,n){const r=Lp(t,!0).put({[vV]:e,value:n});return new Tl(r).toPromise()})).apply(this,arguments)}function ZC(){return(ZC=g(function*(t,e){const n=Lp(t,!1).get(e),r=yield new Tl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function IV(t,e){const n=Lp(t,!0).delete(e);return new Tl(n).toPromise()}const Goe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield XC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return QC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=koe._getInstance(function Voe(){return QC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Foe(){return YC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Poe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Loe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield XC();return yield wV(n,Op,"1"),yield IV(n,Op),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>wV(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function $oe(t,e){return ZC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>IV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Lp(s,!1).getAll();return new Tl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();tV("rcb"),new ml(3e4,6e4);class ub extends sV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sse(t){return pV(t.auth,new ub(t),t.bypassAuthState)}function ase(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function fV(t,e){return yC.apply(this,arguments)}(n,new ub(t),t.bypassAuthState)}function use(t){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function pC(t,e){return gC.apply(this,arguments)}(n,new ub(t),t.bypassAuthState)})).apply(this,arguments)}class cse{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sse;case"linkViaPopup":case"linkViaRedirect":return use;case"reauthViaPopup":case"reauthViaRedirect":return ase;default:Pn(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ml(2e3,1e4);const lse="pendingRedirect",Sl=new Map;class dse extends cse{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Sl.get(n.auth._key());if(!r){try{const o=(yield function hse(t,e){return pb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Sl.set(n.auth._key(),r)}return n.bypassAuthState||Sl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function pb(){return(pb=g(function*(t,e){const n=function CV(t){return Ap(lse,t.config.apiKey,t.name)}(e),r=function DV(t){return Ai(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function fse(t,e){Sl.set(t._key(),e)}function bV(t,e){return Ib.apply(this,arguments)}function Ib(){return(Ib=g(function*(t,e,n=!1){const r=Nt(t),i=function ys(t,e){return e?Ai(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new dse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class _se{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function vse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(SV(e))}saveEventToCache(e){this.cachedEventUids.add(SV(e)),this.lastProcessedEventTime=Date.now()}}function SV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Db(){return(Db=g(function*(t,e={}){return nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Ise=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ese=/^https?/;function Cb(){return Cb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function wse(t){return Db.apply(this,arguments)}(t);for(const n of e)try{if(Cse(n))return}catch{}Pn(t,"unauthorized-domain")}),Cb.apply(this,arguments)}function Cse(t){const e=gl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Ese.test(n))return!1;if(Ise.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bse=new ml(3e4,6e4);function MV(){const t=gt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Up=null;const Ase=new ml(5e3,15e3),Mse="__/auth/iframe",xse="emulator/auth/iframe",Nse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kse(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SD(e,xse):`https://${t.config.authDomain}/${Mse}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=Rse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${up(r).slice(1)}`}function bb(){return bb=g(function*(t){const e=yield function Sse(t){return Up=Up||function Tse(t){return new Promise((e,n)=>{var r,i,o;function s(){MV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MV(),n(zr(t,"network-request-failed"))},timeout:bse.get()})}if(null!==(i=null===(r=gt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=gt().gapi)||void 0===o||!o.load){const a=tV("iframefcb");return gt()[a]=()=>{gapi.load?s():n(zr(t,"network-request-failed"))},HD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Up=null,e})}(t),Up}(t),n=gt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:kse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nse,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=zr(t,"network-request-failed"),u=gt().setTimeout(()=>{s(a)},Ase.get());function c(){gt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),bb.apply(this,arguments)}const Ose={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jse="__/auth/handler",Hse="emulator/auth/handler",Gse=encodeURIComponent("fac");function NV(t,e,n,r,i,o){return Tb.apply(this,arguments)}function Tb(){return(Tb=g(function*(t,e,n,r,i,o){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof ho){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function WJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof soe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Gse}=${encodeURIComponent(u)}`:"";return`${function zse({config:t}){return t.emulator?SD(t,Hse):`https://${t.authDomain}/${jse}`}(t)}?${up(a).slice(1)}${c}`})).apply(this,arguments)}const Sb="webStorageSupport",Wse=class qse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yV,this._completeRedirectFn=bV,this._overrideRedirectResult=fse}_openPopup(e,n,r,i){var o=this;return g(function*(){var s;uo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield NV(e,n,r,gl(),i);return function Bse(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ose),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Mt().toLowerCase();n&&(a=G2(c)?"_blank":n),H2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Rie(t=Mt()){var e;return Mp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function $se(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new xV(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new xV(d)}(e,a,KC())})()}_openRedirect(e,n,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Ooe(t){gt().location.href=t}(yield NV(e,n,r,gl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(uo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Pse(t){return bb.apply(this,arguments)}(e),i=new _se(e);return r.register("authEvent",o=>(A(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sb,{type:Sb},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[Sb];void 0!==s&&n(!!s),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Dse(t){return Cb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q2()||BD()||Mp()}};var PV="@firebase/auth";class Kse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jse=jF("authIdTokenMaxAge")||300;let FV=null;const Zse=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Jse)return;const o=r?.token;FV!==o&&(FV=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function LV(t=Xw()){const e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function jie(t,e){const n=Ga(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ap(n.getOptions(),e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Wse,persistence:[Goe,Noe,yV]}),r=jF("authTokenSyncURL");if(r){const o=Zse(r);(function Eoe(t,e,n){yn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function Ioe(t,e,n,r){yn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=BF("auth");return i&&function Gie(t,e,n){const r=Nt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=iV(e),{host:s,port:a}=function zie(t){const e=iV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:oV(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:oV(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function qie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Yse(t){_n(new rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y2(t)},c=new $ie(r,i,o,u);return function Hie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_n(new rn("auth-internal",e=>{const n=Nt(e.getProvider("auth").getImmediate());return new Kse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(PV,"0.23.2",function Qse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),et(PV,"0.23.2","esm2017")}("Browser");class xi{constructor(e){return e}}class UV{constructor(){return ZE("auth")}}const Mb=new U("angularfire2.auth-instances");function tae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xi(r)}}const nae={provide:UV,deps:[[new fn,Mb]]},rae={provide:xi,useFactory:function eae(t,e){const n=JE("auth",t,e);return n&&new xi(n)},deps:[[new fn,Mb],Ka]};let iae=(()=>{class t{constructor(){et("angularfire",yp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[rae,nae]}),t})();function oae(t,...e){return{ngModule:iae,providers:[{provide:Mb,useFactory:tae(t),multi:!0,deps:[Me,Gn,eD,tD,[new fn,DD],...e]}]}}const sae=Gr(LV,!0),aae=Gr(foe,!0),uae=Gr(Doe,!0);let cae=(()=>{class t{constructor(n=L(xi)){this.auth=n,this.isAuthenticated=!1,this.isAuthenticated=!!n.currentUser}}return t.\u0275fac=function(n){return new(n||t)(H(xi))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Al=(()=>{class t{constructor(){this.modals=[]}register(n){this.modals.push({id:n,visible:!1})}unregister(n){this.modals=this.modals.filter(r=>r.id!==n)}toggleModal(n){const r=this.modals.find(i=>i.id===n);r&&(r.visible=!r.visible)}isModalOpen(n){return!!this.modals.find(r=>r.id===n)?.visible}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lae=(()=>{class t{constructor(n){this.modal=n}openModal(){this.modal.toggleModal("auth")}}return t.\u0275fac=function(n){return new(n||t)(D(Al))},t.\u0275cmp=oi({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"fixed","inset-0","flex","flex-col","justify-center","items-center"],[1,"text-2xl","font-bold","m-1"],[1,"bg-blue-500","rounded-lg","text-white","text-sm","w-20","h-6","hover:bg-blue-600",3,"click"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"h1",1),z(2,"FFC NUTRITION INC."),N(),O(3,"button",2),Be("click",function(){return r.openModal()}),z(4," SIGN IN "),N()())}}),t})();const dae=[[["","heading",""]],"*"],hae=function(t){return{hidden:t}},fae=["[heading]","*"];let BV=(()=>{class t{constructor(n){this.modal=n,this.modalID=""}closeModal(){this.modal.toggleModal(this.modalID)}}return t.\u0275fac=function(n){return new(n||t)(D(Al))},t.\u0275cmp=oi({type:t,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:fae,decls:7,vars:3,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-gray-700","bg-opacity-50",3,"ngClass"],[1,"bg-white","rounded-lg","p-4","max-h-96","w-fit","min-w-fit","overflow-auto"],[1,"flex","justify-between","items-center","pb-4"],[1,"cursor-pointer","z-50","ml-4",3,"click"]],template:function(n,r){1&n&&(function $N(t){const e=E()[dt][Xt];if(!e.projection){const r=e.projection=ec(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?k6(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(dae),O(0,"div",0)(1,"div",1)(2,"div",2),v_(3),O(4,"div",3),Be("click",function(){return r.closeModal()}),z(5,"\u2715 "),N()(),v_(6,1),N()()),2&n&&de("ngClass",function pR(t,e,n,r){return gR(E(),dn(),t,e,n,r)}(1,hae,!r.modal.isModalOpen(r.modalID)))},dependencies:[Xk]}),t})();function pae(t,e){1&t&&(O(0,"p",3),z(1," Field is required. "),N())}function gae(t,e){1&t&&(O(0,"p",3),z(1,"Invalid email."),N())}function mae(t,e){if(1&t&&(dr(0),Fe(1,pae,2,0,"p",2),Fe(2,gae,2,0,"p",2),hr()),2&t){const n=en();te(1),de("ngIf",null==n.control.errors?null:n.control.errors.required),te(1),de("ngIf",null==n.control.errors?null:n.control.errors.email)}}let $V=(()=>{class t{constructor(){this.control=new Rn,this.type="text",this.placeholder=""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=oi({type:t,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder"},decls:2,vars:4,consts:[[1,"border","py-2","px-3","bg-transparent","block","rounded","w-full",3,"formControl","type","placeholder"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(n,r){1&n&&(qe(0,"input",0),Fe(1,mae,3,2,"ng-container",1)),2&n&&(de("formControl",r.control)("type",r.type)("placeholder",r.placeholder),te(1),de("ngIf",r.control.touched&&r.control.dirty))},dependencies:[If,Vc,zv,rw]}),t})(),yae=(()=>{class t{constructor(n,r=L(xi)){this.modal=n,this.auth=r,this.email=new Rn("",[Nn.required,Nn.email]),this.password=new Rn("",[Nn.required]),this.loginForm=new ka({email:this.email,password:this.password}),this.inSubmission=!1}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}login(){var n=this;return g(function*(){n.inSubmission=!0;try{const r=n.loginForm.value.email??"",i=n.loginForm.value.password??"";yield aae(n.auth,r,i),location.reload()}catch(r){return n.inSubmission=!1,void console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(xi))},t.\u0275cmp=oi({type:t,selectors:[["app-auth-modal"]],decls:11,vars:4,consts:[["modalID","auth"],["heading","",1,"text-xl","font-bold"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["type","email","placeholder","Email",1,"w-64",3,"control"],["type","password","placeholder","Password",1,"w-64",3,"control"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"]],template:function(n,r){1&n&&(O(0,"app-modal",0)(1,"p",1),z(2,"Sign In"),N(),O(3,"div",2)(4,"form",3),Be("ngSubmit",function(){return r.login()}),O(5,"div",4),qe(6,"app-input",5),N(),O(7,"div",4),qe(8,"app-input",6),N(),O(9,"button",7),z(10," Submit "),N()()()()),2&n&&(te(4),de("formGroup",r.loginForm),te(2),de("control",r.email),te(2),de("control",r.password),te(1),de("disabled",r.loginForm.invalid||r.inSubmission))},dependencies:[BV,$V,Ff,Sf,Gc]}),t})();var P,_ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},xb=xb||{},re=_ae||self;function $p(){}function jp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ml(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Nb="closure_uid_"+(1e9*Math.random()>>>0),wae=0;function Iae(t,e,n){return t.call.apply(t.bind,arguments)}function Eae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Iae:Eae).apply(null,arguments)}function Hp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function fo(){this.s=this.s,this.o=this.o}fo.prototype.s=!1,fo.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function vae(t){Object.prototype.hasOwnProperty.call(t,Nb)&&t[Nb]||(t[Nb]=++wae)}(this)},fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jp(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var Cae=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",$p,e),re.removeEventListener("test",$p,e)}catch{}return t}();function Gp(t){return/^[\s\xa0]*$/.test(t)}var GV=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kb(t,e){return t<e?-1:t>e?1:0}function zp(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return-1!=zp().indexOf(t)}function Pb(t){return Pb[" "](t),t}function zV(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}Pb[" "]=$p;var qp,t,bae=Wr("Opera"),Za=Wr("Trident")||Wr("MSIE"),qV=Wr("Edge"),Ob=qV||Za,WV=Wr("Gecko")&&!(-1!=zp().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),Tae=-1!=zp().toLowerCase().indexOf("webkit")&&!Wr("Edge");function KV(){var t=re.document;return t?t.documentMode:void 0}e:{var Fb="",Lb=(t=zp(),WV?/rv:([^\);]+)(\)|;)/.exec(t):qV?/Edge\/([\d\.]+)/.exec(t):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Tae?/WebKit\/(\S+)/.exec(t):bae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Lb&&(Fb=Lb?Lb[1]:""),Za){var Vb=KV();if(null!=Vb&&Vb>parseFloat(Fb)){qp=String(Vb);break e}}qp=Fb}var Sae={},Mae=re.document&&Za&&(KV()||parseInt(qp,10))||void 0;function xl(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WV){e:{try{Pb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xl.$.h.call(this)}}Rt(xl,sn);var xae={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),Nae=0;function Rae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Nae,this.fa=this.ia=!1}function Wp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Bb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YV(t){const e={};for(const n in t)e[n]=t[n];return e}const XV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<XV.length;o++)n=XV[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kp(t){this.src=t,this.g={},this.h=0}function $b(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=jV(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Wp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function jb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Kp.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=jb(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Rae(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var Hb="closure_lm_"+(1e6*Math.random()|0),Gb={};function ZV(t,e,n,r,i){if(r&&r.once)return tU(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZV(t,e[o],n,r,i);return null}return n=Kb(n),t&&t[Nl]?t.O(e,n,Ml(r)?!!r.capture:!!r,i):eU(t,e,n,!1,r,i)}function eU(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ml(i)?!!i.capture:!!i,a=qb(t);if(a||(t[Hb]=a=new Kp(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function kae(){const e=Pae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cae||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function tU(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tU(t,e[o],n,r,i);return null}return n=Kb(n),t&&t[Nl]?t.P(e,n,Ml(r)?!!r.capture:!!r,i):eU(t,e,n,!0,r,i)}function nU(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nU(t,e[o],n,r,i);else r=Ml(r)?!!r.capture:!!r,n=Kb(n),t&&t[Nl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=jb(o=t.g[e],n,r,i))&&(Wp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=qb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jb(e,n,r,i)),(n=-1<t?e[t]:null)&&zb(n))}function zb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nl])$b(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qb(e))?($b(n,t),0==n.h&&(n.src=null,e[Hb]=null)):Wp(t)}}}function rU(t){return t in Gb?Gb[t]:Gb[t]="on"+t}function Pae(t,e){if(t.fa)t=!0;else{e=new xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zb(t),t=n.call(r,e)}return t}function qb(t){return(t=t[Hb])instanceof Kp?t:null}var Wb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kb(t){return"function"==typeof t?t:(t[Wb]||(t[Wb]=function(e){return t.handleEvent(e)}),t[Wb])}function kt(){fo.call(this),this.i=new Kp(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;JV(e=new sn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Qp(s,r,!0,e)&&i}if(i=Qp(s=e.g=t,r,!0,e)&&i,i=Qp(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Qp(s=e.g=n[o],r,!1,e)&&i}function Qp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&$b(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(kt,fo),kt.prototype[Nl]=!0,kt.prototype.removeEventListener=function(t,e,n,r){nU(this,t,e,n,r)},kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wp(n[r]);delete t.g[e],t.h--}}this.J=null},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Qb=re.JSON.stringify;function Oae(){var t=sU;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Yb,iU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Lae,t=>t.reset());class Lae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vae(t){re.setTimeout(()=>{throw t},0)}function oU(t,e){Yb||function Uae(){var t=re.Promise.resolve(void 0);Yb=function(){t.then(Bae)}}(),Xb||(Yb(),Xb=!0),sU.add(t,e)}var Xb=!1,sU=new class Fae{constructor(){this.h=this.g=null}add(e,n){const r=iU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Bae(){for(var t;t=Oae();){try{t.h.call(t.g)}catch(n){Vae(n)}var e=iU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xb=!1}function Yp(t,e){kt.call(this),this.h=t||1,this.g=e||re,this.j=on(this.qb,this),this.l=Date.now()}function Jb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Zb(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function aU(t){t.g=Zb(()=>{t.g=null,t.i&&(t.i=!1,aU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(Yp,kt),(P=Yp.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(Jb(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){Yp.$.N.call(this),Jb(this),delete this.g};class $ae extends fo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aU(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(t){fo.call(this),this.h=t,this.g={}}Rt(Rl,fo);var uU=[];function cU(t,e,n,r){Array.isArray(n)||(n&&(uU[0]=n.toString()),n=uU);for(var i=0;i<n.length;i++){var o=ZV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function lU(t){Bb(t.g,function(e,n){this.g.hasOwnProperty(n)&&zb(e)},t),t.g={}}function Xp(){this.g=!0}function eu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Rl.prototype.N=function(){Rl.$.N.call(this),lU(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xp.prototype.Ea=function(){this.g=!1},Xp.prototype.info=function(){};var _s={},dU=null;function Jp(){return dU=dU||new kt}function hU(t){sn.call(this,_s.Ta,t)}function kl(t){const e=Jp();Gt(e,new hU(e))}function fU(t,e){sn.call(this,_s.STAT_EVENT,t),this.stat=e}function wn(t){const e=Jp();Gt(e,new fU(e,t))}function pU(t,e){sn.call(this,_s.Ua,t),this.size=e}function Pl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}_s.Ta="serverreachability",Rt(hU,sn),_s.STAT_EVENT="statevent",Rt(fU,sn),_s.Ua="timingevent",Rt(pU,sn);var Zp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eT(){}function yU(){}eT.prototype.h=null;var rT,Ol={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tT(){sn.call(this,"d")}function nT(){sn.call(this,"c")}function eg(){}function Fl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rl(this),this.P=qae,this.V=new Yp(t=Ob?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new _U}function _U(){this.i=null,this.g="",this.h=!1}Rt(tT,sn),Rt(nT,sn),Rt(eg,eT),eg.prototype.g=function(){return new XMLHttpRequest},eg.prototype.i=function(){return{}},rT=new eg;var qae=45e3,iT={},tg={};function oT(t,e,n){t.L=1,t.v=og(Ni(e)),t.s=n,t.S=!0,vU(t,null)}function vU(t,e){t.G=Date.now(),Ll(t),t.A=Ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MU(n.i,"t",r),t.C=0,n=t.l.I,t.h=new _U,t.g=ZU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ae(on(t.Pa,t,t.g),t.O)),cU(t.U,t.g,"readystatechange",t.nb),e=t.I?YV(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),kl(),function jae(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function wU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function IU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wae(t,n),i==tg){4==e&&(t.o=4,wn(14),r=!1),eu(t.j,t.m,null,"[Incomplete Response]");break}if(i==iT){t.o=4,wn(15),eu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}eu(t.j,t.m,i,null),sT(t,i)}wU(t)&&i!=tg&&i!=iT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,(e=t.l).g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),pT(e),e.L=!0,wn(11))):(eu(t.j,t.m,n,"[Invalid Chunked Response]"),vs(t),Vl(t))}function Wae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tg:(n=Number(e.substring(n,r)),isNaN(n)?iT:(r+=1)+n>e.length?tg:(e=e.substr(r,n),t.C=r+n,e))}function Ll(t){t.Y=Date.now()+t.P,EU(t,t.P)}function EU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Pl(on(t.lb,t),e)}function ng(t){t.B&&(re.clearTimeout(t.B),t.B=null)}function Vl(t){0==t.l.H||t.J||QU(t.l,t)}function vs(t){ng(t);var e=t.M;e&&"function"==typeof e.ra&&e.ra(),t.M=null,Jb(t.V),lU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function sT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||aT(n.h,t)))if(!t.K&&aT(n.h,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;dg(n),cg(n)}fT(n),wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Pl(on(n.ib,n),6e3));if(1>=RU(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Is(n,11)}else if((t.K||n.g==t)&&dg(n),!Gp(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const l=c[3];null!=l&&(n.qa=l,n.j.info("VER="+n.qa));const d=c[4];null!=d&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(uT(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,je(r.G,r.F,m))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=JU(r,r.I?r.oa:null,r.Y),s.K){kU(r.h,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(ng(a),Ll(a)),r.g=s}else WU(r);0<n.i.length&&lg(n)}else"stop"!=c[0]&&"close"!=c[0]||Is(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Is(n,7):hT(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}kl()}catch{}}function DU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qae(t){if(t.sa&&"function"==typeof t.sa)return t.sa();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(jp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(P=Fl.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==Ri(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=Ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Ob||this.g&&(this.h.h||this.g.ja()||$U(this.g)))){this.J||4!=l||7==e||kl(),ng(this);var n=this.g.da();this.aa=n;t:if(wU(this)){var r=$U(this.g);t="";var i=r.length,o=4==Ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),Vl(this);var s="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Hae(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wn(12),vs(this),Vl(this);break e}eu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sT(this,n)}this.S?(IU(this,l,s),Ob&&this.i&&3==l&&(cU(this.U,this.V,"tick",this.mb),this.V.start())):(eu(this.j,this.m,s,null),sT(this,s)),4==l&&vs(this),this.i&&!this.J&&(4==l?QU(this.l,this):(this.i=!1,Ll(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),vs(this),Vl(this)}}}catch{}},P.mb=function(){if(this.g){var t=Ri(this.g),e=this.g.ja();this.C<e.length&&(ng(this),IU(this,t,e),this.i&&4!=t&&Ll(this))}},P.cancel=function(){this.J=!0,vs(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(kl(),wn(17)),vs(this),this.o=2,Vl(this)):EU(this,this.Y-t)};var CU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ws){this.h=void 0!==e?e:t.h,rg(this,t.j),this.s=t.s,this.g=t.g,ig(this,t.m),this.l=t.l,e=t.i;var n=new $l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bU(this,n),this.o=t.o}else t&&(n=String(t).match(CU))?(this.h=!!e,rg(this,n[1]||"",!0),this.s=Ul(n[2]||""),this.g=Ul(n[3]||"",!0),ig(this,n[4]),this.l=Ul(n[5]||"",!0),bU(this,n[6]||"",!0),this.o=Ul(n[7]||"")):(this.h=!!e,this.i=new $l(null,this.h))}function Ni(t){return new ws(t)}function rg(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ig(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bU(t,e,n){e instanceof $l?(t.i=e,function nue(t,e){e&&!t.j&&(po(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SU(this,r),MU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bl(e,eue)),t.i=new $l(e,t.h))}function je(t,e,n){t.i.set(e,n)}function og(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bl(e,TU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bl(e,TU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bl(n,"/"==n.charAt(0)?Zae:Jae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bl(n,tue)),t.join("")};var TU=/[#\/\?@]/g,Jae=/[#\?:]/g,Zae=/[#\?]/g,eue=/[#\?@]/g,tue=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function po(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function SU(t,e){po(t),e=tu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function AU(t,e){return po(t),e=tu(t,e),t.g.has(e)}function MU(t,e,n){SU(t,e),0<n.length&&(t.i=null,t.g.set(tu(t,e),Rb(n)),t.h+=n.length)}function tu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xU(t){this.l=t||iue,t=re.PerformanceNavigationTiming?0<(t=re.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=$l.prototype).add=function(t,e){po(this),this.i=null,t=tu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){po(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.sa=function(){po(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},P.Z=function(t){po(this);let e=[];if("string"==typeof t)AU(this,t)&&(e=e.concat(this.g.get(tu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return po(this),this.i=null,AU(this,t=tu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var iue=10;function NU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function RU(t){return t.h?1:t.g?t.g.size:0}function aT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function uT(t,e){t.g?t.g.add(e):t.h=e}function kU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function PU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rb(t.i)}function cT(){}function oue(){this.g=new cT}function sue(t,e,n){const r=n||"";try{DU(t,function(i,o){let s=i;Ml(i)&&(s=Qb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jl(t){this.l=t.fc||null,this.j=t.ob||!1}function ag(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=lT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xU.prototype.cancel=function(){if(this.i=PU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},cT.prototype.stringify=function(t){return re.JSON.stringify(t,void 0)},cT.prototype.parse=function(t){return re.JSON.parse(t,void 0)},Rt(jl,eT),jl.prototype.g=function(){return new ag(this.l,this.j)},jl.prototype.i=function(t){return function(){return t}}({}),Rt(ag,kt);var lT=0;function OU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=ag.prototype).open=function(t,e){if(this.readyState!=lT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hl(this)),this.readyState=lT},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hl(this):Gl(this),3==this.readyState&&OU(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,Hl(this))},P.Ya=function(t){this.g&&(this.response=t,Hl(this))},P.ka=function(){this.g&&Hl(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var uue=re.JSON.parse;function rt(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FU,this.L=this.M=!1}Rt(rt,kt);var FU="",cue=/^https?$/i,lue=["POST","PUT"];function LU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VU(t),ug(t)}function VU(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function UU(t){if(t.h&&typeof xb<"u"&&(!t.C[1]||4!=Ri(t)||2!=t.da()))if(t.v&&4==Ri(t))Zb(t.La,0,t);else if(Gt(t,"readystatechange"),4==Ri(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(CU)[1]||null;if(!i&&re.self&&re.self.location){var o=re.self.location.protocol;i=o.substr(0,o.length-1)}r=!cue.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",VU(t)}}finally{ug(t)}}}function ug(t,e){if(t.g){BU(t);const n=t.g,r=t.C[0]?$p:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function BU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function Ri(t){return t.g?t.g.readyState:0}function $U(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jU(t){let e="";return Bb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function dT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function zl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HU(t){this.Ga=0,this.i=[],this.j=new Xp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zl("baseRetryDelayMs",5e3,t),this.hb=zl("retryDelaySeedMs",1e4,t),this.eb=zl("forwardChannelMaxRetries",2,t),this.xa=zl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new xU(t&&t.concurrentRequestLimit),this.Ja=new oue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function hT(t){if(GU(t),3==t.H){var e=t.W++,n=Ni(t.G);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),ql(t,n),(e=new Fl(t,t.j,e,void 0)).L=2,e.v=og(Ni(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=ZU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ll(e)}XU(t)}function cg(t){t.g&&(pT(t),t.g.cancel(),t.g=null)}function GU(t){cg(t),t.u&&(re.clearTimeout(t.u),t.u=null),dg(t),t.h.cancel(),t.m&&("number"==typeof t.m&&re.clearTimeout(t.m),t.m=null)}function lg(t){NU(t.h)||t.m||(t.m=!0,oU(t.Na,t),t.C=0)}function zU(t,e){var n;n=e?e.m:t.W++;const r=Ni(t.G);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.V),ql(t,r),t.o&&t.s&&dT(r,t.o,t.s),n=new Fl(t,t.j,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=qU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uT(t.h,n),oT(n,r,e)}function ql(t,e){t.ma&&Bb(t.ma,function(n,r){je(e,r,n)}),t.l&&DU({},function(n,r){je(e,r,n)})}function qU(t,e,n){n=Math.min(t.i.length,n);var r=t.l?on(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{sue(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function WU(t){t.g||t.u||(t.ba=1,oU(t.Ma,t),t.A=0)}function fT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Pl(on(t.Ma,t),YU(t,t.A)),t.A++,0))}function pT(t){null!=t.B&&(re.clearTimeout(t.B),t.B=null)}function KU(t){t.g=new Fl(t,t.j,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ni(t.wa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.M?"0":"1"),je(e,"AID",t.V),je(e,"TYPE","xmlhttp"),ql(t,e),t.o&&t.s&&dT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=og(Ni(e)),n.s=null,n.S=!0,vU(n,t)}function dg(t){null!=t.v&&(re.clearTimeout(t.v),t.v=null)}function QU(t,e){var n=null;if(t.g==e){dg(t),pT(t),t.g=null;var r=2}else{if(!aT(t.h,e))return;n=e.F,kU(t.h,e),r=1}if(0!=t.H)if(t.ta=e.aa,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=Jp(),new pU(r,n)),lg(t)}else WU(t);else if(3==(i=e.o)||0==i&&0<t.ta||!(1==r&&function hue(t,e){return!(RU(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.F.concat(t.i),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Pl(on(t.Na,t,e),YU(t,t.C)),t.C++,0)))}(t,e)||2==r&&fT(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Is(t,5);break;case 4:Is(t,10);break;case 3:Is(t,6);break;default:Is(t,2)}}function YU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Is(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=on(t.pb,t);n||(n=new ws("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||rg(n,"https"),og(n)),function aue(t,e){const n=new Xp;if(re.Image){const r=new Image;r.onload=Hp(sg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hp(sg,n,r,"TestLoadImage: error",!1,e),r.onabort=Hp(sg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hp(sg,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wn(2);t.H=0,t.l&&t.l.za(e),XU(t),GU(t)}function XU(t){if(t.H=0,t.pa=[],t.l){const e=PU(t.h);(0!=e.length||0!=t.i.length)&&(HV(t.pa,e),HV(t.pa,t.i),t.h.i.length=0,Rb(t.i),t.i.length=0),t.l.ya()}}function JU(t,e,n){var r=n instanceof ws?Ni(n):new ws(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ig(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ws(null,void 0);r&&rg(o,r),e&&(o.g=e),i&&ig(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.qa),ql(t,r),r}function ZU(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rt(n&&t.Ha&&!t.va?new jl({ob:!0}):t.va)).Oa(t.I),e}function eB(){}function hg(){if(Za&&!(10<=Number(Mae)))throw Error("Environmental error: no available transport.")}function Wn(t,e){kt.call(this),this.g=new HU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new nu(this)}function tB(t){tT.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function nB(){nT.call(this),this.status=1}function nu(t){this.g=t}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(P=rt.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rT.g(),this.C=function mU(t){return t.h||(t.h=t.i())}(this.u?this.u:rT),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void LU(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=re.FormData&&t instanceof re.FormData,!(0<=jV(lue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{BU(this),0<this.B&&((this.L=function due(t){return Za&&function Aae(){return zV(Sae,9,function(){let t=0;const e=GV(String(qp)).split("."),n=GV("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=kb(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||kb(0==i[2].length,0==o[2].length)||kb(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=Zb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){LU(this,o)}},P.ua=function(){typeof xb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),ug(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ug(this,!0)),rt.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?UU(this):this.kb())},P.kb=function(){UU(this)},P.da=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uue(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=HU.prototype).qa=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fl(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=YV(o),JV(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qU(this,i,e),je(n=Ni(this.G),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),ql(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(jU(o)))+"&"+e:this.o&&dT(n,this.o,o)),uT(this.h,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.ba=!0,oT(i,n,null)):oT(i,n,e),this.H=2}}else 3==this.H&&(t?zU(this,t):0==this.i.length||NU(this.h)||zU(this))},P.Ma=function(){if(this.u=null,KU(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Pl(on(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,wn(10),cg(this),KU(this))},P.ib=function(){null!=this.v&&(this.v=null,cg(this),fT(this),wn(19))},P.pb=function(t){t?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))},(P=eB.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.Va=function(){},hg.prototype.g=function(t,e){return new Wn(t,e)},Rt(Wn,kt),Wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=JU(t,null,t.Y),lg(t)},Wn.prototype.close=function(){hT(this.g)},Wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Qb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.fb++,t)),3==e.H&&lg(e)},Wn.prototype.N=function(){this.g.l=null,delete this.j,hT(this.g),delete this.g,Wn.$.N.call(this)},Rt(tB,tT),Rt(nB,nT),Rt(nu,eB),nu.prototype.Ba=function(){Gt(this.g,"a")},nu.prototype.Aa=function(t){Gt(this.g,new tB(t))},nu.prototype.za=function(t){Gt(this.g,new nB)},nu.prototype.ya=function(){Gt(this.g,"b")},Rt(Er,function fue(){this.blockSize=-1}),Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)gT(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){gT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){gT(this,r),i=0;break}}this.h=i,this.i+=e},Er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var pue={};function mT(t){return-128<=t&&128>t?zV(pue,t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function Kr(t){if(isNaN(t)||!isFinite(t))return ru;if(0>t)return zt(Kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yT;return new Te(e,0)}var yT=4294967296,ru=mT(0),_T=mT(1),iB=mT(16777216);function ki(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(_T)}function fg(t,e){return t.add(zt(e))}function pg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wl(t,e){this.g=t,this.h=e}function gg(t,e){if(ki(e))throw Error("division by zero");if(ki(t))return new Wl(ru,ru);if(sr(t))return e=gg(zt(t),e),new Wl(zt(e.g),zt(e.h));if(sr(e))return e=gg(t,zt(e)),new Wl(zt(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_T,r=e;0>=r.X(t);)n=oB(n),r=oB(r);var i=iu(n,1),o=iu(r,1);for(r=iu(r,2),n=iu(n,2);!ki(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=iu(r,1),n=iu(n,1)}return e=fg(t,i.R(e)),new Wl(i,e)}for(i=ru;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Kr(n)).R(e);sr(s)||0<s.X(t);)s=(o=Kr(n-=r)).R(e);ki(o)&&(o=_T),i=i.add(o),t=fg(t,s)}return new Wl(i,t)}function oB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function iu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Te(i,t.h)}(P=Te.prototype).ea=function(){if(sr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yT+r)*e,e*=yT}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ki(this))return"0";if(sr(this))return"-"+zt(this).toString(t);for(var e=Kr(Math.pow(t,6)),n=this,r="";;){var i=gg(n,e).g,o=((0<(n=fg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ki(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return sr(t=fg(this,t))?-1:ki(t)?0:1},P.abs=function(){return sr(this)?zt(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(ki(this)||ki(t))return ru;if(sr(this))return sr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(sr(t))return zt(this.R(zt(t)));if(0>this.X(iB)&&0>t.X(iB))return Kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,pg(n,2*r+2*i),n[2*r+2*i+1]+=o*u,pg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,pg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,pg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},P.gb=function(t){return gg(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},hg.prototype.createWebChannel=hg.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Zp.NO_ERROR=0,Zp.TIMEOUT=8,Zp.HTTP_ERROR=6,gU.COMPLETE="complete",yU.EventType=Ol,Ol.OPEN="a",Ol.CLOSE="b",Ol.ERROR="c",Ol.MESSAGE="d",kt.prototype.listen=kt.prototype.O,rt.prototype.listenOnce=rt.prototype.P,rt.prototype.getLastError=rt.prototype.Sa,rt.prototype.getLastErrorCode=rt.prototype.Ia,rt.prototype.getStatus=rt.prototype.da,rt.prototype.getResponseJson=rt.prototype.Wa,rt.prototype.getResponseText=rt.prototype.ja,rt.prototype.send=rt.prototype.ha,rt.prototype.setWithCredentials=rt.prototype.Oa,Er.prototype.digest=Er.prototype.l,Er.prototype.reset=Er.prototype.reset,Er.prototype.update=Er.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Kr,Te.fromString=function rB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(rB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kr(Math.pow(e,8)),r=ru,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Kr(Math.pow(e,o)),r=r.R(o).add(Kr(s))):r=(r=r.R(n)).add(Kr(s))}return r};var gue=Ir.createWebChannelTransport=function(){return new hg},mue=Ir.getStatEventTarget=function(){return Jp()},vT=Ir.ErrorCode=Zp,yue=Ir.EventType=gU,_ue=Ir.Event=_s,sB=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vue=Ir.FetchXmlHttpFactory=jl,mg=Ir.WebChannel=yU,wue=Ir.XhrIo=rt,Iue=Ir.Md5=Er,ou=Ir.Integer=Te;const aB="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let su="9.22.0";const go=new Ha("@firebase/firestore");function wT(){return go.logLevel}function S(t,...e){if(go.logLevel<=X.DEBUG){const n=e.map(IT);go.debug(`Firestore (${su}): ${t}`,...n)}}function at(t,...e){if(go.logLevel<=X.ERROR){const n=e.map(IT);go.error(`Firestore (${su}): ${t}`,...n)}}function Dr(t,...e){if(go.logLevel<=X.WARN){const n=e.map(IT);go.warn(`Firestore (${su}): ${t}`,...n)}}function IT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function $(t,e){t||V()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class uB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class Due{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cue{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ct,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new uB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Pt(e)}}class bue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Tue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.T=n.token,new cB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Aue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class lB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Aue(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Qe(0,0))}static max(){return new j(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kl{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Kl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Kl{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const Mue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Kl{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return Mue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ye.fromString(e))}static fromName(e){return new M(ye.fromString(e).popFirst(5))}static empty(){return new M(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ye(e.slice()))}}function fB(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(j.min(),M.empty(),-1)}static max(){return new Kn(j.max(),M.empty(),-1)}}function DT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Z(t.largestBatchId,e.largestBatchId))}const pB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mo(t){return CT.apply(this,arguments)}function CT(){return CT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==pB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),CT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function yo(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Xl(t){return null==t}function Jl(t){return 0===t&&1/t==-1/0}function DB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pe{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ig(this.root,e,this.comparator,!0)}}class Ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=o??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(e){return new bB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class bB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new On([])}unionWith(e){let n=new Le(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class TB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TB("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const tce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if($(!!t),"string"==typeof t){let e=0;const n=tce.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pi(t){return"string"==typeof t?bt.fromBase64String(t):bt.fromUint8Array(t)}function Eg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dg(t){const e=t.mapValue.fields.__previous_value__;return Eg(e)?Dg(e):e}function Zl(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class nce{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Cs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cs&&e.projectId===this.projectId&&e.database===this.database}}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eg(t)?4:xB(t)?9007199254740991:10:V()}function Yr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=vo(r.timestampValue),s=vo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Pi(t.bytesValue).isEqual(Pi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=it(r.doubleValue),s=it(i.doubleValue);return o===s?Jl(o)===Jl(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(DB(o)!==DB(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Yr(o[a],s[a])))return!1;return!0}(t,e);default:return V()}var i}function ed(t,e){return void 0!==(t.values||[]).find(n=>Yr(n,e))}function Eo(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=it(i.integerValue||i.doubleValue),a=it(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return SB(t.timestampValue,e.timestampValue);case 4:return SB(Zl(t),Zl(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Pi(i),a=Pi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=Z(s[u],a[u]);if(0!==c)return c}return Z(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Z(it(i.latitude),it(o.latitude));return 0!==s?s:Z(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=Eo(s[u],a[u]);if(c)return c}return Z(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===wo.mapValue&&o===wo.mapValue)return 0;if(i===wo.mapValue)return 1;if(o===wo.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=Eo(s[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function SB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);const n=vo(t),r=vo(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function cu(t){return ST(t)}function ST(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=vo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=ST(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${ST(r.fields[a])}`;return o+"}"}(t.mapValue):V();var e}function AT(t){return!!t&&"integerValue"in t}function td(t){return!!t&&"arrayValue"in t}function AB(t){return!!t&&"nullValue"in t}function MB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tg(t){return!!t&&"mapValue"in t}function nd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Wt(nd(this.value))}}function kB(t){const e=[];return _o(t.fields,(n,r)=>{const i=new ut([n]);if(Tg(r)){const o=kB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}class Ve{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,j.min(),j.min(),j.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,j.min(),j.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,j.min(),j.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Do{constructor(e,n){this.position=e,this.inclusive=n}}function PB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):Eo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function OB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FB{}class pe extends FB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new sce(e,n,r):"array-contains"===n?new cce(e,r):"in"===n?new jB(e,r):"not-in"===n?new lce(e,r):"array-contains-any"===n?new dce(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ace(e,r):new uce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Eo(n,this.value)):null!==n&&Io(this.value)===Io(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends FB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Se(e,n)}matches(e){return du(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function du(t){return"and"===t.op}function xT(t){return function LB(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&du(t)}function NT(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(xT(t))return t.filters.map(e=>NT(e)).join(",");{const e=t.filters.map(n=>NT(n)).join(",");return`${t.op}(${e})`}}function VB(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&Yr(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&VB(o,r.filters[s]),!0)}(t,e):void V();var n,r}function BB(t){return t instanceof pe?`${(e=t).field.canonicalString()} ${e.op} ${cu(e.value)}`:t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(BB).join(" ,")+"}"}(t):"Filter";var e}class sce extends pe{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class ace extends pe{constructor(e,n){super(e,"in",n),this.keys=$B(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uce extends pe{constructor(e,n){super(e,"not-in",n),this.keys=$B(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $B(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class cce extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return td(n)&&ed(n.arrayValue,this.value)}}class jB extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ed(this.value.arrayValue,n)}}class lce extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ed(this.value.arrayValue,n)}}class dce extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ed(this.value.arrayValue,r))}}class hce{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function RT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hce(t,e,n,r,i,o,s)}function Ts(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>NT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cu(r)).join(",")),e.dt=n}return e.dt}function rd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OB(t.startAt,e.startAt)&&OB(t.endAt,e.endAt)}function Sg(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Oi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function hu(t){return new Oi(t)}function qB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ss(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Mg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function kT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new lu(n)),e.wt.push(new lu(ut.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new lu(ut.keyField(),o))}}}return e.wt}function In(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=RT(e.path,e.collectionGroup,Ss(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ss(e))n.push(new lu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Do(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Do(e.startAt.position,e.startAt.inclusive):null;e._t=RT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xg(t,e,n){return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return rd(In(t),In(e))&&t.limitType===e.limitType}function WB(t){return`${Ts(In(t))}|lt:${t.limitType}`}function FT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>BB(r)).join(", ")}]`),Xl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cu(r)).join(",")),`Target(${n})`}(In(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ss(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=PB(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Ss(n),r)||n.endAt&&!function(i,o,s){const a=PB(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Ss(n),r)));var n,r}function QB(t){return(e,n)=>{let r=!1;for(const i of Ss(t)){const o=fce(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function fce(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?Eo(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CB(this.inner)}size(){return this.innerSize}}const pce=new Pe(M.comparator);function Fn(){return pce}const YB=new Pe(M.comparator);function sd(...t){let e=YB;for(const n of t)e=e.insert(n.key,n);return e}function XB(t){let e=YB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return ad()}function JB(){return ad()}function ad(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const gce=new Pe(M.comparator),mce=new Le(M.comparator);function ue(...t){let e=mce;for(const n of t)e=e.add(n);return e}const yce=new Le(Z);function ZB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function e$(t){return{integerValue:""+t}}function t$(t,e){return function mB(t){return"number"==typeof t&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?e$(e):ZB(t,e)}class Ng{constructor(){this._=void 0}}function _ce(t,e,n){return t instanceof fu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Eg(i)&&(i=Dg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof As?r$(t,e):t instanceof Ms?i$(t,e):function(r,i){const o=n$(r,i),s=o$(o)+o$(r.gt);return AT(o)&&AT(r.gt)?e$(s):ZB(r.serializer,s)}(t,e)}function vce(t,e,n){return t instanceof As?r$(t,e):t instanceof Ms?i$(t,e):n}function n$(t,e){return t instanceof pu?AT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class fu extends Ng{}class As extends Ng{constructor(e){super(),this.elements=e}}function r$(t,e){const n=s$(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ms extends Ng{constructor(e){super(),this.elements=e}}function i$(t,e){let n=s$(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class pu extends Ng{constructor(e,n){super(),this.serializer=e,this.gt=n}}function o$(t){return it(t.integerValue||t.doubleValue)}function s$(t){return td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ice{constructor(e,n){this.version=e,this.transformResults=n}}class He{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new He}static exists(e){return new He(void 0,e)}static updateTime(e){return new He(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kg{}function a$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new mu(t.key,He.none()):new gu(t.key,t.data,He.none());{const n=t.data,r=Wt.empty();let i=new Le(ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Li(t.key,r,new On(i.toArray()),He.none())}}function Ece(t,e,n){t instanceof gu?function(r,i,o){const s=r.value.clone(),a=l$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(r,i,o){if(!Rg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=l$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(c$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function cd(t,e,n,r){return t instanceof gu?function(i,o,s,a){if(!Rg(i.precondition,o))return s;const u=i.value.clone(),c=d$(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(i,o,s,a){if(!Rg(i.precondition,o))return s;const u=d$(i.fieldTransforms,a,o),c=o.data;return c.setAll(c$(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Rg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Dce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=n$(r.transform,i||null);null!=o&&(null===n&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function u$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&au(n,r,(i,o)=>function wce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof As&&r instanceof As||n instanceof Ms&&r instanceof Ms?au(n.elements,r.elements,Yr):n instanceof pu&&r instanceof pu?Yr(n.gt,r.gt):n instanceof fu&&r instanceof fu);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class gu extends kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends kg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l$(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vce(s,a,n[i]))}return r}function d$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_ce(o,s,e))}return r}class mu extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VT extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ece(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=a$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,r)=>u$(n,r))&&au(this.baseMutations,e.baseMutations,(n,r)=>u$(n,r))}}class BT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=gce;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new BT(e,n,r,i)}}class $T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bce{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,_e;function f$(t){if(void 0===t)return at("GRPC error has no .code"),I.UNKNOWN;switch(t){case mt.OK:return I.OK;case mt.CANCELLED:return I.CANCELLED;case mt.UNKNOWN:return I.UNKNOWN;case mt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mt.INTERNAL:return I.INTERNAL;case mt.UNAVAILABLE:return I.UNAVAILABLE;case mt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mt.NOT_FOUND:return I.NOT_FOUND;case mt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mt.ABORTED:return I.ABORTED;case mt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(_e=mt||(mt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";class jT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pg}static getOrCreateInstance(){return null===Pg&&(Pg=new jT),Pg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Pg=null;const Tce=new ou([4294967295,4294967295],0);function g$(t){const e=function p$(){return new TextEncoder}().encode(t),n=new Iue;return n.update(e),new Uint8Array(n.digest())}function m$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ou([n,r],0),new ou([i,o],0)]}class HT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ld(`Invalid padding: ${n}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ld(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ld(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ou.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ou.fromNumber(r)));return 1===i.compare(Tce)&&(i=new ou([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=g$(e),[r,i]=m$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new HT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=g$(e),[r,i]=m$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dd(j.min(),i,new Pe(Z),Fn(),ue())}}class hd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hd(r,n,ue(),ue(),ue())}}class Og{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class y${constructor(e,n){this.targetId=e,this.Vt=n}}class _${constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v${constructor(){this.St=0,this.Dt=I$(),this.Ct=bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),n=ue(),r=ue();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new hd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=I$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fn(),this.zt=w$(),this.Wt=new Pe(Z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Sg(s))if(0===i){const a=new M(s.path);this.Yt(r,a,Ve.newNoDocument(a,j.min()))}else $(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=jT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Pi(o).toUint8Array()}catch(l){if(l instanceof TB)return Dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new HT(u,s,a)}catch(l){return Dr(l instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Sg(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Ve.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=ue();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new dd(e,n,this.Wt,this.jt,r);return this.jt=Fn(),this.zt=w$(),this.Wt=new Pe(Z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new v$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Le(Z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new v$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function w$(){return new Pe(M.comparator)}function I$(){return new Pe(M.comparator)}const Ace={asc:"ASCENDING",desc:"DESCENDING"},Mce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xce={and:"AND",or:"OR"};class Nce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function GT(t,e){return t.useProto3Json||Xl(e)?e:{value:e}}function yu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rce(t,e){return yu(t,e.toTimestamp())}function ct(t){return $(!!t),j.fromTimestamp(function(e){const n=vo(e);return new Qe(n.seconds,n.nanos)}(t))}function zT(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function D$(t){const e=ye.fromString(t);return $(R$(e)),e}function fd(t,e){return zT(t.databaseId,e.path)}function Jr(t,e){const n=D$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(b$(n))}function qT(t,e){return zT(t.databaseId,e)}function pd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b$(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function T$(t,e,n){return{name:fd(t,e),fields:n.value.mapValue.fields}}function A$(t,e){return{documents:[qT(t,e.path)]}}function KT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return N$(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Co((l=c).field),direction:Lce(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=GT(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function M$(t){let e=function C$(t){const e=D$(t);return 4===e.length?ye.emptyPath():b$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=x$(l);return d instanceof Se&&xT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new lu(_u((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Xl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Do((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Do(l.values||[],!l.before)}(n.endAt)),function zB(t,e,n,r,i,o,s,a){return new Oi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function x$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_u(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=_u(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_u(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_u(e.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?pe.create(_u((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>x$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V();var e}function Lce(t){return Ace[t]}function Vce(t){return Mce[t]}function Uce(t){return xce[t]}function Co(t){return{fieldPath:t.canonicalString()}}function _u(t){return ut.fromServerFormat(t.fieldPath)}function N$(t){return t instanceof pe?function(e){if("=="===e.op){if(MB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NAN"}};if(AB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NAN"}};if(AB(e.value))return{unaryFilter:{field:Co(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(e.field),op:Vce(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>N$(r));return 1===n.length?n[0]:{compositeFilter:{op:Uce(e.op),filters:n}}}(t):V()}function Bce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Vi{constructor(e,n,r,i,o=j.min(),s=j.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k${constructor(e){this.fe=e}}function QT(t){const e=M$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xg(e,e.limit,"L"):e}class ks{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(it(e.integerValue));else if("doubleValue"in e){const r=it(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Jl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Pi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?xB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ks.Ve=new ks;class Qce{constructor(){this.rn=new t0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Kn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class t0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ye.comparator)).toArray()}}new Uint8Array(0);class un{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Os{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Os(0)}static Mn(){return new Os(-1)}}class tle{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ile{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&cd(r.mutation,i,On.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sd();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fn();const s=ad(),a=ad();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Li)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),cd(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):s.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ile(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ad();let i=new Pe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||On.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=JB();l.forEach(h=>{if(!o.has(h)){const f=a$(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function PT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(Xr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:XB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=sd();return this.indexManager.getCollectionParents(e,i).next(s=>v.forEach(s,a=>{const u=(c=n,l=a.child(i),new Oi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Ve.newInvalidDocument(c)))});let s=sd();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&cd(c.mutation,u,On.empty(),Qe.now()),od(n,u)&&(s=s.insert(a,u))}),s})}}class ole{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:QT(r.bundledQuery),readTime:ct(r.readTime)}),v.resolve();var r}}class sle{constructor(){this.overlays=new Pe(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Xr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $T(n,r));let o=this.ls.get(n);void 0===o&&(o=ue(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class n0{constructor(){this.fs=new Le(Ft.ds),this.ws=new Le(Ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ft(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ye([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ye([])),r=new Ft(n,e),i=new Ft(n,e+1);let o=ue();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ft(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||Z(e.As,n.As)}static _s(e,n){return Z(e.As,n.As)||M.comparator(e.key,n.key)}}class ale{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Le(Ft.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new UT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(Z);return n.forEach(i=>{const o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new Ft(new M(o),0);let a=new Le(Z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ule{constructor(e){this.Ds=e,this.docs=new Pe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ve.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fn();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||DT(fB(l),r)<=0||(i.has(l.key)||od(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cle(this)}getSize(e){return v.resolve(this.size)}}class cle extends tle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class lle{constructor(e){this.persistence=e,this.xs=new Fi(n=>Ts(n),rd),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new n0,this.targetCount=0,this.Ms=Os.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class r0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lle(this),this.indexManager=new Qce,this.remoteDocumentCache=new ule(r=>this.referenceDelegate.Ls(r)),this.serializer=new k$(n),this.qs=new ole(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ale(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new dle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class dle extends Rue{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Qs=new n0,this.js=null}static zs(e){return new Gg(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class u0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new u0(e,n.fromCache,r,i)}}class aj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(qB(n))return v.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xg(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,xg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return qB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(wT()<=X.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),FT(n)),this.Wi(e,s,n,function hB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Kn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Le(QB(e));return n.forEach((i,o)=>{od(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return wT()<=X.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",FT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class fle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Pe(Z),this.Yi=new Fi(o=>Ts(o),rd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function cj(t,e){return c0.apply(this,arguments)}function c0(){return c0=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ue();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),c0.apply(this,arguments)}function lj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function mle(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eu(t,e,n){return l0.apply(this,arguments)}function l0(){return l0=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!yo(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),l0.apply(this,arguments)}function Wg(t,e,n){const r=x(t);let i=j.min(),o=ue();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:ue())).next(a=>(function pj(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function KB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class g0{constructor(){this.activeTargetIds=function LT(){return yce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.Hr=new g0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new g0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vle{Yr(e){}shutdown(){}}class _j{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yg=null;function y0(){return null===Yg?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}const wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ile{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cn="WebChannelConnection";class Ele extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=y0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Dr("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${wle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=y0();return new Promise((s,a)=>{const u=new wue;u.setWithCredentials(!0),u.listenOnce(yue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vT.NO_ERROR:const l=u.getResponseJson();S(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case vT.TIMEOUT:S(cn,`RPC '${e}' ${o} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case vT.HTTP_ERROR:const d=u.getStatus();if(S(cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{S(cn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);S(cn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=y0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gue(),a=mue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new vue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");S(cn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Ile({ro:y=>{f?S(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(cn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,C=>{try{_(C)}catch(F){setTimeout(()=>{throw F},0)}})};return m(d,mg.EventType.OPEN,()=>{f||S(cn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,mg.EventType.CLOSE,()=>{f||(f=!0,S(cn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,mg.EventType.ERROR,y=>{f||(f=!0,Dr(cn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,mg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];$(!!_);const F=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(F){S(cn,`RPC '${e}' stream ${i} received error:`,F);const B=F.status;let le=function(Bi){const Lu=mt[Bi];if(void 0!==Lu)return f$(Lu)}(B),_t=F.message;void 0===le&&(le=I.INTERNAL,_t="Unknown error status: "+B+" with message "+F.message),f=!0,p.wo(new b(le,_t)),d.close()}else S(cn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,_ue.STAT_EVENT,y=>{y.stat===sB.PROXY?S(cn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===sB.NOPROXY&&S(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xg(){return typeof document<"u"?document:null}function Cd(t){return new Nce(t,!0)}class _0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class wj{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dle extends wj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Pce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?($(void 0===c||"string"==typeof c),bt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?I.UNKNOWN:f$(u.code);return new b(c,u.message||"")}(s);n=new _$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Jr(t,r.document.name),o=ct(r.document.updateTime),s=r.document.createTime?ct(r.document.createTime):j.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,o,s,a);n=new Og(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Jr(t,r.document),o=r.readTime?ct(r.readTime):j.min(),s=Ve.newNoDocument(i,o);n=new Og([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Jr(t,r.document);n=new Og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new bce(i,o);n=new y$(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?ct(o.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=pd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Sg(a)?{documents:A$(i,a)}:{query:KT(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=E$(i,o.resumeToken);const u=GT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(j.min())>0){s.readTime=yu(i,o.snapshotVersion.toTimestamp());const u=GT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function Fce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=pd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Cle extends wj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Oce(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let o=ct(r.updateTime?r.updateTime:i);return o.isEqual(j.min())&&(o=ct(i)),new Ice(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function gd(t,e){let n;if(e instanceof gu)n={update:T$(t,e.key,e.value)};else if(e instanceof mu)n={delete:fd(t,e.key)};else if(e instanceof Li)n={update:T$(t,e.key,e.data),updateMask:Bce(e.fieldMask)};else{if(!(e instanceof VT))return V();n={verify:fd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof As)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ms)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof pu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Rce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class ble extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Sle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ale{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ao(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Du(l),l.bu.set("Unknown"),l.vu.delete(4),yield bd(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new Sle(r,i)}}function bd(t){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t){if(Ao(t))for(const e of t.Ru)yield e(!0)}),w0.apply(this,arguments)}function Du(t){return I0.apply(this,arguments)}function I0(){return I0=g(function*(t){for(const e of t.Ru)yield e(!1)}),I0.apply(this,arguments)}function Jg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),C0(n)?D0(n):bu(n).Ko()&&E0(n,e))}function Td(t,e){const n=x(t),r=bu(n);n.Au.delete(e),r.Ko()&&Ij(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ao(n)&&n.bu.set("Unknown"))}function E0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).su(e)}function Ij(t,e){t.Vu.qt(e),bu(t).iu(e)}function D0(t){t.Vu=new Sce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.bu.gu()}function C0(t){return Ao(t)&&!bu(t).Uo()&&t.Au.size>0}function Ao(t){return 0===x(t).vu.size}function Ej(t){t.Vu=void 0}function Mle(t){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t){t.Au.forEach((e,n)=>{E0(t,e)})}),b0.apply(this,arguments)}function xle(t,e){return T0.apply(this,arguments)}function T0(){return T0=g(function*(t,e){Ej(t),C0(t)?(t.bu.Iu(e),D0(t)):t.bu.set("Unknown")}),T0.apply(this,arguments)}function Nle(t,e,n){return S0.apply(this,arguments)}function S0(){return S0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof _$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zg(t,r)}else if(e instanceof Og?t.Vu.Ht(e):e instanceof y$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield lj(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),Ij(i,a);const l=new Vi(c.target,a,u,c.sequenceNumber);E0(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Zg(t,r)}var r}),S0.apply(this,arguments)}function Zg(t,e,n){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t,e,n){if(!yo(e))throw e;t.vu.add(1),yield Du(t),t.bu.set("Offline"),n||(n=()=>lj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield bd(t)}))}),A0.apply(this,arguments)}function Dj(t,e){return e().catch(n=>Zg(t,n,e))}function Cu(t){return M0.apply(this,arguments)}function M0(){return M0=g(function*(t){const e=x(t),n=Mo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Rle(e);)try{const i=yield mle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,kle(e,i)}catch(i){yield Zg(e,i)}Cj(e)&&bj(e)}),M0.apply(this,arguments)}function Rle(t){return Ao(t)&&t.Eu.length<10}function kle(t,e){t.Eu.push(e);const n=Mo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Cj(t){return Ao(t)&&!Mo(t).Uo()&&t.Eu.length>0}function bj(t){Mo(t).start()}function Ple(t){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t){Mo(t).hu()}),x0.apply(this,arguments)}function Ole(t){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t){const e=Mo(t);for(const n of t.Eu)e.uu(n.mutations)}),N0.apply(this,arguments)}function Fle(t,e,n){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t,e,n){const r=t.Eu.shift(),i=BT.from(r,e,n);yield Dj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cu(t)}),R0.apply(this,arguments)}function Lle(t,e){return k0.apply(this,arguments)}function k0(){return k0=g(function*(t,e){var n;e&&Mo(t).ou&&(yield(n=g(function*(r,i){if(function h$(t){switch(t){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(o=i.code)&&o!==I.ABORTED){const s=r.Eu.shift();Mo(r).Qo(),yield Dj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Cu(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Cj(t)&&bj(t)}),k0.apply(this,arguments)}function Tj(t,e){return P0.apply(this,arguments)}function P0(){return P0=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.vu.add(3),yield Du(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield bd(n)}),P0.apply(this,arguments)}function F0(){return F0=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield bd(n)):e||(n.vu.add(2),yield Du(n),n.bu.set("Unknown"))}),F0.apply(this,arguments)}function bu(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Dle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Mle.bind(null,t),ao:xle.bind(null,t),nu:Nle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),C0(t)?D0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Ej(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Mo(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Cle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ple.bind(null,t),ao:Lle.bind(null,t),au:Ole.bind(null,t),cu:Fle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Cu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class L0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new L0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(t,e){if(at("AsyncQueue",`${e}: ${t}`),yo(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Su{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=sd(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Sj{constructor(){this.Cu=new Pe(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Au{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Au(e,n,Su.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vle{constructor(){this.Nu=void 0,this.listeners=[]}}class Ule{constructor(){this.queries=new Fi(e=>WB(e),id),this.onlineState="Unknown",this.ku=new Set}}function U0(){return U0=g(function*(t,e){const n=x(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Vle),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Tu(s,`Initialization of query '${FT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&j0(n)}),U0.apply(this,arguments)}function $0(){return $0=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),$0.apply(this,arguments)}function Ble(t,e){const n=x(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&j0(n)}function $le(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function j0(t){t.ku.forEach(e=>{e.next()})}class H0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xj{constructor(e){this.key=e}}class Nj{constructor(e){this.key=e}}class Rj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=QB(e),this.ec=new Su(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Sj,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=od(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new Au(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Nj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new xj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ue();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Au.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Gle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zle{constructor(e){this.key=e,this.fc=!1}}class qle{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Fi(a=>WB(a),id),this._c=new Map,this.mc=new Set,this.gc=new Pe(M.comparator),this.yc=new Map,this.Ic=new n0,this.Tc={},this.Ec=new Map,this.Ac=Os.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Wle(t,e){return G0.apply(this,arguments)}function G0(){return G0=g(function*(t,e){const n=function fS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yle.bind(null,e),e.dc.nu=Ble.bind(null,e.eventManager),e.dc.Pc=$le.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Iu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,In(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function z0(t,e,n,r,i){return q0.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Jg(n.remoteStore,s)}return i}),G0.apply(this,arguments)}function q0(){return q0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let C=y.view.sc(w);C.zi&&(C=yield Wg(m.localStore,y.query,!1).then(({documents:le})=>y.view.sc(le,C)));const F=_&&_.targetChanges.get(y.targetId),B=y.view.applyChanges(C,m.isPrimaryClient,F);return nS(m,y.targetId,B.cc),B.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Wg(t.localStore,e,!0),s=new Rj(e,o.ir),a=s.sc(o.documents),u=hd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);nS(t,n,c.cc);const l=new Gle(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),q0.apply(this,arguments)}function Kle(t,e){return W0.apply(this,arguments)}function W0(){return W0=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!id(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Td(n.remoteStore,r.targetId),Mu(n,r.targetId)}).catch(mo))):(Mu(n,r.targetId),yield Eu(n.localStore,r.targetId,!0))}),W0.apply(this,arguments)}function K0(){return K0=g(function*(t,e,n){const r=function pS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jle.bind(null,e),e}(t);try{const i=yield function(o,s){const a=x(o),u=Qe.now(),c=s.reduce((h,f)=>h.add(f.key),ue());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Fn(),p=ue();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of s){const _=Dce(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Li(w.key,_,kB(_.value.mapValue),He.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:XB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new Pe(Z)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ui(r,i.changes),yield Cu(r.remoteStore)}catch(i){const o=Tu(i,"Failed to persist write");n.reject(o)}}),K0.apply(this,arguments)}function kj(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=g(function*(t,e){const n=x(t);try{const r=yield function gle(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let u=Fn(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function dj(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?$(s.fc):i.removedDocuments.size>0&&($(s.fc),s.fc=!1))}),yield Ui(n,r,e)}catch(r){yield mo(r)}}),Q0.apply(this,arguments)}function Pj(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=x(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&j0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yle(t,e,n){return Y0.apply(this,arguments)}function Y0(){return Y0=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Pe(M.comparator);s=s.insert(o,Ve.newNoDocument(o,j.min()));const a=ue().add(o),u=new dd(j.min(),new Map,new Pe(Z),s,a);yield kj(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),rS(r)}else yield Eu(r.localStore,e,!1).then(()=>Mu(r,e,n)).catch(mo)}),Y0.apply(this,arguments)}function Xle(t,e){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function ple(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ue();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);tS(n,r,null),eS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ui(n,i)}catch(i){yield mo(i)}}),X0.apply(this,arguments)}function Jle(t,e,n){return J0.apply(this,arguments)}function J0(){return J0=g(function*(t,e,n){const r=x(t);try{const i=yield function(o,s){const a=x(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);tS(r,e,n),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ui(r,i)}catch(i){yield mo(i)}}),J0.apply(this,arguments)}function eS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function tS(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Oj(t,r)})}function Oj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Td(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),rS(t))}function nS(t,e,n){for(const r of n)r instanceof xj?(t.Ic.addReference(r.key,e),ede(t,r)):r instanceof Nj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Oj(t,r.key)):V()}function ede(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),rS(t))}function rS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ye.fromString(e)),r=t.Ac.next();t.yc.set(r,new zle(n)),t.gc=t.gc.insert(n,r),Jg(t.remoteStore,new Vi(In(hu(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function Ui(t,e,n){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e,n){const r=x(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=u0.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yo(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),iS.apply(this,arguments)}function tde(t,e){return oS.apply(this,arguments)}function oS(){return oS=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield cj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ui(n,r.er)}var i}),oS.apply(this,arguments)}function nde(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class em{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Cd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function uj(t,e,n,r){return new fle(t,e,n,r)}(this.persistence,new aj,e.initialUser,this.serializer)}createPersistence(e){return new r0(Gg.zs,this.serializer)}createSharedClientState(e){return new yj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Pj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tde.bind(null,r.syncEngine),yield function O0(t,e){return F0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ule}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),r=new Ele(e.databaseInfo);return new ble(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Pj(this.syncEngine,a,0),s=_j.D()?new _j:new vle,new Ale(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new qle(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Du(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gde{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=lB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Tu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function nm(t,e){return gS.apply(this,arguments)}function gS(){return gS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield cj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),gS.apply(this,arguments)}function mS(t,e){return yS.apply(this,arguments)}function yS(){return yS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function _S(t){return vS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Tj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Tj(e.remoteStore,o)),t._onlineComponents=e}),yS.apply(this,arguments)}function vS(){return vS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function $j(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),yield nm(t,new em)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield nm(t,new em);return t._offlineComponents}),vS.apply(this,arguments)}function rm(t){return wS.apply(this,arguments)}function wS(){return wS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield mS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield mS(t,new xu))),t._onlineComponents}),wS.apply(this,arguments)}function ES(){return ES=g(function*(t){const e=yield rm(t),n=e.eventManager;return n.onListen=Wle.bind(null,e.syncEngine),n.onUnlisten=Kle.bind(null,e.syncEngine),n}),ES.apply(this,arguments)}function qj(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,o,s,a,u){const c=new tm({next:d=>{o.enqueueAndForget(()=>function B0(t,e){return $0.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new H0(s,c,{includeMetadataChanges:!0,Ku:!0});return function V0(t,e){return U0.apply(this,arguments)}(i,l)}(yield function Nu(t){return ES.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function Wj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Kj=new Map;function DS(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qj(t){if(!M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yj(t){if(M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function om(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=om(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Jj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Cde(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Eue;switch(n.type){case"firstParty":return new Tue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Kj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Kj.delete(e),n.terminate())}(this),Promise.resolve()}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Zr extends Kt{constructor(e,n,r){super(e,n,hu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new M(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Tde(t,e,...n){if(t=yn(t),DS("collection","path",e),t instanceof Sd){const r=ye.fromString(e,...n);return Yj(r),new Zr(t,null,r)}{if(!(t instanceof lt||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Yj(r),new Zr(t.firestore,null,r)}}function Zj(t,e,...n){if(t=yn(t),1===arguments.length&&(e=lB.A()),DS("doc","path",e),t instanceof Sd){const r=ye.fromString(e,...n);return Qj(r),new lt(t,null,new M(r))}{if(!(t instanceof lt||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Qj(r),new lt(t.firestore,t instanceof Zr?t.converter:null,new M(r))}}class Sde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _0(this,"async_queue_retry"),this.Xc=()=>{const n=Xg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!yo(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=L0.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ue extends Sd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tH(this),this._firestoreClient.terminate()}}function Mde(t,e){const r="string"==typeof t?t:e||"(default)",i=Ga("object"==typeof t?t:Xw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=BF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function bde(t,e,n,r={}){var i;const o=(t=ge(t,Sd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Dr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Pt.MOCK_USER;else{s=function UJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[np(JSON.stringify({alg:"none",type:"JWT"})),np(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Pt(u)}t._authCredentials=new Due(new uB(s,a))}}(i,...o)}return i}function yt(t){return t._firestoreClient||tH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tH(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new nce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Wj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new gde(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(bt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iH{constructor(e){this._methodName=e}}class bS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const Nde=/^__.*__$/;class Rde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}function sH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class sm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return um(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sH(this.ca)&&Nde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cd(e)}ya(e,n,r,i=!1){return new sm({ca:e,methodName:n,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ku(t){const e=t._freezeSettings(),n=Cd(t._databaseId);return new kde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TS(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);AS("Data must be an object, but it was:",s,r);const a=dH(r,s);let u,c;if(o.merge)u=new On(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=xd(e,d,n);if(!s.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fH(l,h)||l.push(h)}u=new On(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Rde(new Wt(a),u,c)}function Vs(t,e){if(hH(t=yn(t)))return AS("Unsupported field value:",e,t),dH(t,e);if(t instanceof iH)return function(n,r){if(!sH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Vs(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=yn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return t$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:yu(r.serializer,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yu(r.serializer,i)}}if(n instanceof bS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ls)return{bytesValue:E$(r.serializer,n._byteString)};if(n instanceof lt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${om(n)}`)}(t,e)}function dH(t,e){const n={};return CB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const o=Vs(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function hH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof bS||t instanceof Ls||t instanceof lt||t instanceof iH)}function AS(t,e,n){if(!hH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=om(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function xd(t,e,n){if((e=yn(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return am(t,e);throw um("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lde=new RegExp("[~\\*/\\[\\]]");function am(t,e,n){if(e.search(Lde)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function um(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function fH(t,e){return t.some(n=>n.isEqual(e))}class MS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Vde extends MS{data(){return super.data()}}function cm(t,e){return"string"==typeof e?am(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}class Bde{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new bS(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);$(R$(r));const i=new Cs(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||at(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends MS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fm extends Ou{data(e={}){return super.data(e)}}class Fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fm(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new fm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Us(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new fm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Us(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:jde(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class xo extends Bde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function Hde(t){t=ge(t,Kt);const e=ge(t.firestore,Ue),n=yt(e),r=new xo(e);return function pH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),qj(n,t._query).then(i=>new Fu(e,r,t,i))}function Gde(t){return Rd(ge(t.firestore,Ue),[new mu(t._key,He.none())])}function zde(t,e){const n=ge(t.firestore,Ue),r=Zj(t),i=function NS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Rd(n,[TS(ku(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,He.exists(!1))]).then(()=>r)}function Rd(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(g(function*(){return function Qle(t,e,n){return K0.apply(this,arguments)}(yield function IS(t){return rm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}!function(t,e=!0){su=us,_n(new rn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ue(new Cue(n.getProvider("auth-internal")),new Sue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),et(aB,"3.12.0",t),et(aB,"3.12.0","esm2017")}();class gm{constructor(e){return e}}const EH="firestore",kS=new U("angularfire2.firestore-instances");function ohe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new gm(r)}}const she={provide:class rhe{constructor(){return ZE(EH)}},deps:[[new fn,kS]]},ahe={provide:gm,useFactory:function ihe(t,e){const n=JE(EH,t,e);return n&&new gm(n)},deps:[[new fn,kS],Ka]};let uhe=(()=>{class t{constructor(){et("angularfire",yp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t}),t.\u0275inj=Qt({providers:[ahe,she]}),t})();function che(t,...e){return{ngModule:uhe,providers:[{provide:kS,useFactory:ohe(t),multi:!0,deps:[Me,Gn,eD,tD,[new fn,UV],[new fn,DD],...e]}]}}const lhe=Gr(zde,!0),DH=Gr(Tde,!0),dhe=Gr(Gde,!0),hhe=Gr(Zj,!0),fhe=Gr(Hde,!0),phe=Gr(Mde,!0);let CH=(()=>{class t{constructor(n){this.db=n,this.supplierList=[],this.supplierDocumentList=[]}createSupplier(n){var r=this;return g(function*(){try{yield lhe(DH(r.db,"suppliers"),{name:n.name,address:n.address,contactNumber:n.contactNumber,contactEmail:n.contactEmail,supplierRating:n.supplierRating,items:n.items,methodsOfPayment:n.methodsOfPayment}),console.log("Supplier data added.")}catch(i){console.error("Error adding data.",i)}})()}fetchData(){var n=this;return g(function*(){try{(yield fhe(DH(n.db,"suppliers"))).forEach(i=>{n.supplierList.push({...i.data(),id:i.id}),n.supplierDocumentList.push(i)})}catch(r){console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(H(gm))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ghe(t,e){1&t&&(O(0,"p",18),z(1," Field is required. "),N())}function mhe(t,e){if(1&t&&(dr(0),Fe(1,ghe,2,0,"p",17),hr()),2&t){const n=en(2);te(1),de("ngIf",null==n.supplierForm.controls.name.errors?null:n.supplierForm.controls.name.errors.required)}}function yhe(t,e){1&t&&(O(0,"p",18),z(1," Field is required. "),N())}function _he(t,e){if(1&t&&(dr(0),Fe(1,yhe,2,0,"p",17),hr()),2&t){const n=en(2);te(1),de("ngIf",null==n.supplierForm.controls.address.errors?null:n.supplierForm.controls.address.errors.required)}}function vhe(t,e){1&t&&(O(0,"p",18),z(1," Field is required. "),N())}function whe(t,e){if(1&t&&(dr(0),Fe(1,vhe,2,0,"p",17),hr()),2&t){const n=en(2);te(1),de("ngIf",null==n.supplierForm.controls.contactNumber.errors?null:n.supplierForm.controls.contactNumber.errors.required)}}function Ihe(t,e){1&t&&(O(0,"p",18),z(1," Field is required. "),N())}function Ehe(t,e){1&t&&(O(0,"p",18),z(1," Email is required. "),N())}function Dhe(t,e){if(1&t&&(dr(0),Fe(1,Ihe,2,0,"p",17),Fe(2,Ehe,2,0,"p",17),hr()),2&t){const n=en(2);te(1),de("ngIf",null==n.supplierForm.controls.contactEmail.errors?null:n.supplierForm.controls.contactEmail.errors.required),te(1),de("ngIf",null==n.supplierForm.controls.contactEmail.errors?null:n.supplierForm.controls.contactEmail.errors.email)}}function Che(t,e){1&t&&(O(0,"p",18),z(1," Field is required. "),N())}function bhe(t,e){1&t&&(O(0,"p",18),z(1," Value too low. "),N())}function The(t,e){1&t&&(O(0,"p",18),z(1," Value too high. "),N())}function She(t,e){if(1&t&&(dr(0),Fe(1,Che,2,0,"p",17),Fe(2,bhe,2,0,"p",17),Fe(3,The,2,0,"p",17),hr()),2&t){const n=en(2);te(1),de("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.required),te(1),de("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.min),te(1),de("ngIf",null==n.supplierForm.controls.supplierRating.errors?null:n.supplierForm.controls.supplierRating.errors.max)}}function Ahe(t,e){if(1&t){const n=Da();O(0,"div")(1,"div",19),qe(2,"input",20),N(),O(3,"div",19),qe(4,"input",21),N(),O(5,"div",19),qe(6,"input",22),N(),O(7,"div")(8,"button",23),Be("click",function(){const o=zi(n).index;return qi(en(2).removeItem(o))}),z(9," Remove Item "),N()()()}if(2&t){const n=e.index;te(1),de("formGroupName",n),te(2),de("formGroupName",n),te(2),de("formGroupName",n)}}function Mhe(t,e){if(1&t){const n=Da();O(0,"div"),qe(1,"input",24),O(2,"button",23),Be("click",function(){const o=zi(n).index;return qi(en(2).removeMethodOfPayment(o))}),z(3," Remove Method of Payment "),N()()}if(2&t){const n=e.index;te(1),de("formControlName",n)}}function xhe(t,e){if(1&t){const n=Da();dr(0),O(1,"div",3)(2,"form",4),Be("ngSubmit",function(){return zi(n),qi(en().submitAddSupplier())}),O(3,"div",5),qe(4,"input",6),Fe(5,mhe,2,1,"ng-container",2),N(),O(6,"div",5),qe(7,"input",7),Fe(8,_he,2,1,"ng-container",2),N(),O(9,"div",5),qe(10,"input",8),Fe(11,whe,2,1,"ng-container",2),N(),O(12,"div",5),qe(13,"input",9),Fe(14,Dhe,3,2,"ng-container",2),N(),O(15,"div",5)(16,"label"),z(17,"Supplier Rating:"),N(),qe(18,"input",10),Fe(19,She,4,3,"ng-container",2),N(),qe(20,"hr"),O(21,"h1",11),z(22,"Items"),N(),O(23,"div",12),Fe(24,Ahe,10,3,"div",13),N(),O(25,"div")(26,"button",14),Be("click",function(){return zi(n),qi(en().addItem())}),z(27," Add Item "),N()(),O(28,"h1",11),z(29,"Methods of Payment"),N(),O(30,"div",15),Fe(31,Mhe,4,1,"div",13),N(),O(32,"div")(33,"button",14),Be("click",function(){return zi(n),qi(en().addMethodOfPayment())}),z(34," Add Method of Payment "),N()(),O(35,"button",16),z(36," Submit "),N()()(),hr()}if(2&t){const n=en();te(2),de("formGroup",n.supplierForm),te(3),de("ngIf",n.supplierForm.controls.name.touched&&n.supplierForm.controls.name.dirty),te(3),de("ngIf",n.supplierForm.controls.address.touched&&n.supplierForm.controls.address.dirty),te(3),de("ngIf",n.supplierForm.controls.contactNumber.touched&&n.supplierForm.controls.contactNumber.dirty),te(3),de("ngIf",n.supplierForm.controls.contactEmail.touched&&n.supplierForm.controls.contactEmail.dirty),te(5),de("ngIf",n.supplierForm.controls.supplierRating.touched&&n.supplierForm.controls.supplierRating.dirty),te(5),de("ngForOf",n.getItemsControls()),te(7),de("ngForOf",n.getMethodsOfPaymentControls()),te(4),de("disabled",n.supplierForm.invalid)}}function Nhe(t,e){if(1&t&&(O(0,"div")(1,"div",26)(2,"h1",31),z(3),Zh(4,"uppercase"),N(),O(5,"div",32)(6,"p"),z(7,"Price/Unit:"),N(),O(8,"p"),z(9),N()(),O(10,"div",32)(11,"p"),z(12,"MOQ:"),N(),O(13,"p"),z(14),N()()()()),2&t){const n=e.$implicit;te(3),pi(ef(4,3,n.itemName)),te(6),qo("\u20b1 ",n.pricePerUnit,""),te(5),qo("",n.moq," units")}}function Rhe(t,e){if(1&t){const n=Da();dr(0),O(1,"div",25)(2,"div",26)(3,"h1",27),z(4,"Supplier Name:"),N(),O(5,"p",28),z(6),N()(),O(7,"div",26)(8,"h1",27),z(9,"Supplier Address:"),N(),O(10,"p",28),z(11),N()(),O(12,"div",26)(13,"h1",27),z(14,"Contact Number:"),N(),O(15,"p",28),z(16),N()(),O(17,"div",26)(18,"h1",27),z(19,"Contact Email:"),N(),O(20,"p",28),z(21),N()(),O(22,"div",26)(23,"h1",27),z(24,"Supplier Rating:"),N(),O(25,"p",28),z(26),N()(),O(27,"div",5)(28,"h1",27),z(29,"Items:"),N(),Fe(30,Nhe,15,5,"div",13),N(),O(31,"div",26)(32,"h1",27),z(33,"Methods of Payment:"),N(),O(34,"p",28),z(35),Zh(36,"uppercase"),N()(),O(37,"div",29)(38,"a",30),Be("click",function(i){return zi(n),qi(en().deleteSupplier(i))}),z(39," Delete Supplier"),N()()(),hr()}if(2&t){const n=en();te(6),pi(n.supplierName),te(5),pi(n.supplierAddress),te(5),pi(n.supplierNumber),te(5),pi(n.supplierEmail),te(5),qo("",n.supplierRating,"/5"),te(4),de("ngForOf",n.supplierItems),te(5),pi(ef(36,7,n.supplierMOP))}}let khe=(()=>{class t{constructor(n,r){this.modal=n,this.masterlistService=r,this.supplierModalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber=0,this.supplierEmail="",this.supplierRating=0,this.supplierMOP="",this.supplierItems=[],this.supplierID="",this.supplierForm=new ka({name:new Rn("",[Nn.required]),address:new Rn("",[Nn.required]),contactNumber:new Rn(null,[Nn.required]),contactEmail:new Rn("",[Nn.required,Nn.email]),supplierRating:new Rn(0,[Nn.required,Nn.min(0),Nn.max(5)]),items:new uw([]),methodsOfPayment:new uw([])})}ngOnInit(){this.modal.register("supplier"),this.getItemsControls()}ngOnDestroy(){this.modal.unregister("supplier")}getItemsControls(){return this.supplierForm.get("items").controls}getMethodsOfPaymentControls(){return this.supplierForm.get("methodsOfPayment").controls}addItem(){const n=this.supplierForm.get("items"),r=new ka({itemName:new Rn(null,[Nn.required]),pricePerUnit:new Rn(null,[Nn.required]),moq:new Rn("",[Nn.required])});n.push(r)}addMethodOfPayment(){this.supplierForm.get("methodsOfPayment").push(new Rn(""))}removeItem(n){this.supplierForm.get("items").removeAt(n)}removeMethodOfPayment(n){this.supplierForm.get("methodsOfPayment").removeAt(n)}submitAddSupplier(){var n=this;return g(function*(){try{yield n.masterlistService.createSupplier(n.supplierForm.value),console.log(n.supplierForm.value),location.reload()}catch(r){return void console.error(r)}})()}deleteSupplier(n){var r=this;return g(function*(){n.preventDefault(),yield dhe(hhe(r.masterlistService.db,"suppliers",r.supplierID)),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(CH))},t.\u0275cmp=oi({type:t,selectors:[["app-supplier"]],inputs:{supplierModalTitle:"supplierModalTitle",supplierAction:"supplierAction",supplierName:"supplierName",supplierAddress:"supplierAddress",supplierNumber:"supplierNumber",supplierEmail:"supplierEmail",supplierRating:"supplierRating",supplierMOP:"supplierMOP",supplierItems:"supplierItems",supplierID:"supplierID"},decls:5,vars:3,consts:[["modalID","supplier"],["heading","",1,"text-xl","font-bold"],[4,"ngIf"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["formControlName","name","type","text","placeholder","Supplier Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","address","type","text","placeholder","Supplier Address",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactNumber","type","number","placeholder","Supplier Number",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactEmail","type","text","placeholder","Supplier Email",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","supplierRating","type","number","placeholder","Supplier Rating",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],[1,"mb-2"],["formArrayName","items"],[4,"ngFor","ngForOf"],["type","button",1,"rounded-lg","p-0.5","bg-amber-300","hover:bg-amber-400","w-full","mb-2",3,"click"],["formArrayName","methodsOfPayment"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"],[1,"mb-2",3,"formGroupName"],["formControlName","itemName","type","text","placeholder","Item Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","pricePerUnit","type","text","placeholder","Price per Unit",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","moq","type","text","placeholder","MOQ (Minimum Order Quantity)",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["type","button",1,"p-0.5","text-red-500","w-full","mb-2",3,"click"],["type","text","placeholder","Payment Method",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full","mb-2",3,"formControlName"],[1,"flex","flex-col","w-64"],[1,"flex","flex-col","align-middle","justify-between"],[1,"font-bold","pb-1"],[1,"pb-4","font-light"],[1,"flex","justify-center","align-middle"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[1,"pb-1"],[1,"flex","justify-between","font-light"]],template:function(n,r){1&n&&(O(0,"app-modal",0)(1,"p",1),z(2),N(),Fe(3,xhe,37,9,"ng-container",2),Fe(4,Rhe,40,9,"ng-container",2),N()),2&n&&(te(2),pi(r.supplierModalTitle),te(1),de("ngIf","isAdd"===r.supplierAction),te(1),de("ngIf","isView"===r.supplierAction))},dependencies:[Tv,If,BV,Ff,Vc,tw,zv,Sf,Gc,iw,Lf,Vf,Mv]}),t})();function Phe(t,e){if(1&t){const n=Da();O(0,"li",16),Be("click",function(){const o=zi(n).$implicit;return qi(en().viewSupplier(o))}),z(1),Zh(2,"uppercase"),N()}if(2&t){const n=e.$implicit;te(1),qo(" ",ef(2,1,n.name)," ")}}let Ohe=(()=>{class t{constructor(n,r=L(xi),i){this.modal=n,this.auth=r,this.masterlistService=i,this.modalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber=0,this.supplierEmail="",this.supplierRating=0,this.supplierMOP="",this.supplierItems=[],this.supplierID=""}ngOnInit(){var n=this;return g(function*(){yield n.masterlistService.fetchData()})()}addSupplier(){this.modalTitle="Add Supplier",this.modal.toggleModal("supplier"),this.supplierAction="isAdd"}viewSupplier(n){this.modalTitle="Supplier Details",this.modal.toggleModal("supplier"),this.supplierAction="isView",this.supplierName=n.name,this.supplierAddress=n.address,this.supplierNumber=n.contactNumber,this.supplierEmail=n.contactEmail,this.supplierRating=n.supplierRating,this.supplierMOP=n.methodsOfPayment.join(", "),this.supplierItems=n.items,this.supplierID=n.id}logout(n){var r=this;return g(function*(){n.preventDefault(),yield uae(r.auth),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Al),D(xi),D(CH))},t.\u0275cmp=oi({type:t,selectors:[["app-masterlist"]],decls:30,vars:11,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow"],[1,"font-bold","pb-1","text-center","text-xl"],[1,"flex","justify-center","align-middle"],["type","search","placeholder","Search item or supplier",1,"w-full"],["type","submit",1,"bg-blue-500","hover:bg-blue-600","text-white","w-20"],[1,"flex","justify-around","align-middle","py-2"],[1,"mr-2"],["type","radio"],[1,"mb-2"],[1,"flex","justify-center","align-middle","mb-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","p-0.5","w-1/2",3,"click"],[1,"flex","flex-col"],["class","flex justify-center align-middle mb-2 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[3,"supplierModalTitle","supplierAction","supplierName","supplierAddress","supplierNumber","supplierEmail","supplierRating","supplierMOP","supplierItems","supplierID"],[1,"flex","justify-center","align-middle","mb-2","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(O(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),z(4,"Supplier Masterlist"),N(),O(5,"form")(6,"div",3),qe(7,"app-input",4),O(8,"button",5),z(9," Search "),N()(),O(10,"div",6)(11,"div")(12,"label",7),z(13,"Supplier"),N(),qe(14,"input",8),N(),O(15,"div")(16,"label",7),z(17,"Item"),N(),qe(18,"input",8),N()()()(),qe(19,"hr",9),O(20,"div",10)(21,"button",11),Be("click",function(){return r.addSupplier()}),z(22," Add Supplier "),N()(),O(23,"div",12)(24,"ul"),Fe(25,Phe,3,3,"li",13),N()()(),O(26,"div",3)(27,"a",14),Be("click",function(o){return r.logout(o)}),z(28,"Log Out"),N()(),qe(29,"app-supplier",15),N()),2&n&&(te(25),de("ngForOf",r.masterlistService.supplierList),te(4),de("supplierModalTitle",r.modalTitle)("supplierAction",r.supplierAction)("supplierName",r.supplierName)("supplierAddress",r.supplierAddress)("supplierNumber",r.supplierNumber)("supplierEmail",r.supplierEmail)("supplierRating",r.supplierRating)("supplierMOP",r.supplierMOP)("supplierItems",r.supplierItems)("supplierID",r.supplierID))},dependencies:[Tv,$V,Ff,Sf,Of,khe,Mv]}),t})();function Fhe(t,e){1&t&&(O(0,"div"),qe(1,"app-home")(2,"app-auth-modal"),N())}function Lhe(t,e){1&t&&qe(0,"app-masterlist")}let Vhe=(()=>{class t{constructor(n){this.auth=n,this.title="ffc-ipad"}}return t.\u0275fac=function(n){return new(n||t)(D(cae))},t.\u0275cmp=oi({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authMasterlist",""]],template:function(n,r){if(1&n&&(Fe(0,Fhe,3,0,"div",0),Fe(1,Lhe,1,0,"ng-template",null,1,FR)),2&n){const i=function RN(t){return Qs(function w4(){return Q.lFrame.contextLView}(),fe+t)}(2);de("ngIf",!r.auth.isAuthenticated)("ngIfElse",i)}},dependencies:[If,lae,yae,Ohe]}),t})();const bH_firebase={apiKey:"AIzaSyDSC0bjZyz5JeKdGzDXf9rwsRHoh4_C9So",authDomain:"ffc-ipad.firebaseapp.com",projectId:"ffc-ipad",storageBucket:"ffc-ipad.appspot.com",messagingSenderId:"444173880131",appId:"1:444173880131:web:262b35ec914939335fbdf6"};let Uhe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ln({type:t,bootstrap:[Vhe]}),t.\u0275inj=Qt({imports:[WK,SJ,nY,xO,tY,Dre(()=>Cre(bH_firebase)),oae(()=>sae()),che(()=>phe())]}),t})();const $he=LV(Yw(bH_firebase));let TH=!1;$he.onAuthStateChanged(()=>{TH||zK().bootstrapModule(Uhe).catch(t=>console.error(t)),TH=!0})}},Ae=>{Ae(Ae.s=114)}]);