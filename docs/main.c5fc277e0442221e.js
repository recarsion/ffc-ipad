"use strict";(self.webpackChunkffc_ipad=self.webpackChunkffc_ipad||[]).push([[179],{114:()=>{function Te(t){return"function"==typeof t}function Fu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Nd=Fu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Fs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(o){e=o instanceof Nd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{OS(o)}catch(s){e=e??[],s instanceof Nd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)OS(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fs(n,e)}remove(e){const{_finalizers:n}=this;n&&Fs(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const kS=kn.EMPTY;function PS(t){return t instanceof kn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function OS(t){Te(t)?t():t.unsubscribe()}const Ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rd={setTimeout(t,e,...n){const{delegate:r}=Rd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Rd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function FS(t){Rd.setTimeout(()=>{const{onUnhandledError:e}=Ao;if(!e)throw t;e(t)})}function LS(){}const TH=fm("C",void 0,void 0);function fm(t,e,n){return{kind:t,value:e,error:n}}let Mo=null;function kd(t){if(Ao.useDeprecatedSynchronousErrorHandling){const e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Mo;if(Mo=null,n)throw r}}else t()}class pm extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,PS(e)&&e.add(this)):this.destination=kH}static create(e,n,r){return new Lu(e,n,r)}next(e){this.isStopped?mm(function AH(t){return fm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?mm(function SH(t){return fm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mm(TH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xH=Function.prototype.bind;function gm(t,e){return xH.call(t,e)}class NH{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pd(r)}else Pd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pd(n)}}}class Lu extends pm{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ao.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gm(e.next,o),error:e.error&&gm(e.error,o),complete:e.complete&&gm(e.complete,o)}):i=e}this.destination=new NH(i)}}function Pd(t){Ao.useDeprecatedSynchronousErrorHandling?function MH(t){Ao.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=t)}(t):FS(t)}function mm(t,e){const{onStoppedNotification:n}=Ao;n&&Rd.setTimeout(()=>n(t,e))}const kH={closed:!0,next:LS,error:function RH(t){throw t},complete:LS},ym="function"==typeof Symbol&&Symbol.observable||"@@observable";function xo(t){return t}function VS(t){return 0===t.length?xo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function FH(t){return t&&t instanceof pm||function OH(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&PS(t)}(n)?n:new Lu(n,r,i);return kd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=US(r))((i,o)=>{const s=new Lu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ym](){return this}pipe(...n){return VS(n)(this)}toPromise(n){return new(n=US(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function US(t){var e;return null!==(e=t??Ao.Promise)&&void 0!==e?e:Promise}const LH=Fu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yr=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new BS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new LH}next(n){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?kS:(this.currentObservers=null,o.push(n),new kn(()=>{this.currentObservers=null,Fs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ke;return n.source=this,n}}return t.create=(e,n)=>new BS(e,n),t})();class BS extends Yr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:kS}}function $S(t){return Te(t?.lift)}function Ft(t){return e=>{if($S(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(t,e,n,r,i){return new VH(t,e,n,r,i)}class VH extends pm{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(t,e){return Ft((n,r)=>{let i=0;n.subscribe(bt(r,o=>{r.next(t.call(e,o,i++))}))})}function HS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function No(t){return this instanceof No?(this.v=t,this):new No(t)}function jH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function zS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}const qS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function WS(t){return Te(t?.then)}function KS(t){return Te(t[ym])}function QS(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function YS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const XS=function GH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JS(t){return Te(t?.[XS])}function ZS(t){return function $H(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof No?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield No(n.read());if(i)return yield No(void 0);yield yield No(r)}}finally{n.releaseLock()}})}function eA(t){return Te(t?.getReader)}function ir(t){if(t instanceof Ke)return t;if(null!=t){if(KS(t))return function zH(t){return new Ke(e=>{const n=t[ym]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(qS(t))return function qH(t){return new Ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(WS(t))return function WH(t){return new Ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,FS)})}(t);if(QS(t))return tA(t);if(JS(t))return function KH(t){return new Ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(eA(t))return function QH(t){return tA(ZS(t))}(t)}throw YS(t)}function tA(t){return new Ke(e=>{(function YH(t,e){var n,r,i,o;return function UH(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jH(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Xr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Lt(t,e,n=1/0){return Te(e)?Lt((r,i)=>Ae((o,s)=>e(r,o,i,s))(ir(t(r,i))),n):("number"==typeof e&&(n=e),Ft((r,i)=>function XH(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let y=!1;ir(n(m,l++)).subscribe(bt(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();s?Xr(e,s,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(bt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ls(t=1/0){return Lt(xo,t)}const Er=new Ke(t=>t.complete());function vm(t){return t[t.length-1]}function nA(t){return Te(vm(t))?t.pop():void 0}function Vu(t){return function ZH(t){return t&&Te(t.schedule)}(vm(t))?t.pop():void 0}function Od(t,e=0){return Ft((n,r)=>{n.subscribe(bt(r,i=>Xr(r,t,()=>r.next(i),e),()=>Xr(r,t,()=>r.complete(),e),i=>Xr(r,t,()=>r.error(i),e)))})}function Fd(t,e=0){return Ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function rA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(n=>{Xr(n,e,()=>{const r=t[Symbol.asyncIterator]();Xr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tt(t,e){return e?function sG(t,e){if(null!=t){if(KS(t))return function tG(t,e){return ir(t).pipe(Fd(e),Od(e))}(t,e);if(qS(t))return function rG(t,e){return new Ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(WS(t))return function nG(t,e){return ir(t).pipe(Fd(e),Od(e))}(t,e);if(QS(t))return rA(t,e);if(JS(t))return function iG(t,e){return new Ke(n=>{let r;return Xr(n,e,()=>{r=t[XS](),Xr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(eA(t))return function oG(t,e){return rA(ZS(t),e)}(t,e)}throw YS(t)}(t,e):ir(t)}function wm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Lu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function Im(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Em(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const cG=Ie({__forward_ref__:Ie});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return _t(this())},t}function X(t){return Dm(t)?t():t}function Dm(t){return"function"==typeof t&&t.hasOwnProperty(cG)&&t.__forward_ref__===xe}function Cm(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(function bm(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Ld(t,e){throw new T(-201,!1)}function Wn(t,e){null==t&&function we(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vd(t){return oA(t,Ud)||oA(t,aA)}function oA(t,e){return t.hasOwnProperty(e)?t[e]:null}function sA(t){return t&&(t.hasOwnProperty(Tm)||t.hasOwnProperty(yG))?t[Tm]:null}const Ud=Ie({\u0275prov:Ie}),Tm=Ie({\u0275inj:Ie}),aA=Ie({ngInjectableDef:Ie}),yG=Ie({ngInjectorDef:Ie});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let Sm;function wn(t){const e=Sm;return Sm=t,e}function cA(t,e,n){const r=Vd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void Ld(_t(t))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Uu={},Am="__NG_DI_FLAG__",Bd="ngTempTokenPath",vG=/\n/gm,lA="__source";let Vs;function Li(t){const e=Vs;return Vs=t,e}function EG(t,e=q.Default){if(void 0===Vs)throw new T(-203,!1);return null===Vs?cA(t,void 0,e):Vs.get(t,e&q.Optional?null:void 0,e)}function $(t,e=q.Default){return(function uA(){return Sm}()||EG)(X(t),e)}function O(t,e=q.Default){return $(t,$d(e))}function $d(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mm(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){const a=r[s],u=DG(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function Bu(t,e){return t[Am]=e,t.prototype[Am]=e,t}function DG(t){return t[Am]}function Jr(t){return{toString:t}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),On=(()=>{return(t=On||(On={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",On;var t})();const Zr={},ye=[],jd=Ie({\u0275cmp:Ie}),xm=Ie({\u0275dir:Ie}),Nm=Ie({\u0275pipe:Ie}),hA=Ie({\u0275mod:Ie}),ei=Ie({\u0275fac:Ie}),$u=Ie({__NG_ELEMENT_ID__:Ie}),fA=Ie({__NG_ENV_ID__:Ie});function pA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];mA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function gA(t){return 3===t||4===t||6===t}function mA(t){return 64===t.charCodeAt(0)}function ju(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||yA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function yA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const _A="ng-template";function TG(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==pA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function vA(t){return 4===t.type&&t.value!==_A}function SG(t,e,n){return e===(4!==t.type||n?t.value:_A)}function AG(t,e,n){let r=4;const i=t.attrs||[],o=function NG(t){for(let e=0;e<t.length;e++)if(gA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!SG(t,u,n)||""===u&&1===e.length){if(or(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!TG(t.attrs,c,n)){if(or(r))return!1;s=!0}continue}const d=MG(8&r?"class":u,i,vA(t),n);if(-1===d){if(or(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==pA(f,c,0)||2&r&&c!==h){if(or(r))return!1;s=!0}}}}else{if(!s&&!or(r)&&!or(u))return!1;if(s&&or(u))continue;s=!1,r=u|1&r}}return or(r)||s}function or(t){return 0==(1&t)}function MG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function RG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wA(t,e,n=!1){for(let r=0;r<e.length;r++)if(AG(t,e[r],n))return!0;return!1}function kG(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function IA(t,e){return t?":not("+e.trim()+")":e}function PG(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!or(s)&&(e+=IA(o,i),i=""),r=s,o=o||!or(r);n++}return""!==i&&(e+=IA(o,i)),e}function ti(t){return Jr(()=>{const e=DA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null,id:""};CA(n);const r=t.dependencies;return n.directiveDefs=Hd(r,!1),n.pipeDefs=Hd(r,!0),n.id=function jG(t){let e=0;const n=JSON.stringify([t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,t.inputs,t.outputs,Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery]);for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function VG(t){return _e(t)||Qt(t)}function UG(t){return null!==t}function un(t){return Jr(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EA(t,e){if(null==t)return Zr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Q(t){return Jr(()=>{const e=DA(t);return CA(e),e})}function In(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function _e(t){return t[jd]||null}function Qt(t){return t[xm]||null}function En(t){return t[Nm]||null}function Fn(t,e){const n=t[hA]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function DA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EA(t.inputs,e),outputs:EA(t.outputs)}}function CA(t){t.features?.forEach(e=>e(t))}function Hd(t,e){if(!t)return null;const n=e?En:VG;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(UG)}const vt=0,N=1,ie=2,He=3,sr=4,Ro=5,Yt=6,Bs=7,Qe=8,$s=9,ko=10,ne=11,Hu=12,bA=13,js=14,lt=15,Gu=16,Hs=17,Cr=18,zu=19,TA=20,Vi=21,ni=22,Gd=23,zd=24,le=25,km=1,SA=2,br=7,qd=8,Gs=9,Vt=11;function Ln(t){return Array.isArray(t)&&"object"==typeof t[km]}function Dn(t){return Array.isArray(t)&&!0===t[km]}function Pm(t){return 0!=(4&t.flags)}function Po(t){return t.componentOffset>-1}function Wd(t){return 1==(1&t.flags)}function ar(t){return!!t.template}function Om(t){return 0!=(512&t[ie])}function Oo(t,e){return t.hasOwnProperty(ei)?t[ei]:null}let WG=Ne.WeakRef??class qG{constructor(e){this.ref=e}deref(){return this.ref}},QG=0,Tr=null,Kd=!1;function St(t){const e=Tr;return Tr=t,e}class RA{constructor(){this.id=QG++,this.ref=function KG(t){return new WG(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Kd;Kd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Kd=e}}producerAccessed(){if(Kd)throw new Error("");if(null===Tr)return;let e=Tr.producers.get(this.id);void 0===e?(e={consumerNode:Tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Tr.trackingVersion},Tr.producers.set(this.id,e),this.consumers.set(Tr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Tr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let kA=null;const PA=()=>{};class ZG extends RA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=PA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=St(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=PA,this.watch(this.registerOnCleanup)}finally{St(e)}}cleanup(){this.cleanupFn()}}class e4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kn(){return OA}function OA(t){return t.type.prototype.ngOnChanges&&(t.setInput=n4),t4}function t4(){const t=LA(this),e=t?.current;if(e){const n=t.previous;if(n===Zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function n4(t,e,n,r){const i=this.declaredInputs[n],o=LA(t)||function r4(t,e){return t[FA]=e}(t,{previous:Zr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new e4(u&&u.currentValue,e,a===Zr),t[r]=e}Kn.ngInherit=!0;const FA="__ngSimpleChanges__";function LA(t){return t[FA]||null}const Sr=function(t,e,n){};function Pe(t){for(;Array.isArray(t);)t=t[vt];return t}function Xd(t,e){return Pe(e[t])}function Cn(t,e){return Pe(e[t.index])}function BA(t,e){return t.data[e]}function zs(t,e){return t[e]}function bn(t,e){const n=e[t];return Ln(n)?n:n[vt]}function Jd(t){return 128==(128&t[ie])}function Ui(t,e){return null==e?null:t[e]}function $A(t){t[Hs]=0}function c4(t){1024&t[ie]||(t[ie]|=1024,HA(t,1))}function jA(t){1024&t[ie]&&(t[ie]&=-1025,HA(t,-1))}function HA(t,e){let n=t[He];if(null===n)return;n[Ro]+=e;let r=n;for(n=n[He];null!==n&&(1===e&&1===r[Ro]||-1===e&&0===r[Ro]);)n[Ro]+=e,r=n,n=n[He]}const K={lFrame:eM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qA(){return K.bindingsEnabled}function qs(){return null!==K.skipHydrationRootTNode}function E(){return K.lFrame.lView}function fe(){return K.lFrame.tView}function Bi(t){return K.lFrame.contextLView=t,t[Qe]}function $i(t){return K.lFrame.contextLView=null,t}function Ut(){let t=WA();for(;null!==t&&64===t.type;)t=t.parent;return t}function WA(){return K.lFrame.currentTNode}function Ar(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function $m(){return K.lFrame.isParent}function jm(){K.lFrame.isParent=!1}function cn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ws(){return K.lFrame.bindingIndex++}function I4(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hm(e)}function Hm(t){K.lFrame.currentDirectiveIndex=t}function zm(t){K.lFrame.currentQueryIndex=t}function D4(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Yt]:null}function JA(t,e,n){if(n&q.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=D4(o),null===i||(o=o[js],10&i.type))););if(null===i)return!1;e=i,t=o}const r=K.lFrame=ZA();return r.currentTNode=e,r.lView=t,!0}function qm(t){const e=ZA(),n=t[N];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZA(){const t=K.lFrame,e=null===t?null:t.child;return null===e?eM(t):e}function eM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tM(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nM=tM;function Wm(){const t=tM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(){return K.lFrame.selectedIndex}function Fo(t){K.lFrame.selectedIndex=t}let iM=!0;function Zd(){return iM}function ji(t){iM=t}function eh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function th(t,e,n){oM(t,e,3,n)}function nh(t,e,n,r){(3&t[ie])===n&&oM(t,e,n,r)}function Km(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function oM(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Hs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Hs]+=65536),(a<o||-1==o)&&(N4(t,n,e,u),t[Hs]=(4294901760&t[Hs])+u+2),u++}function sM(t,e){Sr(4,t,e);const n=St(null);try{e.call(t)}finally{St(n),Sr(5,t,e)}}function N4(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[Hs]>>16&&(3&t[ie])===e&&(t[ie]+=4096,sM(a,o)):sM(a,o)}const Ks=-1;class Ku{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function aM(t){return t!==Ks}function rh(t){return 32767&t}function ih(t,e){let n=function O4(t){return t>>16}(t),r=e;for(;n>0;)r=r[js],n--;return r}let Ym=!0;function oh(t){const e=Ym;return Ym=t,e}const uM=255,cM=5;let F4=0;const Mr={};function sh(t,e){const n=lM(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Xm(r.data,t),Xm(e,null),Xm(r.blueprint,null));const i=Jm(t,e),o=t.injectorIndex;if(aM(i)){const s=rh(i),a=ih(i,e),u=a[N].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Xm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Jm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=yM(i),null===r)return Ks;if(n++,i=i[js],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ks}function Zm(t,e,n){!function L4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($u)&&(r=n[$u]),null==r&&(r=n[$u]=F4++);const i=r&uM;e.data[t+(i>>cM)]|=1<<i}(t,e,n)}function dM(t,e,n){if(n&q.Optional||void 0!==t)return t;Ld()}function hM(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),!(n&(q.Self|q.Host))){const i=t[$s],o=wn(void 0);try{return i?i.get(e,r,n&q.Optional):cA(e,r,n&q.Optional)}finally{wn(o)}}return dM(r,0,n)}function fM(t,e,n,r=q.Default,i){if(null!==t){if(2048&e[ie]){const s=function j4(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ie]&&!(512&s[ie]);){const a=pM(o,s,n,r|q.Self,Mr);if(a!==Mr)return a;let u=o.parent;if(!u){const c=s[TA];if(c){const l=c.get(n,Mr,r);if(l!==Mr)return l}u=yM(s),s=s[js]}o=u}return i}(t,e,n,r,Mr);if(s!==Mr)return s}const o=pM(t,e,n,r,Mr);if(o!==Mr)return o}return hM(e,n,r,i)}function pM(t,e,n,r,i){const o=function B4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($u)?t[$u]:void 0;return"number"==typeof e?e>=0?e&uM:$4:e}(n);if("function"==typeof o){if(!JA(e,t,r))return r&q.Host?dM(i,0,r):hM(e,n,r,i);try{const s=o(r);if(null!=s||r&q.Optional)return s;Ld()}finally{nM()}}else if("number"==typeof o){let s=null,a=lM(t,e),u=Ks,c=r&q.Host?e[lt][Yt]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Jm(t,e):e[a+8],u!==Ks&&mM(r,!1)?(s=e[N],a=rh(u),e=ih(u,e)):a=-1);-1!==a;){const l=e[N];if(gM(o,a,l.data)){const d=U4(a,e,n,s,r,c);if(d!==Mr)return d}u=e[a+8],u!==Ks&&mM(r,e[N].data[a+8]===c)&&gM(o,a,e)?(s=l,a=rh(u),e=ih(u,e)):a=-1}}return i}function U4(t,e,n,r,i,o){const s=e[N],a=s.data[t+8],l=function ah(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&ar(f)&&f.type===n)return u}return null}(a,s,n,null==r?Po(a)&&Ym:r!=s&&0!=(3&a.type),i&q.Host&&o===a);return null!==l?Lo(e,s,l,a):Mr}function Lo(t,e,n,r){let i=t[n];const o=e.data;if(function R4(t){return t instanceof Ku}(i)){const s=i;s.resolving&&function lG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(o[n]));const a=oh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?wn(s.injectImpl):null;JA(t,r,q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function x4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=OA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&wn(u),oh(a),s.resolving=!1,nM()}}return i}function gM(t,e,n){return!!(n[e+(t>>cM)]&1<<t)}function mM(t,e){return!(t&q.Self||t&q.Host&&e)}class Qs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fM(this._tNode,this._lView,e,$d(r),n)}}function $4(){return new Qs(Ut(),E())}function Bt(t){return Jr(()=>{const e=t.prototype.constructor,n=e[ei]||ey(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ei]||ey(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ey(t){return Dm(t)?()=>{const e=ey(X(t));return e&&e()}:Oo(t)}function yM(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Yt]:null}const Xs="__parameters__";function Zs(t,e,n){return Jr(()=>{const r=function ty(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Xs)?u[Xs]:Object.defineProperty(u,Xs,{value:[]})[Xs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xu(t,e){t.forEach(n=>Array.isArray(n)?Xu(n,e):e(n))}function vM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ch(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ju(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vn(t,e,n){let r=ea(t,e);return r>=0?t[1|r]=n:(r=~r,function W4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ny(t,e){const n=ea(t,e);if(n>=0)return t[1|n]}function ea(t,e){return function wM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const dn=Bu(Zs("Optional"),8),dh=Bu(Zs("SkipSelf"),4);function ph(t){return 128==(128&t.flags)}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const pz=/^>|^->|<!--|-->|--!>|<!-$/g,gz=/(<|>)/,mz="\u200b$1\u200b";const cy=new Map;let yz=0;const dy="__ngContext__";function Xt(t,e){Ln(e)?(t[dy]=e[zu],function vz(t){cy.set(t[zu],t)}(e)):t[dy]=e}let hy;function fy(t,e){return hy(t,e)}function tc(t){const e=t[He];return Dn(e)?e[He]:e}function py(t){return UM(t[Hu])}function gy(t){return UM(t[sr])}function UM(t){for(;null!==t&&!Dn(t);)t=t[sr];return t}function ra(t,e,n,r,i){if(null!=r){let o,s=!1;Dn(r)?o=r:Ln(r)&&(s=!0,r=r[vt]);const a=Pe(r);0===t&&null!==n?null==i?GM(e,n,a):Vo(e,n,a,i||null,!0):1===t&&null!==n?Vo(e,n,a,i||null,!0):2===t?function wh(t,e,n){const r=_h(t,e);r&&function Vz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function $z(t,e,n,r,i){const o=n[br];o!==Pe(n)&&ra(e,t,r,o,i);for(let a=Vt;a<n.length;a++){const u=n[a];rc(u[N],u,t,e,r,o)}}(e,t,o,n,i)}}function my(t,e){return t.createComment(function NM(t){return t.replace(pz,e=>e.replace(gz,mz))}(e))}function yh(t,e,n){return t.createElement(e,n)}function $M(t,e){const n=t[Gs],r=n.indexOf(e);jA(e),n.splice(r,1)}function yy(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const i=r[Gu];null!==i&&i!==t&&$M(i,r),e>0&&(t[n-1][sr]=r[sr]);const o=ch(t,Vt+e);!function xz(t,e){rc(t,e,e[ne],2,null,null),e[vt]=null,e[Yt]=null}(r[N],r);const s=o[Cr];null!==s&&s.detachView(o[N]),r[He]=null,r[sr]=null,r[ie]&=-129}return r}function jM(t,e){if(!(256&e[ie])){const n=e[ne];e[Gd]?.destroy(),e[zd]?.destroy(),n.destroyNode&&rc(t,e,n,3,null,null),function kz(t){let e=t[Hu];if(!e)return _y(t[N],t);for(;e;){let n=null;if(Ln(e))n=e[Hu];else{const r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[sr]&&e!==t;)Ln(e)&&_y(e[N],e),e=e[He];null===e&&(e=t),Ln(e)&&_y(e[N],e),n=e&&e[sr]}e=n}}(e)}}function _y(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function Lz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ku)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Sr(4,a,u);try{u.call(a)}finally{Sr(5,a,u)}}else{Sr(4,i,o);try{o.call(i)}finally{Sr(5,i,o)}}}}}(t,e),function Fz(t,e){const n=t.cleanup,r=e[Bs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Bs]=null);const i=e[Vi];if(null!==i){for(let o=0;o<i.length;o++)(0,i[o])();e[Vi]=null}}(t,e),1===e[N].type&&e[ne].destroy();const n=e[Gu];if(null!==n&&Dn(e[He])){n!==e[He]&&$M(n,e);const r=e[Cr];null!==r&&r.detachView(t)}!function wz(t){cy.delete(t[zu])}(e)}}function vy(t,e,n){return function HM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[vt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===On.None||o===On.Emulated)return null}return Cn(r,n)}}(t,e.parent,n)}function Vo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function GM(t,e,n){t.appendChild(e,n)}function zM(t,e,n,r,i){null!==r?Vo(t,e,n,r,i):GM(t,e,n)}function _h(t,e){return t.parentNode(e)}function qM(t,e,n){return KM(t,e,n)}let wy,Cy,KM=function WM(t,e,n){return 40&t.type?Cn(t,n):null};function vh(t,e,n,r){const i=vy(t,r,e),o=e[ne],a=qM(r.parent||e[Yt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)zM(o,i,n[u],a,!1);else zM(o,i,n,a,!1);void 0!==wy&&wy(o,r,e,n,i)}function nc(t,e){if(null!==e){const n=e.type;if(3&n)return Cn(e,t);if(4&n)return Iy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nc(t,r);{const i=t[e.index];return Dn(i)?Iy(-1,i):Pe(i)}}if(32&n)return fy(e,t)()||Pe(t[e.index]);{const r=YM(t,e);return null!==r?Array.isArray(r)?r[0]:nc(tc(t[lt]),r):nc(t,e.next)}}return null}function YM(t,e){return null!==e?t[lt][Yt].projection[e.projection]:null}function Iy(t,e){const n=Vt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return nc(r,i)}return e[br]}function Ey(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Xt(Pe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ey(t,e,n.child,r,i,o,!1),ra(e,t,i,a,o);else if(32&u){const c=fy(n,r);let l;for(;l=c();)ra(e,t,i,l,o);ra(e,t,i,a,o)}else 16&u?JM(t,e,r,n,i,o):ra(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rc(t,e,n,r,i,o){Ey(n,r,t.firstChild,e,i,o,!1)}function JM(t,e,n,r,i,o){const s=n[lt],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ra(e,t,i,u[c],o);else{let c=u;const l=s[He];ph(r)&&(c.flags|=128),Ey(t,e,c,l,i,o,!0)}}function ZM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ex(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rm(t,e,r),null!==i&&ZM(t,e,i),null!==o&&function Hz(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class ix{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uc=new L("ENVIRONMENT_INITIALIZER"),px=new L("INJECTOR",-1),gx=new L("INJECTOR_DEF_TYPES");class mx{get(e,n=Uu){if(n===Uu){const r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}}function m3(...t){return{\u0275providers:_x(0,t),\u0275fromNgModule:!0}}function _x(t,...e){const n=[],r=new Set;let i;return Xu(e,o=>{const s=o;xy(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&vx(i,n),n}function vx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Ny(i,o=>{e.push(o)})}}function xy(t,e,n,r){if(!(t=X(t)))return!1;let i=null,o=sA(t);const s=!o&&_e(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=sA(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)xy(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Xu(o.imports,l=>{xy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&vx(c,e)}if(!a){const c=Oo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ye},{provide:gx,useValue:i,multi:!0},{provide:uc,useValue:()=>$(i),multi:!0})}const u=o.providers;null==u||a||Ny(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Ny(t,e){for(let n of t)Cm(n)&&(n=n.\u0275providers),Array.isArray(n)?Ny(n,e):e(n)}const y3=Ie({provide:String,useValue:Ie});function Ry(t){return null!==t&&"object"==typeof t&&y3 in t}function Uo(t){return"function"==typeof t}const ky=new L("Set Injector scope."),Ch={},v3={};let Py;function bh(){return void 0===Py&&(Py=new mx),Py}class si{}class Oy extends si{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ly(e,s=>this.processProvider(s)),this.records.set(px,oa(void 0,this)),i.has("environment")&&this.records.set(si,oa(void 0,this));const o=this.records.get(ky);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gx.multi,ye,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Li(this),r=wn(void 0);try{return e()}finally{Li(n),wn(r)}}get(e,n=Uu,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fA))return e[fA](this);r=$d(r);const i=Li(this),o=wn(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function C3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Vd(e);a=u&&this.injectableDefInScope(u)?oa(Fy(e),Ch):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?bh():this.parent).get(e,n=r&q.Optional&&n===Uu?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Bd]=s[Bd]||[]).unshift(_t(e)),i)throw s;return function CG(t,e,n,r){const i=t[Bd];throw e[lA]&&i.unshift(e[lA]),t.message=function bG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):_t(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Bd]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{wn(o),Li(i)}}resolveInjectorInitializers(){const e=Li(this),n=wn(void 0);try{const r=this.get(uc.multi,ye,q.Self);for(const i of r)i()}finally{Li(e),wn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Uo(e=X(e))?e:X(e&&e.provide);const r=function I3(t){return Ry(t)?oa(void 0,t.useValue):oa(Ex(t),Ch)}(e);if(Uo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=oa(void 0,Ch,!0),i.factory=()=>Mm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ch&&(n.value=v3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function D3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Fy(t){const e=Vd(t),n=null!==e?e.factory:Oo(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function w3(t){const e=t.length;if(e>0)throw Ju(e,"?"),new T(204,!1);const n=function mG(t){return t&&(t[Ud]||t[aA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function Ex(t,e,n){let r;if(Uo(t)){const i=X(t);return Oo(i)||Fy(i)}if(Ry(t))r=()=>X(t.useValue);else if(function Ix(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Mm(t.deps||[]));else if(function wx(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function E3(t){return!!t.deps}(t))return Oo(i)||Fy(i);r=()=>new i(...Mm(t.deps))}return r}function oa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ly(t,e){for(const n of t)Array.isArray(n)?Ly(n,e):n&&Cm(n)?Ly(n.\u0275providers,e):e(n)}const Th=new L("AppId",{providedIn:"root",factory:()=>b3}),b3="ng",Dx=new L("Platform Initializer"),Gi=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cx=new L("CSP nonce",{providedIn:"root",factory:()=>function ic(){if(void 0!==Cy)return Cy;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Tx=(t,e)=>null;function Sx(t,e){return Tx(t,e)}class O3{}class xx{}class L3{resolveComponentFactory(e){throw function F3(t){const e=Error(`No component factory found for ${_t(t)}.`);return e.ngComponent=t,e}(e)}}let Nh=(()=>{class t{}return t.NULL=new L3,t})();function V3(){return sa(Ut(),E())}function sa(t,e){return new Un(Cn(t,e))}let Un=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=V3,t})();class Rx{}let ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function B3(){const t=E(),n=bn(Ut().index,t);return(Ln(n)?n:t)[ne]}(),t})(),$3=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kx=new aa("16.0.1"),Ky={};function hc(t){for(;t;){t[ie]|=64;const e=tc(t);if(Om(t)&&!e)return t;t=e}return null}function Qy(t){return t.ngOriginalError}class Bo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qy(e);for(;n&&Qy(n);)n=Qy(n);return n||null}}const Fx=new L("",{providedIn:"root",factory:()=>!1});function ui(t){return t instanceof Function?t():t}class Ux extends RA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){hc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=St(this);this.trackingVersion++;try{e(n,r)}finally{St(i)}}destroy(){this.trackingVersion++}}let kh=null;function Bx(){return kh??=new Ux,kh}function $x(t,e){return t[e]??Bx()}function jx(t,e){const n=Bx();n.hasReadASignal&&(t[e]=kh,n.lView=t,kh=new Ux)}const re={};function Me(t){Hx(fe(),E(),ln()+t,!1)}function Hx(t,e,n,r){if(!r)if(3==(3&e[ie])){const o=t.preOrderCheckHooks;null!==o&&th(e,o,n)}else{const o=t.preOrderHooks;null!==o&&nh(e,o,0,n)}Fo(n)}function Wx(t,e=null,n=null,r){const i=Kx(t,e,n,r);return i.resolveInjectorInitializers(),i}function Kx(t,e=null,n=null,r,i=new Set){const o=[n||ye,m3(t)];return r=r||("object"==typeof t?void 0:_t(t)),new Oy(o,e||bh(),r||null,i)}let Bn=(()=>{class t{static create(n,r){if(Array.isArray(n))return Wx({name:""},r,n,"");{const i=n.name??"";return Wx({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Uu,t.NULL=new mx,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>$(px)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=q.Default){const n=E();return null===n?$(t,e):fM(Ut(),n,X(t),e)}function Ph(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[vt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),$A(d),d[He]=d[js]=t,d[Qe]=n,d[ko]=s||t&&t[ko],d[ne]=a||t&&t[ne],d[$s]=u||t&&t[$s]||null,d[Yt]=o,d[zu]=function _z(){return yz++}(),d[ni]=l,d[TA]=c,d[lt]=2==e.type?t[lt]:d,d}function ca(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Yy(t,e,n,r,i){const o=WA(),s=$m(),u=t.data[e]=function uq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return qs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function w4(){return K.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Wu(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ar(o,!0),o}function fc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Yx(t,e,n,r,i){const o=$x(e,Gd),s=ln(),a=2&r;try{if(Fo(-1),a&&e.length>le&&Hx(t,e,le,!1),Sr(a?2:0,i),a)o.runInContext(n,r,i);else{const c=St(null);try{n(r,i)}finally{St(c)}}}finally{a&&null===e[Gd]&&jx(e,Gd),Fo(s),Sr(a?3:1,i)}}function Xy(t,e,n){if(Pm(e)){const r=St(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{St(r)}}}function Jy(t,e,n){qA()&&(function gq(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Po(n)&&function Eq(t,e,n){const r=Cn(e,t),s=Oh(t,Ph(t,Xx(n),null,n.onPush?64:16,r,e,null,t[ko].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sh(n,e),Xt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Lo(e,t,a,n);Xt(c,e),null!==s&&Dq(0,a-i,c,u,0,s),ar(u)&&(bn(n.index,e)[Qe]=Lo(e,t,a,n))}}(t,e,n,Cn(n,e)),64==(64&n.flags)&&nN(t,e,n))}function Zy(t,e,n=Cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Xx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=e_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function e_(t,e,n,r,i,o,s,a,u,c,l){const d=le+r,h=d+i,f=function nq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let Jx=t=>null;function Zx(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?eN(n,e,i,o):r.hasOwnProperty(i)&&eN(n,e,r[i],o)}return n}function eN(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function t_(t,e,n,r){if(qA()){const i=null===r?null:{"":-1},o=function yq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(wA(e,s.selectors,!1))if(r||(r=[]),ar(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),n_(t,e,a.length)}else r.unshift(s),n_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&tN(t,e,n,s,i,a),i&&function _q(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new T(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=ju(n.mergedAttrs,n.attrs)}function tN(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Zm(sh(n,e),t,r[c].type);!function wq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=fc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ju(n.mergedAttrs,l.hostAttrs),Iq(t,n,e,u,l),vq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function cq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Zx(d.inputs,l,u,h?h.inputs:null),c=Zx(d.outputs,l,c,p);const m=null===u||null===s||vA(e)?null:Cq(u,l,s);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function nN(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function E4(){return K.lFrame.currentDirectiveIndex}();try{Fo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Hm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&mq(u,c)}}finally{Fo(-1),Hm(s)}}function mq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function n_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function Iq(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Oo(i.type)),s=new Ku(o,ar(i),D);t.blueprint[r]=s,n[r]=s,function fq(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function pq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,fc(t,n,i.hostVars,re),i)}function Dq(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)rN(r,n,s[a++],s[a++],s[a++])}function rN(t,e,n,r,i){const o=St(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{St(o)}}function Cq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function iN(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function oN(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];zm(n[r]),s.contentQueries(2,e[o],o)}}}function Oh(t,e){return t[Hu]?t[bA][sr]=e:t[Hu]=e,t[bA]=e,e}function i_(t,e,n){zm(0);const r=St(null);try{e(t,n)}finally{St(r)}}function cN(t,e){const n=t[$s],r=n?n.get(Bo,null):null;r&&r.handleError(e)}function o_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];rN(t.data[s],e[s],r,a,i)}}function bq(t,e){const n=bn(e,t),r=n[N];!function Tq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[vt];null!==i&&null===n[ni]&&(n[ni]=Sx(i,n[$s])),s_(r,n,n[Qe])}function s_(t,e,n){qm(e);try{const r=t.viewQuery;null!==r&&i_(1,r,n);const i=t.template;null!==i&&Yx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&oN(t,e),t.staticViewQueries&&i_(2,t.viewQuery,n);const o=t.components;null!==o&&function Sq(t,e){for(let n=0;n<e.length;n++)bq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Wm()}}let lN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new ZG(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),t})();function Fh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Em(i,a):2==o&&(r=Em(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function pc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Pe(o)),Dn(o)){for(let a=Vt;a<o.length;a++){const u=o[a],c=u[N].firstChild;null!==c&&pc(u[N],u,c,r)}o[br]!==o[vt]&&r.push(o[br])}const s=n.type;if(8&s)pc(t,e,n.child,r);else if(32&s){const a=fy(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=YM(e,n);if(Array.isArray(a))r.push(...a);else{const u=tc(e[lt]);pc(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Lh(t,e,n,r=!0){const i=e[ko].rendererFactory;i.begin&&i.begin();try{Vh(t,e,t.template,n)}catch(s){throw r&&cN(e,s),s}finally{i.end&&i.end(),e[ko].effectManager?.flush()}}function Vh(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[ko].effectManager?.flush(),qm(e);try{$A(e),function QA(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Yx(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&th(e,c,null)}else{const c=t.preOrderHooks;null!==c&&nh(e,c,0,null),Km(e,0)}if(function kq(t){for(let e=py(t);null!==e;e=gy(e)){if(!e[SA])continue;const n=e[Gs];for(let r=0;r<n.length;r++){c4(n[r])}}}(e),function Rq(t){for(let e=py(t);null!==e;e=gy(e))for(let n=Vt;n<e.length;n++){const r=e[n],i=r[N];Jd(r)&&Vh(i,r,i.template,r[Qe])}}(e),null!==t.contentQueries&&oN(t,e),s){const c=t.contentCheckHooks;null!==c&&th(e,c)}else{const c=t.contentHooks;null!==c&&nh(e,c,1),Km(e,1)}!function tq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=$x(e,zd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Fo(~o);else{const s=o,a=n[++i],u=n[++i];I4(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[zd]&&jx(e,zd),Fo(-1)}}(t,e);const a=t.components;null!==a&&function Oq(t,e){for(let n=0;n<e.length;n++)Pq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&i_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&th(e,c)}else{const c=t.viewHooks;null!==c&&nh(e,c,2),Km(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,jA(e)}finally{Wm()}}}function Pq(t,e){const n=bn(e,t);if(Jd(n)){const r=n[N];80&n[ie]?Vh(r,n,r.template,n[Qe]):n[Ro]>0&&a_(n)}}function a_(t){for(let r=py(t);null!==r;r=gy(r))for(let i=Vt;i<r.length;i++){const o=r[i];if(Jd(o))if(1024&o[ie]){const s=o[N];Vh(s,o,s.template,o[Qe])}else o[Ro]>0&&a_(o)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);Jd(i)&&i[Ro]>0&&a_(i)}}class gc{get rootNodes(){const e=this._lView,n=e[N];return pc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[He];if(Dn(e)){const n=e[qd],r=n?n.indexOf(this):-1;r>-1&&(yy(e,r),ch(n,r))}this._attachedToViewContainer=!1}jM(this._lView[N],this._lView)}onDestroy(e){!function GA(t,e){if(256==(256&t[ie]))throw new T(911,!1);null===t[Vi]&&(t[Vi]=[]),t[Vi].push(e)}(this._lView,e)}markForCheck(){hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Lh(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rz(t,e){rc(t,e,e[ne],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Fq extends gc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Lh(e[N],e,e[Qe],!1)}checkNoChanges(){}get context(){return null}}class dN extends Nh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new mc(n,this.ngModule)}}function hN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Vq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$d(r);const i=this.injector.get(e,Ky,r);return i!==Ky||n===Ky?i:this.parentInjector.get(e,n,r)}}class mc extends xx{get inputs(){return hN(this.componentDef.inputs)}get outputs(){return hN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function OG(t){return t.map(PG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof si?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Vq(e,o):e,a=s.get(Rx,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:s.get($3,null),effectManager:s.get(lN,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function rq(t,e,n,r){const o=r.get(Fx,!1)||n===On.ShadowDom,s=t.selectRootElement(e,o);return function iq(t){Jx(t)}(s),s}(d,r,this.componentDef.encapsulation,s):yh(d,h,function Lq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=e_(0,null,null,1,0,null,null,null,null,null,null),y=Ph(null,m,null,p,null,null,l,d,s,null,null);let w,_;qm(y);try{const C=this.componentDef;let P,V=null;C.findHostDirectiveDefs?(P=[],V=new Map,C.findHostDirectiveDefs(C,P,V),P.push(C)):P=[C];const ue=function Bq(t,e){const n=t[N],r=le;return t[r]=e,ca(n,r,2,"#host",null)}(y,f),yt=function $q(t,e,n,r,i,o,s){const a=i[N];!function jq(t,e,n,r){for(const i of t)e.mergedAttrs=ju(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Fh(e,e.mergedAttrs,!0),null!==n&&ex(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=Sx(e,i[$s]));const c=o.rendererFactory.createRenderer(e,n),l=Ph(i,Xx(n),null,n.onPush?64:16,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&n_(a,t,r.length-1),Oh(i,l),i[t.index]=l}(ue,f,C,P,y,l,d);_=BA(m,le),f&&function Gq(t,e,n,r){if(r)Rm(t,n,["ng-version",kx.full]);else{const{attrs:i,classes:o}=function FG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!or(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rm(t,n,i),o&&o.length>0&&ZM(t,n,o.join(" "))}}(d,C,f,r),void 0!==n&&function zq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,n),w=function Hq(t,e,n,r,i,o){const s=Ut(),a=i[N],u=Cn(s,i);tN(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Xt(Lo(i,a,s.directiveStart+l,s),i);nN(a,i,s),u&&Xt(u,i);const c=Lo(i,a,s.directiveStart+s.componentOffset,s);if(t[Qe]=i[Qe]=c,null!==o)for(const l of o)l(c,e);return Xy(a,s,t),c}(yt,C,P,V,y,[qq]),s_(m,y,null)}finally{Wm()}return new Uq(this.componentType,w,sa(_,y),y,_)}}class Uq extends O3{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;o_(o[N],o,i,e,n),this.previousInputValues.set(e,n),hc(bn(this._tNode.index,o))}}get injector(){return new Qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qq(){const t=Ut();eh(E()[N],t)}function Ee(t){let e=function fN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=u_(t.inputs),s.declaredInputs=u_(t.declaredInputs),s.outputs=u_(t.outputs);const a=i.hostBindings;a&&Yq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Kq(t,u),c&&Qq(t,c),Im(t.inputs,i.inputs),Im(t.declaredInputs,i.declaredInputs),Im(t.outputs,i.outputs),ar(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ee&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Wq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ju(i.hostAttrs,n=ju(n,i.hostAttrs))}}(r)}function u_(t){return t===Zr?{}:t===ye?[]:t}function Kq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Qq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function Yq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Uh(t){return!!c_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function c_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ur(t,e,n,r,i,o,s,a){const u=E(),c=fe(),l=t+le,d=c.firstCreatePass?function I6(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ca(e,t,4,s||null,Ui(c,a));t_(e,n,l,Ui(c,u)),eh(e,l);const d=l.tView=e_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Ar(d,!1);const h=MN(c,u,d,t);Zd()&&vh(c,u,h,d),Xt(h,u),Oh(u,u[l]=iN(h,u,h,d)),Wd(d)&&Jy(c,u,d),null!=s&&Zy(u,d,a)}let MN=function xN(t,e,n,r){return ji(!0),e[ne].createComment("")};function Ve(t,e,n){const r=E();return Jt(r,Ws(),e)&&function $n(t,e,n,r,i,o,s,a){const u=Cn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(o_(t,n,l,r,i),Po(e)&&function dq(t,e){const n=bn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function lq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(fe(),function Ge(){const t=K.lFrame;return BA(t.tView,t.selectedIndex)}(),r,t,e,r[ne],n,!1),Ve}function g_(t,e,n,r,i){const s=i?"class":"style";o_(t,n,e.inputs[s],s,r)}function j(t,e,n,r){const i=E(),o=fe(),s=le+t,a=i[ne],u=o.firstCreatePass?function b6(t,e,n,r,i,o){const s=e.consts,u=ca(e,t,2,r,Ui(s,i));return t_(e,n,u,Ui(s,o)),null!==u.attrs&&Fh(u,u.attrs,!1),null!==u.mergedAttrs&&Fh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=RN(o,i,u,a,e,t);i[s]=c;const l=Wd(u);return Ar(u,!0),ex(a,c,u),32!=(32&u.flags)&&Zd()&&vh(o,i,c,u),0===function d4(){return K.lFrame.elementDepthCount}()&&Xt(c,i),function h4(){K.lFrame.elementDepthCount++}(),l&&(Jy(o,i,u),Xy(o,u,i)),null!==r&&Zy(i,u),j}function H(){let t=Ut();$m()?jm():(t=t.parent,Ar(t,!1));const e=t;(function p4(t){return K.skipHydrationRootTNode===t})(e)&&function _4(){K.skipHydrationRootTNode=null}(),function f4(){K.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(eh(n,t),Pm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function k4(t){return 0!=(8&t.flags)}(e)&&g_(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function P4(t){return 0!=(16&t.flags)}(e)&&g_(n,e,E(),e.stylesWithoutHost,!1),H}function Ye(t,e,n,r){return j(t,e,n,r),H(),Ye}let RN=(t,e,n,r,i,o)=>(ji(!0),yh(r,i,function rM(){return K.lFrame.currentNamespace}()));function va(t,e,n){const r=E(),i=fe(),o=t+le,s=i.firstCreatePass?function A6(t,e,n,r,i){const o=e.consts,s=Ui(o,r),a=ca(e,t,8,"ng-container",s);return null!==s&&Fh(a,s,!0),t_(e,n,a,Ui(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Ar(s,!0);const a=PN(i,r,s,t);return r[o]=a,Zd()&&vh(i,r,a,s),Xt(a,r),Wd(s)&&(Jy(i,r,s),Xy(i,s,r)),null!=n&&Zy(r,s),va}function wa(){let t=Ut();const e=fe();return $m()?jm():(t=t.parent,Ar(t,!1)),e.firstCreatePass&&(eh(e,t),Pm(t)&&e.queries.elementEnd(t)),wa}let PN=(t,e,n,r)=>(ji(!0),my(e[ne],""));function Ia(){return E()}function Ic(t){return!!t&&"function"==typeof t.then}function ON(t){return!!t&&"function"==typeof t.subscribe}function Ue(t,e,n,r){const i=E(),o=fe(),s=Ut();return function LN(t,e,n,r,i,o,s){const a=Wd(r),c=t.firstCreatePass&&function aN(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Qe],d=function sN(t){return t[Bs]||(t[Bs]=[])}(e);let h=!0;if(3&r.type||s){const m=Cn(r,e),y=s?s(m):m,w=d.length,_=s?P=>s(Pe(P[r.index])):r.index;let C=null;if(!s&&a&&(C=function N6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Bs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=UN(r,e,l,o,!1);const P=n.listen(y,i,o);d.push(o,P),c&&c.push(i,_,w,w+1)}}else o=UN(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(o),ue=d.length;d.push(o,V),c&&c.push(i,r.index,ue,-(ue+1))}}}(o,i,i[ne],s,t,e,r),Ue}function VN(t,e,n,r){try{return Sr(6,e,n),!1!==n(r)}catch(i){return cN(t,i),!1}finally{Sr(7,e,n)}}function UN(t,e,n,r,i){return function o(s){if(s===Function)return r;hc(t.componentOffset>-1?bn(t.index,e):e);let u=VN(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=VN(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function cr(t=1){return function C4(t){return(K.lFrame.contextLView=function b4(t,e){for(;t>0;)e=e[js],t--;return e}(t,K.lFrame.contextLView))[Qe]}(t)}function R6(t,e){let n=null;const r=function xG(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wA(t,o,!0):kG(r,o))return i}else n=i}return n}function m_(t,e=0,n){const r=E(),i=fe(),o=ca(i,le+t,16,null,n||null);null===o.projection&&(o.projection=e),jm(),(!r[ni]||qs())&&32!=(32&o.flags)&&function Bz(t,e,n){JM(e[ne],0,e,n,vy(t,n,e),qM(n.parent||e[Yt],n,e))}(i,r,o)}function Gh(t,e){return t<<17|e<<2}function zi(t){return t>>17&32767}function __(t){return 2|t}function jo(t){return(131068&t)>>2}function v_(t,e){return-131069&t|e<<2}function w_(t){return 1|t}function YN(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?zi(o):jo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];V6(t[a],e)&&(u=!0,t[a+1]=r?w_(l):__(l)),a=r?zi(l):jo(l)}u&&(t[n+1]=r?__(o):w_(o))}function V6(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ea(t,e)>=0}function zh(t,e){return function lr(t,e,n,r){const i=E(),o=fe(),s=function ii(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function o1(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ln()],s=function i1(t,e){return e>=t.expandoStartIndex}(t,n);(function c1(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function W6(t,e,n,r){const i=function Gm(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ec(n=I_(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=I_(i,t,e,n,r),null===o){let u=function K6(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==jo(r))return t[zi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=I_(null,t,e,u[1],r),u=Ec(u,e.attrs,r),function Q6(t,e,n,r){t[zi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function Y6(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ec(r,t[o].hostAttrs,n);return Ec(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function F6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zi(s),u=jo(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ea(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=zi(t[a+1]);t[r+1]=Gh(h,a),0!==h&&(t[h+1]=v_(t[h+1],r)),t[a+1]=function P6(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Gh(a,0),0!==a&&(t[a+1]=v_(t[a+1],r)),a=r;else t[r+1]=Gh(u,0),0===a?a=r:t[u+1]=v_(t[u+1],r),u=r;c&&(t[r+1]=__(t[r+1])),YN(t,l,r,!0),YN(t,l,r,!1),function L6(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ea(o,e)>=0&&(n[r+1]=w_(n[r+1]))}(e,l,t,r,o),s=Gh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==re&&Jt(i,s,e)&&function a1(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function O6(t){return 1==(1&t)}(c)?u1(u,e,n,i,jo(c),s):void 0;qh(l)||(qh(o)||function k6(t){return 2==(2&t)}(c)&&(o=u1(u,null,n,i,a,s)),function jz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Tn.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tn.Important),t.setStyle(n,r,i,o))}}(r,s,Xd(ln(),n),i,o))}(o,o.data[ln()],i,i[ne],t,i[s+1]=function e5(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=_t(function Hi(t){return t instanceof ix?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}(t,e,null,!0),zh}function I_(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ec(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ec(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,s,!!n||e[++o]))}return void 0===t?null:t}function u1(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ye:void 0);let f=d?ny(h,r):l===r?h:void 0;if(c&&!qh(f)&&(f=ny(u,r)),qh(f)&&(a=f,s))return a;const p=t[i+1];i=s?zi(p):jo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ny(u,r))}return a}function qh(t){return void 0!==t}function pe(t,e=""){const n=E(),r=fe(),i=t+le,o=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],s=l1(r,n,o,e,t);n[i]=s,Zd()&&vh(r,n,s,o),Ar(o,!1)}let l1=(t,e,n,r,i)=>(ji(!0),function mh(t,e){return t.createText(e)}(e[ne],r));function qi(t){return Wh("",t,""),qi}function Wh(t,e,n){const r=E(),i=function da(t,e,n,r){return Jt(t,Ws(),n)?e+Z(n)+r:re}(r,t,e,n);return i!==re&&function ci(t,e,n){const r=Xd(e,t);!function BM(t,e,n){t.setValue(e,n)}(t[ne],r,n)}(r,ln(),i),Wh}const Ca="en-US";let R1=Ca;function C_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let o=0;o<t.length;o++)C_(t[o],e,n,r,i);else{const o=fe(),s=E();let a=Uo(t)?t:X(t.provide),u=Ex(t);const c=Ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Uo(t)||!t.multi){const f=new Ku(u,i,D),p=T_(a,e,i?l:l+h,d);-1===p?(Zm(sh(c,s),o,a),b_(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=T_(a,e,l+h,d),p=T_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Zm(sh(c,s),o,a);const w=function wW(t,e,n,r,i){const o=new Ku(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,rR(o,i,r&&!n),o}(i?vW:_W,n.length,i,r,u);!i&&y&&(n[p].providerFactory=w),b_(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else b_(o,t,f>-1?f:p,rR(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function b_(t,e,n,r){const i=Uo(e),o=function _3(t){return!!t.useClass}(e);if(i||o){const u=(o?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function rR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function T_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _W(t,e,n,r){return S_(this.multi,[])}function vW(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Lo(n,n[N],this.providerFactory.index,r);o=a.slice(0,s),S_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],S_(i,o);return o}function S_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function yW(t,e,n){const r=fe();if(r.firstCreatePass){const i=ar(t);C_(n,r.data,r.blueprint,i,!0),C_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ba{}class iR{}class A_ extends ba{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dN(this);const i=Fn(e);this._bootstrapComponents=ui(i.bootstrap),this._r3Injector=Kx(e,n,[{provide:ba,useValue:this},{provide:Nh,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class M_ extends iR{constructor(e){super(),this.moduleType=e}create(e){return new A_(this.moduleType,e,[])}}class oR extends ba{constructor(e){super(),this.componentFactoryResolver=new dN(this),this.instance=null;const n=new Oy([...e.providers,{provide:ba,useValue:this},{provide:Nh,useValue:this.componentFactoryResolver}],e.parent||bh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function x_(t,e,n=null){return new oR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let DW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=_x(0,n.type),i=r.length>0?x_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t($(si))}),t})();function sR(t){t.getStandaloneInjector=e=>e.get(DW).getOrCreateStandaloneInjector(t)}function pR(t,e,n,r,i,o){const s=e+n;return Jt(t,s,i)?function Nr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function Ac(t,e){const n=t[e];return n===re?void 0:n}(t,s+1)}function R_(t,e){const n=fe();let r;const i=t+le;n.firstCreatePass?(r=function $W(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Oo(r.type)),s=wn(D);try{const a=oh(!1),u=o();return oh(a),function C6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{wn(s)}}function k_(t,e,n){const r=t+le,i=E(),o=zs(i,r);return function Mc(t,e){return t[N].data[e].pure}(i,r)?pR(i,cn(),e,o.transform,n,o):o.transform(n)}function P_(t){return e=>{setTimeout(t,void 0,e)}}const Je=class qW extends Yr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=P_(o),i&&(i=P_(i)),s&&(s=P_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof kn&&e.add(a),a}};let li=(()=>{class t{}return t.__NG_ELEMENT_ID__=YW,t})();const KW=li,QW=class extends KW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,o=Ph(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);o[Gu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Cr];return null!==a&&(o[Cr]=a.createEmbeddedView(i)),s_(i,o,e),new gc(o)}};function YW(){return Jh(Ut(),E())}function Jh(t,e){return 4&t.type?new QW(e,t,sa(t,e)):null}let hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=r9,t})();function r9(){return function CR(t,e){let n;const r=e[t.index];return Dn(r)?n=r:(n=iN(r,e,null,t),e[t.index]=n,Oh(e,n)),bR(n,e,t,r),new ER(n,t,e)}(Ut(),E())}const i9=hr,ER=class extends i9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Qs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jm(this._hostTNode,this._hostLView);if(aM(e)){const n=ih(e,this._hostLView),r=rh(e);return new Qs(n[N].data[r+8],n)}return new Qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=DR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Yu(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const u=s?e:new mc(_e(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const y=(s?c:this.parentInjector).get(si,null);y&&(o=y)}_e(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[N];if(function u4(t){return Dn(t[He])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[He],l=new ER(c,c[Yt],c[He]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function Pz(t,e,n,r){const i=Vt+r,o=n.length;r>0&&(n[i-1][sr]=e),r<o-Vt?(e[sr]=n[i],vM(n,Vt+r,e)):(n.push(e),e[sr]=null),e[He]=n;const s=e[Gu];null!==s&&n!==s&&function Oz(t,e){const n=t[Gs];e[lt]!==e[He][He][lt]&&(t[SA]=!0),null===n?t[Gs]=[e]:n.push(e)}(s,e);const a=e[Cr];null!==a&&a.insertView(t),e[ie]|=128}(o,i,a,s),!r){const u=Iy(s,a),c=i[ne],l=_h(c,a[br]);null!==l&&function Nz(t,e,n,r,i,o){r[vt]=i,r[Yt]=e,rc(t,r,n,1,i,o)}(o,a[Yt],c,i,l,u)}return e.attachToViewContainerRef(),vM(L_(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=DR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=yy(this._lContainer,n);r&&(ch(L_(this._lContainer),n),jM(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=yy(this._lContainer,n);return r&&null!=ch(L_(this._lContainer),n)?new gc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DR(t){return t[qd]}function L_(t){return t[qd]||(t[qd]=[])}let bR=function TR(t,e,n,r){if(t[br])return;let i;i=8&n.type?Pe(r):function o9(t,e){const n=t[ne],r=n.createComment(""),i=Cn(e,t);return Vo(n,_h(n,i),r,function Uz(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[br]=i};function OR(t,e){return Jh(t,e)}const K_=new L("Application Initializer");let Q_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(K_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Ic(o))n.push(o);else if(ON(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JR=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const di=new L("LocaleId",{providedIn:"root",factory:()=>O(di,q.Optional|q.SkipSelf)||function O9(){return typeof $localize<"u"&&$localize.locale||Ca}()});class L9{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ZR=(()=>{class t{compileModuleSync(n){return new M_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=ui(Fn(n).declarations).reduce((s,a)=>{const u=_e(a);return u&&s.push(new mc(u)),s},[]);return new L9(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const B9=(()=>Promise.resolve(0))();function Y_(t){typeof Zone>"u"?B9.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function nk(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $9(){let t=Ne.requestAnimationFrame,e=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function G9(t){const e=()=>{!function H9(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,J_(t),t.isCheckStableRunning=!0,X_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),J_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return rk(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ik(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return rk(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ik(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,J_(t),X_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,j9,nk,nk);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const j9={};function X_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function J_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ik(t){t._nesting--,X_(t)}class z9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ok=new L("",{providedIn:"root",factory:sk});function sk(){const t=O(Se);let e=!0;return function aG(...t){const e=Vu(t),n=function eG(t,e){return"number"==typeof vm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ir(r[0]):Ls(n)(Tt(r,e)):Er}(new Ke(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ke(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),Y_(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function uG(t={}){const{connector:e=(()=>new Yr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Ft((m,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=wm(p,i))}),w.subscribe(y),!s&&c>0&&(s=new Lu({next:_=>w.next(_),error:_=>{d=!0,h(),a=wm(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=wm(f,r),w.complete()}}),ir(m).subscribe(s))})(o)}}()))}const ak=new L(""),ef=new L("");let tv,Z_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tv||(function q9(t){tv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Se),$(ev),$(ef))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),ev=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return tv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Wi=null;const uk=new L("AllowMultipleToken"),nv=new L("PlatformDestroyListeners"),rv=new L("appBootstrapListener");class lk{constructor(e,n){this.name=e,this.token=n}}function hk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=iv();if(!s||s.injector.get(uk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Q9(t){if(Wi&&!Wi.get(uk,!1))throw new T(400,!1);(function ck(){!function XG(t){kA=t}(()=>{throw new T(600,!1)})})(),Wi=t;const e=t.get(pk);(function dk(t){t.get(Dx,null)?.forEach(n=>n())})(t)}(function fk(t=[],e){return Bn.create({name:e,providers:[{provide:ky,useValue:"platform"},{provide:nv,useValue:new Set([()=>Wi=null])},...t]})}(a,r))}return function X9(t){const e=iv();if(!e)throw new T(401,!1);return e}()}}function iv(){return Wi?.get(pk)??null}let pk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function J9(t="zone.js",e){return"noop"===t?new z9:"zone.js"===t?new Se(e):t}(r?.ngZone,function gk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function EW(t,e,n){return new A_(t,e,n)}(n.moduleType,this.injector,function wk(t){return[{provide:Se,useFactory:t},{provide:uc,multi:!0,useFactory:()=>{const e=O(e7,{optional:!0});return()=>e.initialize()}},{provide:vk,useFactory:Z9},{provide:ok,useFactory:sk}]}(()=>i)),s=o.injector.get(Bo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{tf(this._modules,o),a.unsubscribe()})}),function mk(t,e,n){try{const r=n();return Ic(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Q_);return a.runInitializers(),a.donePromise.then(()=>(function k1(t){Wn(t,"Expected localeId to be defined"),"string"==typeof t&&(R1=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(di,Ca)||Ca),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=yk({},r);return function W9(t,e,n){const r=new M_(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Aa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(nv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Bn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function yk(t,e){return Array.isArray(e)?e.reduce(yk,t):{...t,...e}}let Aa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(vk),this.componentTypes=[],this.components=[],this.isStable=O(ok),this._injector=O(si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof xx;if(!this._injector.get(Q_).done)throw!i&&function Us(t){const e=_e(t)||Qt(t)||En(t);return null!==e&&e.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(Nh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function K9(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ba),c=s.create(Bn.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(ak,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),tf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;tf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(rv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vk=new L("",{providedIn:"root",factory:()=>O(Bo).handleError.bind(void 0)});function Z9(){const t=O(Se),e=O(Bo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let e7=(()=>{class t{constructor(){this.zone=O(Se),this.applicationRef=O(Aa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let nf=(()=>{class t{}return t.__NG_ELEMENT_ID__=n7,t})();function n7(t){return function r7(t,e,n){if(Po(t)&&!n){const r=bn(t.index,e);return new gc(r,r)}return 47&t.type?new gc(e[lt],e):null}(Ut(),E(),16==(16&t))}class Ck{constructor(){}supports(e){return Uh(e)}create(e){return new c7(e)}}const u7=(t,e)=>e;class c7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Tk(r,i,o)?n:r,a=Tk(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Uh(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function r6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new l7(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new bk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class l7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class d7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class bk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new d7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sk{constructor(){}supports(e){return e instanceof Map||c_(e)}create(){return new h7}}class h7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||c_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new f7(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class f7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ak(){return new af([new Ck])}let af=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ak()),deps:[[t,new dh,new dn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Ak}),t})();function Mk(){return new Nc([new Sk])}let Nc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Mk()),deps:[[t,new dh,new dn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return t.\u0275prov=G({token:t,providedIn:"root",factory:Mk}),t})();const m7=hk(null,"core",[]);let y7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Aa))},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({}),t})(),Ok=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=O(Se),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dv=null;function Ki(){return dv}class M7{}const Xn=new L("DocumentToken");let hv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return O(N7)},providedIn:"platform"}),t})();const x7=new L("Location Initialized");let N7=(()=>{class t extends hv{constructor(){super(),this._doc=O(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(n){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function fv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Lk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function hi(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return O(Uk)},providedIn:"root"}),t})();const Vk=new L("appBaseHref");let Uk=(()=>{class t extends zo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+hi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+hi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(hv),$(Vk,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R7=(()=>{class t extends zo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=fv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(hv),$(Vk,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),pv=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function O7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Lk(Bk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hi(r))}normalize(n){return t.stripTrailingSlash(function P7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Bk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=hi,t.joinWithSlash=fv,t.stripTrailingSlash=Lk,t.\u0275fac=function(n){return new(n||t)($(zo))},t.\u0275prov=G({token:t,factory:function(){return function k7(){return new pv($(zo))}()},providedIn:"root"}),t})();function Bk(t){return t.replace(/\/index.html$/,"")}const Cv=/\s+/,Qk=[];let Yk=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Qk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Cv):Qk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Cv):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Cv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(af),D(Nc),D(Un),D(ai))},t.\u0275dir=Q({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class w8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new w8(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Jk(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Jk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(hr),D(li),D(af))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Jk(t,e){t.context.$implicit=e.item}let _f=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new I8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Zk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Zk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(hr),D(li))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class I8{constructor(){this.$implicit=null,this.ngIf=null}}function Zk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}let Av=(()=>{class t{transform(n){if(null==n)return null;if("string"!=typeof n)throw function gr(t,e){return new T(2100,!1)}();return n.toUpperCase()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=In({name:"uppercase",type:t,pure:!0,standalone:!0}),t})(),nP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({}),t})();function iP(t){return"server"===t}let K8=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Q8($(Xn),window)}),t})();class Q8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Y8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oP(this.window.history)||oP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class CK extends M7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kv extends CK{static makeCurrent(){!function A7(t){dv||(dv=t)}(new kv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bK(){return Oc=Oc||document.querySelector("base"),Oc?Oc.getAttribute("href"):null}();return null==n?null:function TK(t){If=If||document.createElement("a"),If.setAttribute("href",t);const e=If.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Oc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let If,Oc=null,AK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Pv=new L("EventManagerPlugins");let lP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(Pv),$(Se))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class dP{constructor(e){this._doc=e}}const Ov="ng-app-id";let hP=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iP(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ov}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ov),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ov,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(Xn),$(Th),$(Cx,8),$(Gi))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const Fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lv=/%COMP%/g,RK=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pP(t,e){return e.map(n=>n.replace(Lv,t))}let gP=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=iP(a),this.defaultRenderer=new Vv(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r={...r,encapsulation:On.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof yP?i.applyToHost(n):i instanceof Uv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case On.Emulated:o=new yP(u,c,r,this.appId,l,s,a,d);break;case On.ShadowDom:return new FK(u,c,n,r,s,a,this.nonce,d);default:o=new Uv(u,c,r,l,s,a,d)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(lP),$(hP),$(Th),$(RK),$(Xn),$(Gi),$(Se),$(Cx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class Vv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Fv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Fv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Fv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ki().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&(n.preventDefault(),n.returnValue=!1)}}}function mP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class FK extends Vv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=pP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Uv extends Vv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?pP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class yP extends Uv{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function kK(t){return"_ngcontent-%COMP%".replace(Lv,t)}(c),this.hostAttr=function PK(t){return"_nghost-%COMP%".replace(Lv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LK=(()=>{class t extends dP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const _P=["alt","control","meta","shift"],VK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BK=(()=>{class t extends dP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_P.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=VK[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_P.forEach(s=>{s!==i&&(0,UK[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const wP=[{provide:Gi,useValue:"browser"},{provide:Dx,useValue:function $K(){kv.makeCurrent()},multi:!0},{provide:Xn,useFactory:function HK(){return function Wz(t){Cy=t}(document),document},deps:[]}],GK=hk(m7,"browser",wP),zK=new L(""),IP=[{provide:ef,useClass:class SK{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ki().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:ak,useClass:Z_,deps:[Se,ev,ef]},{provide:Z_,useClass:Z_,deps:[Se,ev,ef]}],EP=[{provide:ky,useValue:"root"},{provide:Bo,useFactory:function jK(){return new Bo},deps:[]},{provide:Pv,useClass:LK,multi:!0,deps:[Xn,Se,Gi]},{provide:Pv,useClass:BK,multi:!0,deps:[Xn]},gP,hP,lP,{provide:Rx,useExisting:gP},{provide:class X8{},useClass:AK,deps:[]},[]];let qK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Th,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(zK,12))},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({providers:[...EP,...IP],imports:[nP,y7]}),t})(),DP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function KK(){return new DP($(Xn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:ZK}=Array,{getPrototypeOf:eQ,prototype:tQ,keys:nQ}=Object;function SP(t){if(1===t.length){const e=t[0];if(ZK(e))return{args:e,keys:null};if(function rQ(t){return t&&"object"==typeof t&&eQ(t)===tQ}(e)){const n=nQ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:iQ}=Array;function AP(t){return Ae(e=>function oQ(t,e){return iQ(e)?t(...e):t(e)}(t,e))}function MP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let xP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Un))},t.\u0275dir=Q({type:t}),t})(),qo=(()=>{class t extends xP{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ee]}),t})();const Or=new L("NgValueAccessor"),uQ={provide:Or,useExisting:xe(()=>Fc),multi:!0},lQ=new L("CompositionEventMode");let Fc=(()=>{class t extends xP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cQ(){const t=Ki()?Ki().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Un),D(lQ,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ue("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Be([uQ]),Ee]}),t})();function Yi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function RP(t){return null!=t&&"number"==typeof t.length}const Zt=new L("NgValidators"),Xi=new L("NgAsyncValidators"),dQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $v{static min(e){return function kP(t){return e=>{if(Yi(e.value)||Yi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function PP(t){return e=>{if(Yi(e.value)||Yi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function OP(t){return Yi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function FP(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function LP(t){return Yi(t.value)||dQ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function VP(t){return e=>Yi(e.value)||!RP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function UP(t){return e=>RP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function BP(t){if(!t)return Ef;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Yi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return qP(e)}static composeAsync(e){return WP(e)}}function Ef(t){return null}function $P(t){return null!=t}function jP(t){return Ic(t)?Tt(t):t}function HP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function GP(t,e){return e.map(n=>n(t))}function zP(t){return t.map(e=>function hQ(t){return!t.validate}(e)?e:n=>e.validate(n))}function qP(t){if(!t)return null;const e=t.filter($P);return 0==e.length?null:function(n){return HP(GP(n,e))}}function jv(t){return null!=t?qP(zP(t)):null}function WP(t){if(!t)return null;const e=t.filter($P);return 0==e.length?null:function(n){return function sQ(...t){const e=nA(t),{args:n,keys:r}=SP(t),i=new Ke(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;ir(n[l]).subscribe(bt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?MP(r,a):a),o.complete())}))}});return e?i.pipe(AP(e)):i}(GP(n,e).map(jP)).pipe(Ae(HP))}}function Hv(t){return null!=t?WP(zP(t)):null}function KP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QP(t){return t._rawValidators}function YP(t){return t._rawAsyncValidators}function Gv(t){return t?Array.isArray(t)?t:[t]:[]}function Df(t,e){return Array.isArray(t)?t.includes(e):t===e}function XP(t,e){const n=Gv(e);return Gv(t).forEach(i=>{Df(n,i)||n.push(i)}),n}function JP(t,e){return Gv(e).filter(n=>!Df(t,n))}class ZP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class pn extends ZP{get formDirective(){return null}get path(){return null}}class Ji extends ZP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zv=(()=>{class t extends eO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Ji,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&zh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),t})(),Cf=(()=>{class t extends eO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(pn,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&zh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ee]}),t})();const Lc="VALID",Tf="INVALID",xa="PENDING",Vc="DISABLED";function Kv(t){return(Sf(t)?t.validators:t)||null}function Qv(t,e){return(Sf(e)?e.asyncValidators:t)||null}function Sf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function nO(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function rO(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Yv{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lc}get invalid(){return this.status===Tf}get pending(){return this.status==xa}get disabled(){return this.status===Vc}get enabled(){return this.status!==Vc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JP(e,this._rawAsyncValidators))}hasValidator(e){return Df(this._rawValidators,e)}hasAsyncValidator(e){return Df(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===xa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator=!0;const n=jP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Vc:this.errors?Tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(Tf)?Tf:Lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mQ(t){return Array.isArray(t)?jv(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yQ(t){return Array.isArray(t)?Hv(t):t||null}(this._rawAsyncValidators)}}class Na extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rO(this,0,e),Object.keys(e).forEach(r=>{nO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Wo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Uc}),Uc="always";function Af(t,e){return[...e.path,t]}function Bc(t,e,n=Uc){Xv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function wQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iO(t,e)})}(t,e),function EQ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function IQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vQ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Mf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xv(t,e){const n=QP(t);null!==e.validator?t.setValidators(KP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=YP(t);null!==e.asyncValidator?t.setAsyncValidators(KP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Nf(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=QP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=YP(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),n}function iO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oO(t,e){Xv(t,e)}function Zv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function sO(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ew(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Fc?n=o:function bQ(t){return Object.getPrototypeOf(t.constructor)===qo}(o)?r=o:i=o}),i||r||n||null}const SQ={provide:pn,useExisting:xe(()=>Rf)},$c=(()=>Promise.resolve())();let Rf=(()=>{class t extends pn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new Na({},jv(n),Hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){$c.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Bc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){$c.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){$c.then(()=>{const r=this._findContainer(n.path),i=new Na({});oO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){$c.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){$c.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,sO(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(D(Zt,10),D(Xi,10),D(Wo,8))},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([SQ]),Ee]}),t})();function aO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function uO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const jn=class extends Yv{constructor(e=null,n,r){super(Kv(n),Qv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=uO(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let cO=(()=>{class t extends pn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ee]}),t})(),kf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),pO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({}),t})();const tw=new L("NgModelWithFormControlWarning"),OQ={provide:Ji,useExisting:xe(()=>nw)};let nw=(()=>{class t extends Ji{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Je,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ew(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&Mf(r,this,!1),Bc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Zv(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(Zt,10),D(Xi,10),D(Or,10),D(tw,8),D(Wo,8))},t.\u0275dir=Q({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Be([OQ]),Ee,Kn]}),t})();const FQ={provide:pn,useExisting:xe(()=>jc)};let jc=(()=>{class t extends pn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Bc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Mf(n.control||null,n,!1),function TQ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,sO(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Mf(r||null,n),(t=>t instanceof jn)(i)&&(Bc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);oO(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function DQ(t,e){return Nf(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xv(this.form,this),this._oldForm&&Nf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(D(Zt,10),D(Xi,10),D(Wo,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([FQ]),Ee,Kn]}),t})();const LQ={provide:pn,useExisting:xe(()=>Pf)};let Pf=(()=>{class t extends cO{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(pn,13),D(Zt,10),D(Xi,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Be([LQ]),Ee]}),t})();const VQ={provide:pn,useExisting:xe(()=>Of)};let Of=(()=>{class t extends pn{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){yO(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(D(pn,13),D(Zt,10),D(Xi,10))},t.\u0275dir=Q({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Be([VQ]),Ee]}),t})();function yO(t){return!(t instanceof Pf||t instanceof jc||t instanceof Of)}const UQ={provide:Ji,useExisting:xe(()=>rw)};let rw=(()=>{class t extends Ji{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ew(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Zv(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(D(pn,13),D(Zt,10),D(Xi,10),D(Or,10),D(tw,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([UQ]),Ee,Kn]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({imports:[pO]}),t})();class aw extends Yv{constructor(e,n,r){super(Kv(n),Qv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){rO(this,0,e),e.forEach((r,i)=>{nO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}let eY=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Wo,useValue:n.callSetDisabledState??Uc}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({imports:[MO]}),t})(),xO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Wo,useValue:n.callSetDisabledState??Uc}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({imports:[MO]}),t})(),tY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({imports:[nP,xO]}),t})();function ee(...t){return Tt(t,Vu(t))}class mr extends Yr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function uw(...t){const e=Vu(t),n=nA(t),{args:r,keys:i}=SP(t);if(0===r.length)return Tt([],e);const o=new Ke(function rY(t,e,n=xo){return r=>{NO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)NO(e,()=>{const c=Tt(t[u],e);let l=!1;c.subscribe(bt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>MP(i,s):xo));return n?o.pipe(AP(n)):o}function NO(t,e,n){t?Xr(n,t,e):e()}const Ff=Fu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cw(...t){return function iY(){return Ls(1)}()(Tt(t,Vu(t)))}function RO(t){return new Ke(e=>{ir(t()).subscribe(e)})}function Hc(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new Ke(e?i=>e.schedule(r,0,i):r)}function lw(){return Ft((t,e)=>{let n=null;t._refCount++;const r=bt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kO extends Ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$S(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(bt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return lw()(this)}}function pi(t,e){return Ft((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(bt(r,u=>{i?.unsubscribe();let c=0;const l=o++;ir(t(u,l)).subscribe(i=bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ra(t){return t<=0?()=>Er:Ft((e,n)=>{let r=0;e.subscribe(bt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zi(t,e){return Ft((n,r)=>{let i=0;n.subscribe(bt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Lf(t){return Ft((e,n)=>{let r=!1;e.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PO(t=sY){return Ft((e,n)=>{let r=!1;e.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sY(){return new Ff}function Qo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zi((i,o)=>t(i,o,r)):xo,Ra(1),n?Lf(e):PO(()=>new Ff))}function Gc(t,e){return Te(e)?Lt(t,e,1):Lt(t,1)}function en(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ft((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(bt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xo}function Yo(t){return Ft((e,n)=>{let o,r=null,i=!1;r=e.subscribe(bt(n,void 0,void 0,s=>{o=ir(t(s,Yo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dw(t){return t<=0?()=>Er:Ft((e,n)=>{let r=[];e.subscribe(bt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hw(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const oe="primary",zc=Symbol("RouteTitle");class dY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ka(t){return new dY(t)}function hY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!OO(t[i],e[i]))return!1;return!0}function OO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function FO(t){return t.length>0?t[t.length-1]:null}function eo(t){return function nY(t){return!!t&&(t instanceof Ke||Te(t.lift)&&Te(t.subscribe))}(t)?t:Ic(t)?Tt(Promise.resolve(t)):ee(t)}const pY={exact:function UO(t,e,n){if(!Xo(t.segments,e.segments)||!Vf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UO(t.children[r],e.children[r],n))return!1;return!0},subset:BO},LO={exact:function gY(t,e){return Fr(t,e)},subset:function mY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OO(t[n],e[n]))},ignored:()=>!0};function VO(t,e,n){return pY[n.paths](t.root,e.root,n.matrixParams)&&LO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function BO(t,e,n){return $O(t,e,e.segments,n)}function $O(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Xo(i,n)||e.hasChildren()||!Vf(i,n,r))}if(t.segments.length===n.length){if(!Xo(t.segments,n)||!Vf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!BO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Xo(t.segments,i)&&Vf(t.segments,i,r)&&t.children[oe])&&$O(t.children[oe],e,o,r)}}function Vf(t,e,n){return e.every((r,i)=>LO[n](t[i].parameters,r.parameters))}class Pa{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return vY.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class qc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return GO(this)}}function Xo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Wc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new fw},providedIn:"root"}),t})();class fw{parse(e){const n=new xY(e);return new Pa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Kc(e.root,!0)}`,r=function EY(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Bf(n)}=${Bf(i)}`).join("&"):`${Bf(n)}=${Bf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function wY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const vY=new fw;function Uf(t){return t.segments.map(e=>GO(e)).join("/")}function Kc(t,e){if(!t.hasChildren())return Uf(t);if(e){const n=t.children[oe]?Kc(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Kc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _Y(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===oe?[Kc(t.children[oe],!1)]:[`${i}:${Kc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${Uf(t)}/${n[0]}`:`${Uf(t)}/(${n.join("//")})`}}function jO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bf(t){return jO(t).replace(/%3B/gi,";")}function pw(t){return jO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $f(t){return decodeURIComponent(t)}function HO(t){return $f(t.replace(/\+/g,"%20"))}function GO(t){return`${pw(t.path)}${function IY(t){return Object.keys(t).map(e=>`;${pw(e)}=${pw(t[e])}`).join("")}(t.parameters)}`}const DY=/^[^\/()?;#]+/;function gw(t){const e=t.match(DY);return e?e[0]:""}const CY=/^[^\/()?;=#]+/,TY=/^[^=?&#]+/,AY=/^[^&#]+/;class xY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new De(e,n)),r}parseSegment(){const e=gw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new qc($f(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function bY(t){const e=t.match(CY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gw(this.remaining);i&&(r=i,this.capture(r))}e[$f(n)]=$f(r)}parseQueryParam(e){const n=function SY(t){const e=t.match(TY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function MY(t){const e=t.match(AY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=HO(n),o=HO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[oe]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zO(t){return t.segments.length>0?new De([],{[oe]:t}):t}function qO(t){const e={};for(const r of Object.keys(t.children)){const o=qO(t.children[r]);if(r===oe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function NY(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function Jo(t){return t instanceof Pa}function WO(t){let e;const i=zO(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new De(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function KO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mw(i,i,i,n,r);const o=function kY(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YO(n,e,r)}(e);if(o.toRoot())return mw(i,i,new De([],{}),n,r);const s=function PY(t,e,n){if(t.isAbsolute)return new Hf(e,!0,0);if(!n)return new Hf(e,!1,NaN);if(null===n.parent)return new Hf(n,!0,0);const r=jf(t.commands[0])?0:1;return function OY(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Hf(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Yc(s.segmentGroup,s.index,o.commands):XO(s.segmentGroup,s.index,o.commands);return mw(i,s.segmentGroup,a,n,r)}function jf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qc(t){return"object"==typeof t&&null!=t&&t.outlets}function mw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:QO(t,e,n);const a=zO(qO(s));return new Pa(a,o,i)}function QO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:QO(o,e,n)}),new De(t.segments,r)}class YO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jf(r[0]))throw new T(4003,!1);const i=r.find(Qc);if(i&&i!==FO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XO(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return Yc(t,e,n);const r=function LY(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Qc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZO(u,c,s))return o;r+=2}else{if(!ZO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new De(t.segments.slice(r.pathIndex),t.children),Yc(o,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?yw(t,e,n):r.match?Yc(t,0,i):yw(t,e,n)}function Yc(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function FY(t){return Qc(t[0])?t[0].outlets:{[oe]:t}}(n),i={};if(!r[oe]&&t.children[oe]&&1===t.numberOfChildren&&0===t.children[oe].segments.length){const o=Yc(t.children[oe],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=XO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new De(t.segments,i)}}function yw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Qc(o)){const u=VY(o.outlets);return new De(r,u)}if(0===i&&jf(n[0])){r.push(new qc(t.segments[e].path,JO(n[0]))),i++;continue}const s=Qc(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&jf(a)?(r.push(new qc(s,JO(a))),i+=2):(r.push(new qc(s,{})),i++)}return new De(r,{})}function VY(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=yw(new De([],{}),0,r))}),e}function JO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZO(t,e,n){return t==n.path&&Fr(e,n.parameters)}const Xc="imperative";class Lr{constructor(e,n){this.id=e,this.url=n}}class _w extends Lr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zo extends Lr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gf extends Lr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jc extends Lr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class vw extends Lr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UY extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BY extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $Y extends Lr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jY extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HY extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zY{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zc,this.attachRef=null}}let Zc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new YY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ww(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ww(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Iw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Iw(e,this._root).map(n=>n.value)}}function ww(t,e){if(t===e.value)return e;for(const n of e.children){const r=ww(t,n);if(r)return r}return null}function Iw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Iw(t,n);if(r.length)return r.unshift(e),r}return[]}class gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Oa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nF extends tF{constructor(e,n){super(e),this.snapshot=n,Ew(this,e)}toString(){return this.snapshot.toString()}}function rF(t,e){const n=function XY(t,e){const s=new zf([],{},{},"",{},oe,e,null,{});return new oF("",new gi(s,[]))}(0,e),r=new mr([new qc("",{})]),i=new mr({}),o=new mr({}),s=new mr({}),a=new mr(""),u=new Fa(r,i,s,a,o,oe,e,n.root);return u.snapshot=n.root,new nF(new gi(u,[]),n)}class Fa{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ae(c=>c[zc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>ka(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>ka(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function JY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zf{get title(){return this.data?.[zc]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oF extends tF{constructor(e,n){super(n),this.url=e,Ew(this,n)}toString(){return sF(this._root)}}function Ew(t,e){e.value._routerState=t,e.children.forEach(n=>Ew(t,n))}function sF(t){const e=t.children.length>0?` { ${t.children.map(sF).join(", ")} } `:"";return`${t.value}${e}`}function Dw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Fr(e.params,n.params)||t.paramsSubject.next(n.params),function fY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Fr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cw(t,e){const n=Fr(t.params,e.params)&&function yY(t,e){return Xo(t,e)&&t.every((n,r)=>Fr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Cw(t.parent,e.parent))}let aF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=O(Zc),this.location=O(hr),this.changeDetector=O(nf),this.environmentInjector=O(si),this.inputBinder=O(qf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ZY(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]}),t})();class ZY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fa?this.route:e===Zc?this.childContexts:this.parent.get(e,n)}}const qf=new L("");let uF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=uw([r.queryParams,r.params,r.data]).pipe(pi(([o,s,a],u)=>(a={...o,...s,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function S7(t){const e=_e(t);if(!e)return null;const n=new mc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function el(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function tX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return el(t,r,i);return el(t,r)})}(t,e,n);return new gi(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>el(t,a)),s}}const r=function nX(t){return new Fa(new mr(t.url),new mr(t.params),new mr(t.queryParams),new mr(t.fragment),new mr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>el(t,o));return new gi(r,i)}}const bw="ngNavigationCancelingError";function cF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dF(t){return hF(t)&&Jo(t.url)}function hF(t){return t&&t[bw]}let fF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ti({type:t,selectors:[["ng-component"]],standalone:!0,features:[sR],decls:1,vars:0,template:function(n,r){1&n&&Ye(0,"router-outlet")},dependencies:[aF],encapsulation:2}),t})();function Tw(t){const e=t.children&&t.children.map(Tw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=fF),n}function yr(t){return t.outlet||oe}function tl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class cX{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Oa(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oa(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Oa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new QY(o.value.snapshot))}),e.children.length&&this.forwardEvent(new WY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Dw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=tl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class pF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wf{constructor(e,n){this.component=e,this.route=n}}function lX(t,e,n){const r=t._root;return nl(r,e?e._root:null,n,[r.value])}function La(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function gG(t){return null!==Vd(t)}(t)?e.get(t):t:r}function nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Oa(e);return t.children.forEach(s=>{(function hX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function fX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xo(t.url,e.url)||!Fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cw(t,e)||!Fr(t.queryParams,e.queryParams);default:return!Cw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),nl(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wf(a.outlet.component,s))}else s&&rl(e,a,i),i.canActivateChecks.push(new pF(r)),nl(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rl(a,n.getContext(s),i)),i}function rl(t,e,n){const r=Oa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{rl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Wf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function il(t){return"function"==typeof t}function gF(t){return t instanceof Ff||"EmptyError"===t?.name}const Kf=Symbol("INITIAL_VALUE");function Va(){return pi(t=>uw(t.map(e=>e.pipe(Ra(1),function oY(...t){const e=Vu(t);return Ft((n,r)=>{(e?cw(t,n,e):cw(t,n)).subscribe(r)})}(Kf)))).pipe(Ae(e=>{for(const n of e)if(!0!==n){if(n===Kf)return Kf;if(!1===n||n instanceof Pa)return n}return!0}),Zi(e=>e!==Kf),Ra(1)))}function mF(t){return function PH(...t){return VS(t)}(en(e=>{if(Jo(e))throw cF(0,e)}),Ae(e=>!0===e))}class Qf{constructor(e){this.segmentGroup=e||null}}class yF{constructor(e){this.urlTree=e}}function Ua(t){return Hc(new Qf(t))}function _F(t){return Hc(new yF(t))}class kX{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[oe])return Hc(new T(4e3,!1));i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Pa(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PX(t,e,n,r,i){const o=Aw(t,e,n);return o.matched?(r=function rX(t,e){return t.providers&&!t._injector&&(t._injector=x_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xX(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(s=>{const a=La(s,t);return eo(function vX(t){return t&&il(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Va(),mF()):ee(!0)}(r,e,n).pipe(Ae(s=>!0===s?o:{...Sw}))):ee(o)}function Aw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Sw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hY)(n,t,e);if(!i)return{...Sw};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function vF(t,e,n,r){return n.length>0&&function LX(t,e,n){return n.some(r=>Yf(t,e,r)&&yr(r)!==oe)}(t,n,r)?{segmentGroup:new De(e,FX(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function VX(t,e,n){return n.some(r=>Yf(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,OX(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function OX(t,e,n,r,i){const o={};for(const s of r)if(Yf(t,n,s)&&!i[yr(s)]){const a=new De([],{});o[yr(s)]=a}return{...i,...o}}function FX(t,e){const n={};n[oe]=e;for(const r of t)if(""===r.path&&yr(r)!==oe){const i=new De([],{});n[yr(r)]=i}return n}function Yf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class jX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new kX(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=vF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(Yo(n=>{if(n instanceof yF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Qf?this.noMatchError(n):n}),Ae(n=>{const r=new zf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),i=new gi(r,n),o=new oF("",i),s=function RY(t,e,n=null,r=null){return KO(WO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,oe).pipe(Yo(r=>{throw r instanceof Qf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=iF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Tt(i).pipe(Gc(o=>{const s=r.children[o],a=function aX(t,e){const n=t.filter(r=>yr(r)===e);return n.push(...t.filter(r=>yr(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function uY(t,e){return Ft(function aY(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(bt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Lf(null),function cY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zi((i,o)=>t(i,o,r)):xo,dw(1),n?Lf(e):PO(()=>new Ff))}(),Lt(o=>{if(null===o)return Ua(r);const s=wF(o);return function HX(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ee(s)}))}processSegment(e,n,r,i,o,s){return Tt(n).pipe(Gc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Yo(u=>{if(u instanceof Qf)return ee(null);throw u}))),Qo(a=>!!a),Yo(a=>{if(gF(a))return function BX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ee([]):Ua(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function UX(t,e,n,r){return!!(yr(t)===r||r!==oe&&Yf(e,n,t))&&("**"===t.path||Aw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ua(i):Ua(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_F(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Lt(s=>{const a=new De(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Aw(n,i,o);if(!a)return Ua(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_F(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Lt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?FO(i).parameters:{};a=ee({snapshot:new zf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),yr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=PX(n,r,i,e).pipe(Ae(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new zf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IF(r),yr(r),r.component??r._loadedComponent??null,r,EF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(pi(u=>null===u?Ua(n):this.getChildConfig(e=r._injector??e,r,i).pipe(pi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=vF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ae(w=>null===w?null:[new gi(d,w)]));if(0===c.length&&0===m.length)return ee([new gi(d,[])]);const y=yr(r)===o;return this.processSegment(l,c,p,m,y?oe:o,!0).pipe(Ae(w=>[new gi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function MX(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(s=>{const a=La(s,t);return eo(function gX(t){return t&&il(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Va(),mF())}(e,n,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,n).pipe(en(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function RX(t){return Hc(lF(!1,3))}())):ee({routes:[],injector:e})}}function GX(t){const e=t.value.routeConfig;return e&&""===e.path}function wF(t){const e=[],n=new Set;for(const r of t){if(!GX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wF(r.children);e.push(new gi(r.value,i))}return e.filter(r=>!n.has(r))}function IF(t){return t.data||{}}function EF(t){return t.resolve||{}}function DF(t){return"string"==typeof t.title||null===t.title}function Mw(t){return pi(e=>{const n=t(e);return n?Tt(n).pipe(Ae(()=>e)):ee(e)})}const Ba=new L("ROUTES");let xw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(ZR)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=eo(n.loadComponent()).pipe(Ae(CF),en(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),hw(()=>{this.componentLoaders.delete(n)})),i=new kO(r,()=>new Yr).pipe(lw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ba,[],q.Self|q.Optional).flat()),{routes:c.map(Tw),injector:u}}),hw(()=>{this.childrenLoaders.delete(r)})),s=new kO(o,()=>new Yr).pipe(lw());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return eo(n()).pipe(Ae(CF),Lt(r=>r instanceof iR||Array.isArray(r)?ee(r):Tt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CF(t){return function XX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Xf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yr,this.configLoader=O(xw),this.environmentInjector=O(si),this.urlSerializer=O(Wc),this.rootContexts=O(Zc),this.inputBindingEnabled=null!==O(qf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new zY(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new GY(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new mr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zi(r=>0!==r.id),Ae(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let i=!1,o=!1;return ee(r).pipe(en(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Jc(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Er}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return bF(s.source)&&(n.browserUrlTree=s.extractedUrl),ee(s).pipe(pi(l=>{const d=this.transitions?.getValue();return this.events.next(new _w(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Er:Promise.resolve(l)}),function zX(t,e,n,r,i,o){return Lt(s=>function $X(t,e,n,r,i,o,s="emptyOnly"){return new jX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Ae(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),en(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new UY(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new _w(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=rF(0,this.rootComponentType).snapshot;return ee(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Jc(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Er}}),en(s=>{const a=new BY(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:lX(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function IX(t,e){return Lt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ee({...n,guardsResult:!0}):function EX(t,e,n,r){return Tt(t).pipe(Lt(i=>function AX(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ee(o.map(a=>{const u=tl(e)??i,c=La(a,u);return eo(function _X(t){return t&&il(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Qo())})).pipe(Va()):ee(!0)}(i.component,i.route,n,e,r)),Qo(i=>!0!==i,!0))}(s,r,i,t).pipe(Lt(a=>a&&function pX(t){return"boolean"==typeof t}(a)?function DX(t,e,n,r){return Tt(e).pipe(Gc(i=>cw(function bX(t,e){return null!==t&&e&&e(new qY(t)),ee(!0)}(i.route.parent,r),function CX(t,e){return null!==t&&e&&e(new KY(t)),ee(!0)}(i.route,r),function SX(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function dX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>RO(()=>ee(s.guards.map(u=>{const c=tl(s.node)??n,l=La(u,c);return eo(function yX(t){return t&&il(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Qo())})).pipe(Va())));return ee(o).pipe(Va())}(t,i.path,n),function TX(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(o=>RO(()=>{const s=tl(e)??n,a=La(o,s);return eo(function mX(t){return t&&il(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Qo())}));return ee(i).pipe(Va())}(t,i.route,n))),Qo(i=>!0!==i,!0))}(r,o,t,e):ee(a)),Ae(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),en(s=>{if(r.guardsResult=s.guardsResult,Jo(s.guardsResult))throw cF(0,s.guardsResult);const a=new $Y(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Zi(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Mw(s=>{if(s.guards.canActivateChecks.length)return ee(s).pipe(en(a=>{const u=new jY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),pi(a=>{let u=!1;return ee(a).pipe(function qX(t,e){return Lt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=0;return Tt(i).pipe(Gc(s=>function WX(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!DF(i)&&(o[zc]=i.title),function KX(t,e,n,r){const i=function QX(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const o={};return Tt(i).pipe(Lt(s=>function YX(t,e,n,r){const i=tl(e)??r,o=La(t,i);return eo(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Qo(),en(a=>{o[s]=a}))),dw(1),function lY(t){return Ae(()=>t)}(o),Yo(s=>gF(s)?Er:Hc(s)))}(o,t,e,r).pipe(Ae(s=>(t._resolvedData=s,t.data=iF(t,n).resolve,i&&DF(i)&&(t.data[zc]=i.title),null)))}(s.route,r,t,e)),en(()=>o++),dw(1),Lt(s=>o===i.length?ee(n):Er))})}(n.paramsInheritanceStrategy,this.environmentInjector),en({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),en(a=>{const u=new HY(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Mw(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(en(l=>{u.component=l}),Ae(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uw(a(s.targetSnapshot.root)).pipe(Lf(),Ra(1))}),Mw(()=>this.afterPreactivation()),Ae(s=>{const a=function eX(t,e,n){const r=el(t,e._root,n?n._root:void 0);return new nF(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),en(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>Ae(i=>(new cX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ra(1),en({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Zo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),hw(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yo(s=>{if(o=!0,hF(s)){dF(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Gf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),dF(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||bF(r.source)};n.scheduleNavigation(u,Xc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new vw(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return Er}))}))}cancelNavigationTransition(n,r,i){const o=new Gf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bF(t){return t!==Xc}let TF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[zc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return O(JX)},providedIn:"root"}),t})(),JX=(()=>{class t extends TF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(DP))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return O(tJ)},providedIn:"root"}),t})();class eJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let tJ=(()=>{class t extends eJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Jf=new L("",{providedIn:"root",factory:()=>({})});let nJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return O(rJ)},providedIn:"root"}),t})(),rJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Hn=(()=>((Hn=Hn||{})[Hn.COMPLETE=0]="COMPLETE",Hn[Hn.FAILED=1]="FAILED",Hn[Hn.REDIRECTING=2]="REDIRECTING",Hn))();function SF(t,e){t.events.pipe(Zi(n=>n instanceof Zo||n instanceof Gf||n instanceof vw||n instanceof Jc),Ae(n=>n instanceof Zo||n instanceof Jc?Hn.COMPLETE:n instanceof Gf&&(0===n.code||1===n.code)?Hn.REDIRECTING:Hn.FAILED),Zi(n=>n!==Hn.REDIRECTING),Ra(1)).subscribe(()=>{e()})}function iJ(t){throw t}function oJ(t,e,n){return e.parse("/")}const sJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=O(JR),this.isNgZoneEnabled=!1,this.options=O(Jf,{optional:!0})||{},this.pendingTasks=O(Ok),this.errorHandler=this.options.errorHandler||iJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=O(nJ),this.routeReuseStrategy=O(ZX),this.titleStrategy=O(TF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=O(Ba,{optional:!0})?.flat()??[],this.navigationTransitions=O(Xf),this.urlSerializer=O(Wc),this.location=O(pv),this.componentInputBindingEnabled=!!O(qf,{optional:!0}),this.isNgZoneEnabled=O(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Tw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=WO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return KO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xc,null,r)}navigate(n,r={skipLocationChange:!1}){return function uJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...sJ}:!1===r?{...aJ}:r,Jo(n))return VO(this.currentUrlTree,n,i);const o=this.parseUrl(n);return VO(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return SF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class AF{}let dJ=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(n=>n instanceof Zo),Gc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=x_(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Tt(i).pipe(Ls())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const o=i.pipe(Lt(s=>null===s?ee(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Tt([o,this.loader.loadComponent(r)]).pipe(Ls()):o})}}return t.\u0275fac=function(n){return new(n||t)($(er),$(ZR),$(si),$(AF),$(xw))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Rw=new L("");let MF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Jc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Qx(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function mi(t,e){return{\u0275kind:t,\u0275providers:e}}function NF(){const t=O(Bn);return e=>{const n=t.get(Aa);if(e!==n.components[0])return;const r=t.get(er),i=t.get(RF);1===t.get(kw)&&r.initialNavigation(),t.get(kF,null,q.Optional)?.setUpPreloading(),t.get(Rw,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const RF=new L("",{factory:()=>new Yr}),kw=new L("",{providedIn:"root",factory:()=>1}),kF=new L("");function gJ(t){return mi(0,[{provide:kF,useExisting:dJ},{provide:AF,useExisting:t}])}const PF=new L("ROUTER_FORROOT_GUARD"),yJ=[pv,{provide:Wc,useClass:fw},er,Zc,{provide:Fa,useFactory:function xF(t){return t.routerState.root},deps:[er]},xw,[]];function _J(){return new lk("Router",er)}let OF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[yJ,[],{provide:Ba,multi:!0,useValue:n},{provide:PF,useFactory:EJ,deps:[[er,new dn,new dh]]},{provide:Jf,useValue:r||{}},r?.useHash?{provide:zo,useClass:R7}:{provide:zo,useClass:Uk},{provide:Rw,useFactory:()=>{const t=O(K8),e=O(Se),n=O(Jf),r=O(Xf),i=O(Wc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new MF(i,r,t,e,n)}},r?.preloadingStrategy?gJ(r.preloadingStrategy).\u0275providers:[],{provide:lk,multi:!0,useFactory:_J},r?.initialNavigation?DJ(r):[],r?.bindToComponentInputs?mi(8,[uF,{provide:qf,useExisting:uF}]).\u0275providers:[],[{provide:FF,useFactory:NF},{provide:rv,multi:!0,useExisting:FF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ba,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(PF,8))},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({}),t})();function EJ(t){return"guarded"}function DJ(t){return["disabled"===t.initialNavigation?mi(3,[{provide:K_,multi:!0,useFactory:()=>{const e=O(er);return()=>{e.setUpLocationChangeListener()}}},{provide:kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?mi(2,[{provide:kw,useValue:0},{provide:K_,multi:!0,deps:[Bn],useFactory:e=>{const n=e.get(x7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(er),o=e.get(RF);SF(i,()=>{r(!0)}),e.get(Xf).afterPreactivation=()=>(r(!0),o.closed?ee(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const FF=new L(""),bJ=[];let TJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({imports:[OF.forRoot(bJ),OF]}),t})();function LF(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){LF(o,r,i,s,a,"next",u)}function a(u){LF(o,r,i,s,a,"throw",u)}s(void 0)})}}const VF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new xJ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zf=function(t){return function(t){const e=VF(t);return Ow.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ep=function(t){try{return Ow.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tp=()=>{try{return function kJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ep(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},BF=t=>{var e,n;return null===(n=null===(e=tp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},$F=()=>{var t;return null===(t=tp())||void 0===t?void 0:t.config},jF=t=>{var e;return null===(e=tp())||void 0===e?void 0:e[`_${t}`]};class np{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function es(){try{return"object"==typeof indexedDB}catch{return!1}}function ol(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Lw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}}class Vr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function GJ(t,e){return t.replace(zJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new tr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const zJ=/\{\$([^}]+)}/g;function ip(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(GF(o)&&GF(s)){if(!ip(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GF(t){return null!==t&&"object"==typeof t}function op(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class KJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function QJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Vw),void 0===i.error&&(i.error=Vw),void 0===i.complete&&(i.complete=Vw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vw(){}const YJ=1e3,XJ=2,JJ=144e5,ZJ=.5;function Bw(t,e=YJ,n=XJ){const r=e*Math.pow(n,t),i=Math.round(ZJ*r*(Math.random()-.5)*2);return Math.min(JJ,r+i)}function gn(t){return t&&t._delegate?t._delegate:t}class tn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class tZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new np;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function rZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ts?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const $w=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const zF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},oZ=Y.INFO,sZ={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},aZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class $a{constructor(e){this.name=e,this._logLevel=oZ,this._logHandler=aZ,this._userLogHandler=null,$w.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?zF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const uZ=(t,e)=>e.some(n=>t instanceof n);let qF,WF;const KF=new WeakMap,jw=new WeakMap,QF=new WeakMap,Hw=new WeakMap,Gw=new WeakMap;let zw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gZ(t){return"function"==typeof t?function pZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lZ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qw(this),e),to(KF.get(this))}:function(...e){return to(t.apply(qw(this),e))}:function(e,...n){const r=t.call(qw(this),e,...n);return QF.set(r,e.sort?e.sort():[e]),to(r)}}(t):(t instanceof IDBTransaction&&function hZ(t){if(jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jw.set(t,e)}(t),uZ(t,function cZ(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zw):t)}function to(t){if(t instanceof IDBRequest)return function dZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(to(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KF.set(n,t)}).catch(()=>{}),Gw.set(e,t),e}(t);if(Hw.has(t))return Hw.get(t);const e=gZ(t);return e!==t&&(Hw.set(t,e),Gw.set(e,t)),e}const qw=t=>Gw.get(t),yZ=["get","getKey","getAll","getAllKeys","count"],_Z=["put","add","delete","clear"],Ww=new Map;function YF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ww.get(e))return Ww.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_Z.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yZ.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Ww.set(e,o),o}!function fZ(t){zw=t(zw)}(t=>({...t,get:(e,n,r)=>YF(e,n)||t.get(e,n,r),has:(e,n)=>!!YF(e,n)||t.has(e,n)}));class vZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wZ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Kw="@firebase/app",ns=new $a("@firebase/app"),sp="[DEFAULT]",qZ={[Kw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rs=new Map,ap=new Map;function WZ(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(ap.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(const n of rs.values())WZ(n,t);return!0}function ja(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const yi=new Vr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class QZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const is="9.22.0";function Qw(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=$F()),!n)throw yi.create("no-options");const o=rs.get(i);if(o){if(ip(n,o.options)&&ip(r,o.config))return o;throw yi.create("duplicate-app",{appName:i})}const s=new iZ(i);for(const u of ap.values())s.addComponent(u);const a=new QZ(n,r,s);return rs.set(i,a),a}function Yw(t=sp){const e=rs.get(t);if(!e&&t===sp&&$F())return Qw();if(!e)throw yi.create("no-app",{appName:t});return e}function JF(){return Array.from(rs.values())}function Ze(t,e,n){var r;let i=null!==(r=qZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ns.warn(a.join(" "))}mn(new tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const YZ="firebase-heartbeat-database",XZ=1,ul="firebase-heartbeat-store";let Jw=null;function ZF(){return Jw||(Jw=function mZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=to(s);return r&&s.addEventListener("upgradeneeded",u=>{r(to(s.result),u.oldVersion,u.newVersion,to(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(YZ,XZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ul)}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Jw}function Zw(){return(Zw=g(function*(t){try{return yield(yield ZF()).transaction(ul).objectStore(ul).get(tL(t))}catch(e){if(e instanceof tr)ns.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});ns.warn(n.message)}}})).apply(this,arguments)}function eL(t,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e){try{const r=(yield ZF()).transaction(ul,"readwrite");yield r.objectStore(ul).put(e,tL(t)),yield r.done}catch(n){if(n instanceof tr)ns.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n?.message});ns.warn(r.message)}}})).apply(this,arguments)}function tL(t){return`${t.name}!${t.options.appId}`}class tee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ree(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=nL(),{heartbeatsToSend:r,unsentEntries:i}=function nee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Zf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function nL(){return(new Date).toISOString().substring(0,10)}class ree{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!es()&&ol().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function JZ(t){return Zw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return eL(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function rL(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}!function iee(t){mn(new tn("platform-logger",e=>new vZ(e),"PRIVATE")),mn(new tn("heartbeat",e=>new tee(e),"PRIVATE")),Ze(Kw,"0.9.10",t),Ze(Kw,"0.9.10","esm2017"),Ze("fire-js","")}(""),Ze("firebase","9.22.0","app");const aee=(t,e)=>e.some(n=>t instanceof n);let iL,oL;const sL=new WeakMap,tI=new WeakMap,aL=new WeakMap,nI=new WeakMap,rI=new WeakMap;let iI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pee(t){return"function"==typeof t?function fee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cee(){return oL||(oL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(oI(this),e),no(sL.get(this))}:function(...e){return no(t.apply(oI(this),e))}:function(e,...n){const r=t.call(oI(this),e,...n);return aL.set(r,e.sort?e.sort():[e]),no(r)}}(t):(t instanceof IDBTransaction&&function dee(t){if(tI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});tI.set(t,e)}(t),aee(t,function uee(){return iL||(iL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iI):t)}function no(t){if(t instanceof IDBRequest)return function lee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(no(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),rI.set(e,t),e}(t);if(nI.has(t))return nI.get(t);const e=pee(t);return e!==t&&(nI.set(t,e),rI.set(e,t)),e}const oI=t=>rI.get(t),mee=["get","getKey","getAll","getAllKeys","count"],yee=["put","add","delete","clear"],sI=new Map;function uL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(sI.get(e))return sI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mee.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return sI.set(e,o),o}!function hee(t){iI=t(iI)}(t=>({...t,get:(e,n,r)=>uL(e,n)||t.get(e,n,r),has:(e,n)=>!!uL(e,n)||t.has(e,n)}));const cL="@firebase/installations",aI="0.6.4",lL=1e4,dL=`w:${aI}`,hL="FIS_v2",_ee="https://firebaseinstallations.googleapis.com/v1",vee=36e5,_i=new Vr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fL(t){return t instanceof tr&&t.code.includes("request-failed")}function uI({projectId:t}){return`${_ee}/projects/${t}/installations`}function pL(t){return{token:t.token,requestStatus:2,expiresIn:Dee(t.expiresIn),creationTime:Date.now()}}function cI(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){const r=(yield e.json()).error;return _i.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function gL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dI(t){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Dee(t){return Number(t.replace("s","000"))}function fI(){return(fI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uI(t),i=gL(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hL,appId:t.appId,sdkVersion:dL})},u=yield dI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:pL(c.authToken)}}throw yield cI("Create Installation",u)})).apply(this,arguments)}function yL(t){return new Promise(e=>{setTimeout(e,t)})}const See=/^[cdef][\w-]{21}$/,pI="";function Aee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Mee(t){return function Tee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return See.test(n)?n:pI}catch{return pI}}function Ha(t){return`${t.appName}!${t.appId}`}const Ga=new Map;function _L(t,e){const n=Ha(t);vL(n,e),function Ree(t,e){const n=function wL(){return!os&&"BroadcastChannel"in self&&(os=new BroadcastChannel("[Firebase] FID Change"),os.onmessage=t=>{vL(t.data.key,t.data.fid)}),os}();n&&n.postMessage({key:t,fid:e}),function IL(){0===Ga.size&&os&&(os.close(),os=null)}()}(n,e)}function vL(t,e){const n=Ga.get(t);if(n)for(const r of n)r(e)}let os=null;const kee="firebase-installations-database",Pee=1,ss="firebase-installations-store";let gI=null;function mI(){return gI||(gI=function gee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=no(s);return r&&s.addEventListener("upgradeneeded",u=>{r(no(s.result),u.oldVersion,u.newVersion,no(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kee,Pee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ss)}})),gI}function up(t,e){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t,e){const n=Ha(t),i=(yield mI()).transaction(ss,"readwrite"),o=i.objectStore(ss),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&_L(t,e.fid),e})).apply(this,arguments)}function _I(t){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t){const e=Ha(t),r=(yield mI()).transaction(ss,"readwrite");yield r.objectStore(ss).delete(e),yield r.done})).apply(this,arguments)}function cl(t,e){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t,e){const n=Ha(t),i=(yield mI()).transaction(ss,"readwrite"),o=i.objectStore(ss),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&_L(t,a.fid),a})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return EI=g(function*(t){let e;const n=yield cl(t.appConfig,r=>{const i=function Oee(t){return DL(t||{fid:Aee(),registrationStatus:0})}(r),o=function Fee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(_i.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Lee(t,e){return DI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Vee(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===pI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),EI.apply(this,arguments)}function DI(){return DI=g(function*(t,e){try{const n=yield function bee(t,e){return fI.apply(this,arguments)}(t,e);return up(t.appConfig,n)}catch(n){throw fL(n)&&409===n.customData.serverCode?yield _I(t.appConfig):yield up(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),DI.apply(this,arguments)}function Vee(t){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t){let e=yield EL(t.appConfig);for(;1===e.registrationStatus;)yield yL(100),e=yield EL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield II(t);return r||n}return e})).apply(this,arguments)}function EL(t){return cl(t,e=>{if(!e)throw _i.create("installation-not-found");return DL(e)})}function DL(t){return function Uee(t){return 1===t.registrationStatus&&t.registrationTime+lL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function bI(){return(bI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function $ee(t,{fid:e}){return`${uI(t)}/${e}/authTokens:generate`}(t,n),i=function mL(t,{refreshToken:e}){const n=gL(t);return n.append("Authorization",function Cee(t){return`${hL} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dL,appId:t.appId}})},u=yield dI(()=>fetch(r,a));if(u.ok)return pL(yield u.json());throw yield cI("Generate Auth Token",u)})).apply(this,arguments)}function TI(t){return SI.apply(this,arguments)}function SI(){return SI=g(function*(t,e=!1){let n;const r=yield cl(t.appConfig,o=>{if(!bL(o))throw _i.create("not-registered");const s=o.authToken;if(!e&&function Gee(t){return 2===t.requestStatus&&!function zee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vee}(t)}(s))return o;if(1===s.requestStatus)return n=function jee(t,e){return AI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw _i.create("app-offline");const a=function qee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Hee(t,e){return MI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),SI.apply(this,arguments)}function AI(){return(AI=g(function*(t,e){let n=yield CL(t.appConfig);for(;1===n.authToken.requestStatus;)yield yL(100),n=yield CL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?TI(t,e):r})).apply(this,arguments)}function CL(t){return cl(t,e=>{if(!bL(e))throw _i.create("not-registered");return function Wee(t){return 1===t.requestStatus&&t.requestTime+lL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function MI(){return MI=g(function*(t,e){try{const n=yield function Bee(t,e){return bI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield up(t.appConfig,r),n}catch(n){if(!fL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield up(t.appConfig,r)}else yield _I(t.appConfig);throw n}}),MI.apply(this,arguments)}function bL(t){return void 0!==t&&2===t.registrationStatus}function xI(){return(xI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield II(e);return r?r.catch(console.error):TI(e).catch(console.error),n.fid})).apply(this,arguments)}function NI(){return NI=g(function*(t,e=!1){const n=t;return yield function Yee(t){return RI.apply(this,arguments)}(n),(yield TI(n,e)).token}),NI.apply(this,arguments)}function RI(){return(RI=g(function*(t){const{registrationPromise:e}=yield II(t);e&&(yield e)})).apply(this,arguments)}function OI(t){return _i.create("missing-app-config-values",{valueName:t})}const TL="installations",tte=t=>{const e=t.getProvider("app").getImmediate(),n=function Zee(t){if(!t||!t.options)throw OI("App Configuration");if(!t.name)throw OI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw OI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ja(e,"heartbeat"),_delete:()=>Promise.resolve()}},nte=t=>{const n=ja(t.getProvider("app").getImmediate(),TL).getImmediate();return{getId:()=>function Kee(t){return xI.apply(this,arguments)}(n),getToken:i=>function Qee(t){return NI.apply(this,arguments)}(n,i)}};(function rte(){mn(new tn(TL,tte,"PUBLIC")),mn(new tn("installations-internal",nte,"PRIVATE"))})(),Ze(cL,aI),Ze(cL,aI,"esm2017");const FI="@firebase/remote-config",Mn=new Vr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function gte(t=navigator){return t.languages&&t.languages[0]||t.language}class mte{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:gte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),Mn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw Mn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Mn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class vte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function yte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function _te(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Bw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class Ete{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lp(t,e){const n=t.target.error||void 0;return Mn.create(e,{originalErrorMessage:n&&n?.message})}const as="app_namespace_store";class Tte{constructor(e,n,r,i=function bte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(lp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(as,{keyPath:"compositeKey"})}}catch(n){e(Mn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([as],"readonly").objectStore(as),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(lp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(Mn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([as],"readwrite").objectStore(as),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(lp(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Mn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([as],"readwrite").objectStore(as),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(lp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(Mn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ste{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Mte(){return $I.apply(this,arguments)}function $I(){return($I=g(function*(){if(!es())return!1;try{return yield ol()}catch{return!1}})).apply(this,arguments)}!function Ate(){mn(new tn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!es())throw Mn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Mn.create("registration-project-id");if(!s)throw Mn.create("registration-api-key");if(!a)throw Mn.create("registration-app-id");const u=new Tte(a,r.name,n=n||"firebase"),c=new Ste(u),l=new $a(FI);l.logLevel=Y.ERROR;const d=new mte(i,is,n,o,s,a),h=new vte(d,u),f=new pte(h,u,c,l),p=new Ete(r,f,c,u,l);return function dte(t){const e=gn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ze(FI,"0.4.4"),Ze(FI,"0.4.4","esm2017")}();const xte=(t,e)=>e.some(n=>t instanceof n);let xL,NL;const RL=new WeakMap,jI=new WeakMap,kL=new WeakMap,HI=new WeakMap,GI=new WeakMap;let zI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Lte(t){return"function"==typeof t?function Fte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rte(){return NL||(NL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qI(this),e),vi(RL.get(this))}:function(...e){return vi(t.apply(qI(this),e))}:function(e,...n){const r=t.call(qI(this),e,...n);return kL.set(r,e.sort?e.sort():[e]),vi(r)}}(t):(t instanceof IDBTransaction&&function Pte(t){if(jI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jI.set(t,e)}(t),xte(t,function Nte(){return xL||(xL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zI):t)}function vi(t){if(t instanceof IDBRequest)return function kte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(vi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RL.set(n,t)}).catch(()=>{}),GI.set(e,t),e}(t);if(HI.has(t))return HI.get(t);const e=Lte(t);return e!==t&&(HI.set(t,e),GI.set(e,t)),e}const qI=t=>GI.get(t);function PL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=vi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function WI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),vi(n).then(()=>{})}const Vte=["get","getKey","getAll","getAllKeys","count"],Ute=["put","add","delete","clear"],KI=new Map;function OL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(KI.get(e))return KI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ute.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vte.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return KI.set(e,o),o}!function Ote(t){zI=t(zI)}(t=>({...t,get:(e,n,r)=>OL(e,n)||t.get(e,n,r),has:(e,n)=>!!OL(e,n)||t.has(e,n)}));const Bte="/firebase-messaging-sw.js",$te="/firebase-cloud-messaging-push-scope",FL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jte="https://fcmregistrations.googleapis.com/v1",LL="google.c.a.c_id",Hte="google.c.a.c_l",Gte="google.c.a.ts";var ro=(()=>((ro=ro||{}).PUSH_RECEIVED="push-received",ro.NOTIFICATION_CLICKED="notification-clicked",ro))();function wi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qte(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const QI="fcm_token_details_db",Wte=5,VL="fcm_token_object_Store";function YI(){return YI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(QI))return null;let e=null;return(yield PL(QI,Wte,{upgrade:(r=g(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(VL))return;const c=a.objectStore(VL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:wi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wi(d.auth),p256dh:wi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wi(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield WI(QI),yield WI("fcm_vapid_details_db"),yield WI("undefined"),function Qte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),YI.apply(this,arguments)}const Yte="firebase-messaging-database",Xte=1,us="firebase-messaging-store";let XI=null;function JI(){return XI||(XI=PL(Yte,Xte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(us)}})),XI}function UL(t){return ZI.apply(this,arguments)}function ZI(){return ZI=g(function*(t){const e=rE(t),r=yield(yield JI()).transaction(us).objectStore(us).get(e);if(r)return r;{const i=yield function Kte(t){return YI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield eE(t,i),i}}),ZI.apply(this,arguments)}function eE(t,e){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e){const n=rE(t),i=(yield JI()).transaction(us,"readwrite");return yield i.objectStore(us).put(e,n),yield i.done,e})).apply(this,arguments)}function nE(){return(nE=g(function*(t){const e=rE(t),r=(yield JI()).transaction(us,"readwrite");yield r.objectStore(us).delete(e),yield r.done})).apply(this,arguments)}function rE({appConfig:t}){return t.appId}const $t=new Vr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ene(t,e){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(t,e){const n=yield uE(t),r=$L(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(aE(t.appConfig),i)).json()}catch(s){throw $t.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw $t.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw $t.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const n=yield uE(t),r=$L(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${aE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw $t.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw $t.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw $t.create("token-update-no-token");return o.token})).apply(this,arguments)}function BL(t,e){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(t,e){const r={method:"DELETE",headers:yield uE(t)};try{const o=yield(yield fetch(`${aE(t.appConfig)}/${e}`,r)).json();if(o.error)throw $t.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw $t.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function aE({projectId:t}){return`${jte}/projects/${t}/registrations`}function uE(t){return cE.apply(this,arguments)}function cE(){return(cE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function $L({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==FL&&(i.web.applicationPubKey=r),i}const nne=6048e5;function lE(){return lE=g(function*(t){const e=yield function one(t,e){return pE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:wi(e.getKey("auth")),p256dh:wi(e.getKey("p256dh"))},r=yield UL(t.firebaseDependencies);if(r){if(function sne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+nne?function ine(t,e){return hE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield BL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return HL(t.firebaseDependencies,n)}return HL(t.firebaseDependencies,n)}),lE.apply(this,arguments)}function dE(){return dE=g(function*(t){const e=yield UL(t.firebaseDependencies);e&&(yield BL(t.firebaseDependencies,e.token),yield function Jte(t){return nE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),dE.apply(this,arguments)}function hE(){return hE=g(function*(t,e){try{const n=yield function tne(t,e){return oE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield eE(t.firebaseDependencies,r),n}catch(n){throw yield function jL(t){return dE.apply(this,arguments)}(t),n}}),hE.apply(this,arguments)}function HL(t,e){return fE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e){const r={token:yield ene(t,e),createTime:Date.now(),subscriptionOptions:e};return yield eE(t,r),r.token})).apply(this,arguments)}function pE(){return(pE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qte(e)})})).apply(this,arguments)}function GL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function ane(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function une(t,e){e.data&&(t.data=e.data)}(e,t),function cne(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function zL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function gE(t){return $t.create("missing-app-config-values",{valueName:t})}zL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function dne(t){if(!t||!t.options)throw gE("App Configuration Object");if(!t.name)throw gE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw gE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mE(){return(mE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Bte,{scope:$te}),t.swRegistration.update().catch(()=>{})}catch(e){throw $t.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yE(){return(yE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function qL(t){return mE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=FL)})).apply(this,arguments)}function vE(){return vE=g(function*(t,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield function pne(t,e){return _E.apply(this,arguments)}(t,e?.vapidKey),yield function fne(t,e){return yE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function rne(t){return lE.apply(this,arguments)}(t)}),vE.apply(this,arguments)}function wE(){return(wE=g(function*(t,e,n){const r=function mne(t){switch(t){case ro.NOTIFICATION_CLICKED:return"notification_open";case ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[LL],message_name:n[Hte],message_time:n[Gte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IE(){return IE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ro.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(GL(n)):t.onMessageHandler.next(GL(n)));const r=n.data;(function lne(t){return"object"==typeof t&&!!t&&LL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function gne(t,e,n){return wE.apply(this,arguments)}(t,n.messageType,r))}),IE.apply(this,arguments)}const KL="@firebase/messaging",_ne=t=>{const e=new hne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function yne(t,e){return IE.apply(this,arguments)}(e,n)),e},vne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function WL(t,e){return vE.apply(this,arguments)}(e,r)}};function YL(){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(){try{yield ol()}catch{return!1}return typeof window<"u"&&es()&&Lw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wne(){mn(new tn("messaging",_ne,"PUBLIC")),mn(new tn("messaging-internal",vne,"PRIVATE")),Ze(KL,"0.12.4"),Ze(KL,"0.12.4","esm2017")}();const dp="analytics",Dne="firebase_id",Cne="origin",bne=6e4,Tne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bE="https://www.googletagmanager.com/gtag/js",Mt=new $a("@firebase/analytics"),yn=new Vr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ane(t){if(!t.startsWith(bE)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function XL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function TE(){return(TE=g(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield XL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mt.error(a)}t("config",i,o)})).apply(this,arguments)}function SE(){return(SE=g(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield XL(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Mt.error(o)}})).apply(this,arguments)}const Lne=30,JL=new class Une{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bne(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function AE(){return(AE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bne(r)},o=Tne.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function ME(){return(ME=g(function*(t,e=JL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw yn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw yn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zne;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:bne),ZL({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function ZL(t,e,n){return xE.apply(this,arguments)}function xE(){return xE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JL){var o;const{appId:s,measurementId:a}=t;try{yield function Hne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function $ne(t){return AE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function Gne(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Bw(n,i.intervalMillis,Lne):Bw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Mt.debug(`Calling attemptFetch again in ${l} millis`),ZL(t,d,r,i)}}),xE.apply(this,arguments)}class zne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let NE,VE;function RE(){return(RE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function UE(){return(UE=g(function*(){if(!es())return Mt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ol()}catch(t){return Mt.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function BE(){return BE=g(function*(t,e,n,r,i,o,s){var a;const u=function jne(t){return ME.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(u);const c=function Jne(){return UE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Fne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bE)&&n.src.includes(t))return n;return null})(o)||function xne(t,e){const n=function Mne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Ane}),r=document.createElement("script"),i=`${bE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),VE&&(i("consent","default",VE),function eV(t){VE=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Cne]="firebase",h.update=!0,null!=d&&(h[Dne]=d),i("config",l.measurementId,h),NE&&(i("set",NE),function tV(t){NE=t}(void 0)),l.measurementId}),BE.apply(this,arguments)}class ere{constructor(e){this.app=e}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},nV=[];const rV={};let oV,Br,hp="dataLayer",$E=!1;function nre(t,e,n){!function tre(){const t=[];if(Fw()&&t.push("This is a browser extension environment."),Lw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[r])throw yn.create("already-exists",{id:r});if(!$E){!function Nne(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(hp);const{wrappedGtag:o,gtagCore:s}=function One(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Pne(t,e,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function kne(t,e,n,r,i){return SE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function Rne(t,e,n,r,i,o){return TE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){Mt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Ur,nV,rV,hp,"gtag");Br=o,oV=s,$E=!0}return Ur[r]=function Zne(t,e,n,r,i,o,s){return BE.apply(this,arguments)}(t,nV,rV,e,oV,hp,n),new ere(t)}function ire(){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(){if(Fw()||!Lw()||!es())return!1;try{return yield ol()}catch{return!1}})).apply(this,arguments)}const sV="@firebase/analytics";!function sre(){mn(new tn(dp,(e,{options:n})=>nre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mn(new tn("analytics-internal",function t(e){try{const n=e.getProvider(dp).getImmediate();return{logEvent:(r,i,o)=>function ore(t,e,n,r){t=gn(t),function qne(t,e,n,r,i){return RE.apply(this,arguments)}(Br,Ur[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}(n,r,i,o)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ze(sV,"0.10.0"),Ze(sV,"0.10.0","esm2017")}();class are extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const fp={setInterval(t,e,...n){const{delegate:r}=fp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=fp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class uV extends are{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return fp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&fp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const cV={now:()=>(cV.delegate||Date).now(),delegate:void 0};class ll{constructor(e,n=ll.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ll.now=cV.now;class lV extends ll{constructor(e,n=ll.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const lre=new class cre extends lV{}(class ure extends uV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),dre=new lV(uV),pp=new aa("7.5.0"),GE="__angularfire_symbol__analyticsIsSupportedValue",zE="__angularfire_symbol__analyticsIsSupported",qE="__angularfire_symbol__remoteConfigIsSupportedValue",WE="__angularfire_symbol__remoteConfigIsSupported",KE="__angularfire_symbol__messagingIsSupportedValue",QE="__angularfire_symbol__messagingIsSupported";function XE(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[zE]||(globalThis[zE]=ire().then(t=>globalThis[GE]=t).catch(()=>globalThis[GE]=!1)),globalThis[QE]||(globalThis[QE]=YL().then(t=>globalThis[KE]=t).catch(()=>globalThis[KE]=!1)),globalThis[WE]||(globalThis[WE]=Mte().then(t=>globalThis[qE]=t).catch(()=>globalThis[qE]=!1));const JE=(t,e)=>{const n=e?[e]:JF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function za(){}class dV{constructor(e,n=lre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class hre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)),n.pipe(en({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ZE=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dV(Zone.current)),this.insideAngular=n.run(()=>new dV(Zone.current,dre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Se))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ls(t){return cs().ngZone.run(()=>t())}function pre(t){return cs(),function gre(t){return function(n){return(n=n.lift(new hre(t.ngZone))).pipe(Fd(t.outsideAngular),Od(t.insideAngular))}}(cs())(t)}const mre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ls(()=>t.apply(void 0,r))},io=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)))),r[o]=mre(r[o],n));const i=function fre(t){return cs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ke){const o=cs();return i.pipe(Fd(o.outsideAngular),Od(o.insideAngular))}return ls(()=>i)}return i instanceof Ke?i.pipe(pre):i instanceof Promise?ls(()=>new Promise((o,s)=>i.then(a=>ls(()=>o(a)),a=>ls(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ls(()=>i)};class qa{constructor(e){return e}}class eD{constructor(){return JF()}}const tD=new L("angularfire2._apps"),_re={provide:qa,useFactory:function yre(t){return t&&1===t.length?t[0]:new qa(Yw())},deps:[[new dn,tD]]},vre={provide:eD,deps:[[new dn,tD]]};function wre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qa(r)}}let Ire=(()=>{class t{constructor(n){Ze("angularfire",pp.full,"core"),Ze("angularfire",pp.full,"app"),Ze("angular",kx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Gi))},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({providers:[_re,vre]}),t})();function Ere(t,...e){return{ngModule:Ire,providers:[{provide:tD,useFactory:wre(t),multi:!0,deps:[Se,Bn,ZE,...e]}]}}const Dre=io(Qw,!0),nD=new Map,hV={activated:!1,tokenObservers:[]},Cre={initialized:!1,enabled:!1};function et(t){return nD.get(t)||Object.assign({},hV)}function gp(){return Cre}const rD="https://content-firebaseappcheck.googleapis.com/v1",Are="exchangeDebugToken",fV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xre{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new np,yield function Nre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new np,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const jt=new Vr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sD(){return(sD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw jt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw jt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw jt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw jt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const Ore="firebase-app-check-database",Fre=1,dl="firebase-app-check-store";let vp=null;function aD(){return(aD=g(function*(t,e){const r=(yield function mV(){return vp||(vp=new Promise((t,e)=>{try{const n=indexedDB.open(Ore,Fre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dl,{keyPath:"compositeKey"})}}catch(n){e(jt.create("storage-open",{originalErrorMessage:n?.message}))}}),vp)}()).transaction(dl,"readwrite"),o=r.objectStore(dl).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(jt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const hl=new $a("@firebase/app-check");function lD(t,e){return es()?function Vre(t,e){return function yV(t,e){return aD.apply(this,arguments)}(function vV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{hl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pD(){return(pD=g(function*(){const t=gp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gre={error:"UNKNOWN_ERROR"};function zre(t){return Ow.encodeString(JSON.stringify(t),!1)}function wp(t){return gD.apply(this,arguments)}function gD(){return(gD=g(function*(t,e=!1){const n=t.app;!function iD(t){if(!et(t).activated)throw jt.create("use-before-activation",{appName:t.name})}(n);const r=et(n);let o,i=r.token;if(i&&!Wa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Wa(u)?i=u:yield lD(n,void 0))}if(!e&&i&&Wa(i))return{token:i.token};let a,s=!1;if(function hD(){return gp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function _p(t,e){return sD.apply(this,arguments)}(function pV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rD}/projects/${n}/apps/${r}:${Are}?key=${i}`,body:{debug_token:e}}}(n,yield function fD(){return pD.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield lD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield et(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?hl.warn(u.message):hl.error(u),o=u}return i?o?a=Wa(i)?{token:i.token,internalError:o}:EV(o):(a={token:i.token},r.token=i,yield lD(n,i)):a=EV(o),s&&function IV(t,e){const n=et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function _D(t,e){const n=et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wV(t){const{app:e}=t,n=et(e);let r=n.tokenRefresher;r||(r=function Wre(t){const{app:e}=t;return new xre(g(function*(){let r;if(r=et(e).token?yield wp(t,!0):yield wp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},fV.RETRIAL_MIN_WAIT,fV.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Wa(t){return t.expireTimeMillis-Date.now()>0}function EV(t){return{token:zre(Gre),error:t}}class Kre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=et(this.app);for(const n of e)_D(this.app,n.next);return Promise.resolve()}}const xV="app-check-internal";!function uie(){mn(new tn("app-check",t=>function Qre(t,e){return new Kre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xV).initialize()})),mn(new tn(xV,t=>function Yre(t){return{getToken:e=>wp(t,e),addTokenListener:e=>function yD(t,e,n,r){const{app:i}=t,o=et(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Wa(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),wV(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wV(t))}(t,"INTERNAL",e),removeTokenListener:e=>_D(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ze("@firebase/app-check","0.7.0")}();class ED{constructor(){return JE("app-check")}}typeof window<"u"&&window;const fie=function RV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kV=new Vr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ep=new $a("@firebase/auth");function Dp(t,...e){Ep.logLevel<=Y.ERROR&&Ep.error(`Auth (${is}): ${t}`,...e)}function xn(t,...e){throw CD(t,...e)}function $r(t,...e){return CD(t,...e)}function CD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kV.create(t,...e)}function A(t,e,...n){if(!t)throw CD(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dp(e),new Error(e)}function oo(t,e){t||jr(e)}function fl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function OV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,oo(n>e,"Short delay should be less than long delay!"),this.isMobile=function UJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}()||function $J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function gie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bD(){return"http:"===OV()||"https:"===OV()}()||Fw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function TD(t,e){oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_ie=new pl(3e4,6e4);function qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tt(t,e,n,r){return SD.apply(this,arguments)}function SD(){return(SD=g(function*(t,e,n,r,i={}){return LV(t,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=op(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),FV.fetch()(VV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function LV(t,e,n){return AD.apply(this,arguments)}function AD(){return(AD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yie),e);try{const i=new vie(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw gl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw gl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw gl(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw gl(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function PV(t,e,n){const r=Object.assign(Object.assign({},fie()),{[e]:n});return new Vr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);xn(t,l)}}catch(i){if(i instanceof tr)throw i;xn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ii(t,e,n,r){return MD.apply(this,arguments)}function MD(){return(MD=g(function*(t,e,n,r,i={}){const o=yield tt(t,e,n,r,i);return"mfaPendingCredential"in o&&xn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function VV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?TD(t.config,i):`${t.config.apiScheme}://${i}`}class vie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),_ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$r(t,e,r);return i.customData._tokenResponse=n,i}function xD(){return(xD=g(function*(t,e){return tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function RD(){return(RD=g(function*(t,e){return tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kD(){return(kD=g(function*(t,e=!1){const n=gn(t),r=yield n.getIdToken(e),i=Cp(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ml(PD(i.auth_time)),issuedAtTime:ml(PD(i.iat)),expirationTime:ml(PD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function PD(t){return 1e3*Number(t)}function Cp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=ep(n);return i?JSON.parse(i):(Dp("Failed to decode base64 JWT payload"),null)}catch(i){return Dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ei(t,e){return OD.apply(this,arguments)}function OD(){return(OD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&function bie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Tie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class UV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yl(t){return FD.apply(this,arguments)}function FD(){return FD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ei(t,function Eie(t,e){return RD.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Mie(t){return t.map(e=>{var{providerId:n}=e,r=HS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Aie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new UV(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),FD.apply(this,arguments)}function LD(){return(LD=g(function*(t){const e=gn(t);yield yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function VD(){return(VD=g(function*(t,e){const n=yield LV(t,{},g(function*(){const r=op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VV(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cie(t){const e=Cp(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function xie(t,e){return VD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _l;return r&&(A("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(A("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return jr("not implemented")}}function so(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=HS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UV(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ei(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Die(t){return kD.apply(this,arguments)}(this,e)}reload(){return function Sie(t){return LD.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield yl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ei(e,function wie(t,e){return xD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:P,isAnonymous:V,providerData:ue,stsTokenManager:yt}=n;A(C&&yt,e,"internal-error");const Oi=_l.fromJSON(this.name,yt);A("string"==typeof C,e,"internal-error"),so(d,e.name),so(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),so(f,e.name),so(p,e.name),so(m,e.name),so(y,e.name),so(w,e.name),so(_,e.name);const Ou=new ds({uid:C,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Oi,createdAt:w,lastLoginAt:_});return ue&&Array.isArray(ue)&&(Ou.providerData=ue.map(bhe=>Object.assign({},bhe))),y&&(Ou._redirectEventId=y),Ou}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new _l;i.updateFromServerResponse(n);const o=new ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yl(o),o})()}}const BV=new Map;function Di(t){oo(t instanceof Function,"Expected a class definition");let e=BV.get(t);return e?(oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BV.set(t,e),e)}const $V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bp(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ds._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Qa(Di($V),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Di($V);const s=bp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=ds._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Qa(o,e,r)):new Qa(o,e,r)})()}}function jV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WV(e))return"Blackberry";if(KV(e))return"Webos";if(UD(e))return"Safari";if((e.includes("chrome/")||GV(e))&&!e.includes("edge/"))return"Chrome";if(qV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HV(t=At()){return/firefox\//i.test(t)}function UD(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GV(t=At()){return/crios\//i.test(t)}function zV(t=At()){return/iemobile/i.test(t)}function qV(t=At()){return/android/i.test(t)}function WV(t=At()){return/blackberry/i.test(t)}function KV(t=At()){return/webos/i.test(t)}function Tp(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QV(t=At()){return Tp(t)||qV(t)||KV(t)||WV(t)||/windows phone/i.test(t)||zV(t)}function YV(t,e=[]){let n;switch(t){case"Browser":n=jV(At());break;case"Worker":n=`${jV(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}function XV(t,e){return $D.apply(this,arguments)}function $D(){return($D=g(function*(t,e){return tt(t,"GET","/v2/recaptchaConfig",qe(t,e))})).apply(this,arguments)}function ZV(t){return void 0!==t&&void 0!==t.enterprise}class e2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function jD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=$r("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Oie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function t2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class n2{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){XV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new e2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;ZV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&ZV(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));jD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function ao(t,e,n){return HD.apply(this,arguments)}function HD(){return(HD=g(function*(t,e,n,r=!1){const i=new n2(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Uie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Bie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r2(this),this.idTokenSubscription=new r2(this),this.beforeStateQueue=new Uie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Qa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield yl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?gn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Di(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield XV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new e2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new n2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Di(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Qa.create(n,[Di(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return A(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function pie(t,...e){Ep.logLevel<=Y.WARN&&Ep.warn(`Auth (${is}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(t){return gn(t)}class r2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WJ(t,e){const n=new KJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function i2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class s2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}function u2(t,e){return zD.apply(this,arguments)}function zD(){return(zD=g(function*(t,e){return tt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function WD(t,e){return KD.apply(this,arguments)}function KD(){return(KD=g(function*(t,e){return Ii(t,"POST","/v1/accounts:signInWithPassword",qe(t,e))})).apply(this,arguments)}function nC(){return(nC=g(function*(t,e){return Ii(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}function rC(){return(rC=g(function*(t,e){return Ii(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}class vl extends s2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield ao(e,i,"signInWithPassword");return WD(e,o)}return WD(e,i).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ao(e,i,"signInWithPassword");return WD(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Qie(t,e){return nC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:xn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return u2(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Yie(t,e){return rC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:xn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ci(t,e){return iC.apply(this,arguments)}function iC(){return(iC=g(function*(t,e){return Ii(t,"POST","/v1/accounts:signInWithIdp",qe(t,e))})).apply(this,arguments)}class El{constructor(e){var n,r,i,o,s,a;const u=sl(al(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function roe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ioe(t){const e=sl(al(t)).link,n=e?sl(al(e)).deep_link_id:null,r=sl(al(t)).deep_link_id;return(r?sl(al(r)).link:null)||r||n||e||t}(e);try{return new El(n)}catch{return null}}}let c2=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return vl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=El.parseLink(r);return A(i,"argument-error"),vl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ooe extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const o=yield ds._fromIdTokenResponse(e,r,i),s=l2(r);return new nr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=l2(r);return new nr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function l2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class xp extends tr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xp(e,n,r,i)}}function d2(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?xp._fromErrorAndOperation(t,o,e,r):o})}function pC(){return(pC=g(function*(t,e,n=!1){const r=yield Ei(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nr._forOperation(t,"link",r)})).apply(this,arguments)}function mC(){return(mC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ei(t,d2(r,i,e,t),n);A(o.idToken,r,"internal-error");const s=Cp(o.idToken);A(s,r,"internal-error");const{sub:a}=s;return A(t.uid===a,r,"user-mismatch"),nr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&xn(r,"user-mismatch"),o}})).apply(this,arguments)}function p2(t,e){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(t,e,n=!1){const r="signIn",i=yield d2(t,r,e),o=yield nr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function vC(){return(vC=g(function*(t,e){return p2(xt(t),e)})).apply(this,arguments)}function hoe(t,e,n){return function _C(t,e){return vC.apply(this,arguments)}(gn(t),c2.credential(e,n))}function Eoe(t){return gn(t).signOut()}const Rp="__sak";class m2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xoe=(()=>{class t extends m2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Soe(){const t=At();return UD(t)||Tp(t)}()&&function kie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=QV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Rie(){return function jJ(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),y2=(()=>{class t extends m2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Roe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Noe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function WC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class koe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=WC("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function KC(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function QC(){return(QC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _2="firebaseLocalStorageDb",kp="firebaseLocalStorage",v2="fbase_key";class Cl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(t,e){return t.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function YC(){const t=indexedDB.open(_2,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kp,{keyPath:v2})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),yield function Uoe(){const t=indexedDB.deleteDatabase(_2);return new Cl(t).toPromise()}(),e(yield YC()))}))})}function w2(t,e,n){return XC.apply(this,arguments)}function XC(){return(XC=g(function*(t,e,n){const r=Pp(t,!0).put({[v2]:e,value:n});return new Cl(r).toPromise()})).apply(this,arguments)}function JC(){return(JC=g(function*(t,e){const n=Pp(t,!1).get(e),r=yield new Cl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function I2(t,e){const n=Pp(t,!0).delete(e);return new Cl(n).toPromise()}const Hoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield YC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return KC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Roe._getInstance(function Loe(){return KC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Ooe(){return QC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new koe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Foe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield YC();return yield w2(n,Rp,"1"),yield I2(n,Rp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>w2(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function Boe(t,e){return JC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>I2(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Pp(s,!1).getAll();return new Cl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();t2("rcb"),new pl(3e4,6e4);class ab extends s2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ci(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ci(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ci(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ose(t){return p2(t.auth,new ab(t),t.bypassAuthState)}function sse(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function f2(t,e){return mC.apply(this,arguments)}(n,new ab(t),t.bypassAuthState)}function ase(t){return ub.apply(this,arguments)}function ub(){return(ub=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function fC(t,e){return pC.apply(this,arguments)}(n,new ab(t),t.bypassAuthState)})).apply(this,arguments)}class use{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ose;case"linkViaPopup":case"linkViaRedirect":return ase;case"reauthViaPopup":case"reauthViaRedirect":return sse;default:xn(this.auth,"internal-error")}}resolve(e){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new pl(2e3,1e4);const cse="pendingRedirect",bl=new Map;class lse extends use{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=bl.get(n.auth._key());if(!r){try{const o=(yield function dse(t,e){return fb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}bl.set(n.auth._key(),r)}return n.bypassAuthState||bl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function fb(){return(fb=g(function*(t,e){const n=function C2(t){return bp(cse,t.config.apiKey,t.name)}(e),r=function D2(t){return Di(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function hse(t,e){bl.set(t._key(),e)}function b2(t,e){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(t,e,n=!1){const r=xt(t),i=function fs(t,e){return e?Di(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new lse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class yse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _se(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(S2(e))}saveEventToCache(e){this.cachedEventUids.add(S2(e)),this.lastProcessedEventTime=Date.now()}}function S2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Eb(){return(Eb=g(function*(t,e={}){return tt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const wse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ise=/^https?/;function Db(){return Db=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function vse(t){return Eb.apply(this,arguments)}(t);for(const n of e)try{if(Dse(n))return}catch{}xn(t,"unauthorized-domain")}),Db.apply(this,arguments)}function Dse(t){const e=fl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Ise.test(n))return!1;if(wse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Cse=new pl(3e4,6e4);function M2(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Fp=null;const Sse=new pl(5e3,15e3),Ase="__/auth/iframe",Mse="emulator/auth/iframe",xse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rse(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TD(e,Mse):`https://${t.config.authDomain}/${Ase}`,r={apiKey:e.apiKey,appName:t.name,v:is},i=Nse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${op(r).slice(1)}`}function Cb(){return Cb=g(function*(t){const e=yield function Tse(t){return Fp=Fp||function bse(t){return new Promise((e,n)=>{var r,i,o;function s(){M2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M2(),n($r(t,"network-request-failed"))},timeout:Cse.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=pt().gapi)||void 0===o||!o.load){const a=t2("iframefcb");return pt()[a]=()=>{gapi.load?s():n($r(t,"network-request-failed"))},jD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Fp=null,e})}(t),Fp}(t),n=pt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:Rse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xse,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=$r(t,"network-request-failed"),u=pt().setTimeout(()=>{s(a)},Sse.get());function c(){pt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),Cb.apply(this,arguments)}const Pse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class x2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $se="__/auth/handler",jse="emulator/auth/handler",Hse=encodeURIComponent("fac");function N2(t,e,n,r,i,o){return bb.apply(this,arguments)}function bb(){return(bb=g(function*(t,e,n,r,i,o){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:i};if(e instanceof uo){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function qJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof ooe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Hse}=${encodeURIComponent(u)}`:"";return`${function Gse({config:t}){return t.emulator?TD(t,jse):`https://${t.authDomain}/${$se}`}(t)}?${op(a).slice(1)}${c}`})).apply(this,arguments)}const Tb="webStorageSupport",qse=class zse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y2,this._completeRedirectFn=b2,this._overrideRedirectResult=hse}_openPopup(e,n,r,i){var o=this;return g(function*(){var s;oo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield N2(e,n,r,fl(),i);return function Use(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Pse),{width:r.toString(),height:i.toString(),top:o,left:s}),c=At().toLowerCase();n&&(a=GV(c)?"_blank":n),HV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Nie(t=At()){var e;return Tp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Bse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new x2(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new x2(d)}(e,a,WC())})()}_openRedirect(e,n,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Poe(t){pt().location.href=t}(yield N2(e,n,r,fl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(oo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function kse(t){return Cb.apply(this,arguments)}(e),i=new yse(e);return r.register("authEvent",o=>(A(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tb,{type:Tb},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[Tb];void 0!==s&&n(!!s),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Ese(t){return Db.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QV()||UD()||Tp()}};var P2="@firebase/auth";class Wse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xse=jF("authIdTokenMaxAge")||300;let F2=null;const Jse=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Xse)return;const o=r?.token;F2!==o&&(F2=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function L2(t=Yw()){const e=ja(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function $ie(t,e){const n=ja(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ip(n.getOptions(),e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:qse,persistence:[Hoe,xoe,y2]}),r=jF("authTokenSyncURL");if(r){const o=Jse(r);(function Ioe(t,e,n){gn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function woe(t,e,n,r){gn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=BF("auth");return i&&function Hie(t,e,n){const r=xt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=i2(e),{host:s,port:a}=function Gie(t){const e=i2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:o2(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:o2(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function zie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Qse(t){mn(new tn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YV(t)},c=new Bie(r,i,o,u);return function jie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new tn("auth-internal",e=>{const n=xt(e.getProvider("auth").getImmediate());return new Wse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(P2,"0.23.2",function Kse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ze(P2,"0.23.2","esm2017")}("Browser");class bi{constructor(e){return e}}class U2{constructor(){return JE("auth")}}const Ab=new L("angularfire2.auth-instances");function eae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bi(r)}}const tae={provide:U2,deps:[[new dn,Ab]]},nae={provide:bi,useFactory:function Zse(t,e){const n=XE("auth",t,e);return n&&new bi(n)},deps:[[new dn,Ab],qa]};let rae=(()=>{class t{constructor(){Ze("angularfire",pp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({providers:[nae,tae]}),t})();function iae(t,...e){return{ngModule:rae,providers:[{provide:Ab,useFactory:eae(t),multi:!0,deps:[Se,Bn,ZE,eD,[new dn,ED],...e]}]}}const oae=io(L2,!0),sae=io(hoe,!0),aae=io(Eoe,!0);let uae=(()=>{class t{constructor(n=O(bi)){this.auth=n,this.isAuthenticated=!1,this.isAuthenticated=!!n.currentUser}}return t.\u0275fac=function(n){return new(n||t)($(bi))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tl=(()=>{class t{constructor(){this.modals=[]}register(n){this.modals.push({id:n,visible:!1})}unregister(n){this.modals=this.modals.filter(r=>r.id!==n)}toggleModal(n){const r=this.modals.find(i=>i.id===n);r&&(r.visible=!r.visible)}isModalOpen(n){return!!this.modals.find(r=>r.id===n)?.visible}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cae=(()=>{class t{constructor(n){this.modal=n}openModal(){this.modal.toggleModal("auth")}}return t.\u0275fac=function(n){return new(n||t)(D(Tl))},t.\u0275cmp=ti({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"fixed","inset-0","flex","flex-col","justify-center","items-center"],[1,"text-2xl","font-bold","m-1"],[1,"bg-blue-500","rounded-lg","text-white","text-sm","w-20","h-6","hover:bg-blue-600",3,"click"]],template:function(n,r){1&n&&(j(0,"div",0)(1,"h1",1),pe(2,"FFC NUTRITION INC."),H(),j(3,"button",2),Ue("click",function(){return r.openModal()}),pe(4," SIGN IN "),H()())}}),t})();const lae=[[["","heading",""]],"*"],dae=function(t){return{hidden:t}},hae=["[heading]","*"];let B2=(()=>{class t{constructor(n){this.modal=n,this.modalID=""}closeModal(){this.modal.toggleModal(this.modalID)}}return t.\u0275fac=function(n){return new(n||t)(D(Tl))},t.\u0275cmp=ti({type:t,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:hae,decls:7,vars:3,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-gray-700","bg-opacity-50",3,"ngClass"],[1,"bg-white","rounded-lg","p-4","max-h-96","w-fit","min-w-fit","overflow-auto"],[1,"flex","justify-between","items-center","pb-4"],[1,"cursor-pointer","z-50","ml-4",3,"click"]],template:function(n,r){1&n&&(function BN(t){const e=E()[lt][Yt];if(!e.projection){const r=e.projection=Ju(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?R6(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(lae),j(0,"div",0)(1,"div",1)(2,"div",2),m_(3),j(4,"div",3),Ue("click",function(){return r.closeModal()}),pe(5,"\u2715 "),H()(),m_(6,1),H()()),2&n&&Ve("ngClass",function fR(t,e,n,r){return pR(E(),cn(),t,e,n,r)}(1,dae,!r.modal.isModalOpen(r.modalID)))},dependencies:[Yk]}),t})();function fae(t,e){1&t&&(j(0,"p",3),pe(1," Field is required. "),H())}function pae(t,e){1&t&&(j(0,"p",3),pe(1,"Invalid email."),H())}function gae(t,e){if(1&t&&(va(0),ur(1,fae,2,0,"p",2),ur(2,pae,2,0,"p",2),wa()),2&t){const n=cr();Me(1),Ve("ngIf",null==n.control.errors?null:n.control.errors.required),Me(1),Ve("ngIf",null==n.control.errors?null:n.control.errors.email)}}let $2=(()=>{class t{constructor(){this.control=new jn,this.type="text",this.placeholder=""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ti({type:t,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder"},decls:2,vars:4,consts:[[1,"border","py-2","px-3","bg-transparent","block","rounded","w-full",3,"formControl","type","placeholder"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(n,r){1&n&&(Ye(0,"input",0),ur(1,gae,3,2,"ng-container",1)),2&n&&(Ve("formControl",r.control)("type",r.type)("placeholder",r.placeholder),Me(1),Ve("ngIf",r.control.touched&&r.control.dirty))},dependencies:[_f,Fc,zv,nw]}),t})(),mae=(()=>{class t{constructor(n,r=O(bi)){this.modal=n,this.auth=r,this.email=new jn("",[$v.required,$v.email]),this.password=new jn("",[$v.required]),this.loginForm=new Na({email:this.email,password:this.password}),this.inSubmission=!1}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}login(){var n=this;return g(function*(){n.inSubmission=!0;try{const r=n.loginForm.value.email??"",i=n.loginForm.value.password??"";yield sae(n.auth,r,i),location.reload()}catch(r){return n.inSubmission=!1,void console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)(D(Tl),D(bi))},t.\u0275cmp=ti({type:t,selectors:[["app-auth-modal"]],decls:11,vars:4,consts:[["modalID","auth"],["heading","",1,"text-xl","font-bold"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["type","email","placeholder","Email",1,"w-64",3,"control"],["type","password","placeholder","Password",1,"w-64",3,"control"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"]],template:function(n,r){1&n&&(j(0,"app-modal",0)(1,"p",1),pe(2,"Sign In"),H(),j(3,"div",2)(4,"form",3),Ue("ngSubmit",function(){return r.login()}),j(5,"div",4),Ye(6,"app-input",5),H(),j(7,"div",4),Ye(8,"app-input",6),H(),j(9,"button",7),pe(10," Submit "),H()()()()),2&n&&(Me(4),Ve("formGroup",r.loginForm),Me(2),Ve("control",r.email),Me(2),Ve("control",r.password),Me(1),Ve("disabled",r.loginForm.invalid||r.inSubmission))},dependencies:[B2,$2,kf,Cf,jc]}),t})();var k,yae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={},Mb=Mb||{},te=yae||self;function Vp(){}function Up(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Sl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xb="closure_uid_"+(1e9*Math.random()>>>0),vae=0;function wae(t,e,n){return t.call.apply(t.bind,arguments)}function Iae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wae:Iae).apply(null,arguments)}function Bp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function co(){this.s=this.s,this.o=this.o}co.prototype.s=!1,co.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function _ae(t){Object.prototype.hasOwnProperty.call(t,xb)&&t[xb]||(t[xb]=++vae)}(this)},co.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function H2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Up(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Dae=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Vp,e),te.removeEventListener("test",Vp,e)}catch{}return t}();function $p(t){return/^[\s\xa0]*$/.test(t)}var G2=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Rb(t,e){return t<e?-1:t>e?1:0}function jp(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Hr(t){return-1!=jp().indexOf(t)}function kb(t){return kb[" "](t),t}function z2(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}kb[" "]=Vp;var Hp,t,Cae=Hr("Opera"),Xa=Hr("Trident")||Hr("MSIE"),q2=Hr("Edge"),Pb=q2||Xa,W2=Hr("Gecko")&&!(-1!=jp().toLowerCase().indexOf("webkit")&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),bae=-1!=jp().toLowerCase().indexOf("webkit")&&!Hr("Edge");function K2(){var t=te.document;return t?t.documentMode:void 0}e:{var Ob="",Fb=(t=jp(),W2?/rv:([^\);]+)(\)|;)/.exec(t):q2?/Edge\/([\d\.]+)/.exec(t):Xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bae?/WebKit\/(\S+)/.exec(t):Cae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Fb&&(Ob=Fb?Fb[1]:""),Xa){var Lb=K2();if(null!=Lb&&Lb>parseFloat(Ob)){Hp=String(Lb);break e}}Hp=Ob}var Tae={},Aae=te.document&&Xa&&(K2()||parseInt(Hp,10))||void 0;function Al(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W2){e:{try{kb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Mae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Al.$.h.call(this)}}Nt(Al,rn);var Mae={2:"touch",3:"pen",4:"mouse"};Al.prototype.h=function(){Al.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ml="closure_listenable_"+(1e6*Math.random()|0),xae=0;function Nae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xae,this.fa=this.ia=!1}function Gp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ub(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Y2(t){const e={};for(const n in t)e[n]=t[n];return e}const X2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<X2.length;o++)n=X2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zp(t){this.src=t,this.g={},this.h=0}function Bb(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=j2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Gp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $b(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}zp.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=$b(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Nae(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var jb="closure_lm_"+(1e6*Math.random()|0),Hb={};function Z2(t,e,n,r,i){if(r&&r.once)return tU(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Z2(t,e[o],n,r,i);return null}return n=Wb(n),t&&t[Ml]?t.O(e,n,Sl(r)?!!r.capture:!!r,i):eU(t,e,n,!1,r,i)}function eU(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Sl(i)?!!i.capture:!!i,a=zb(t);if(a||(t[jb]=a=new zp(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Rae(){const e=kae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Dae||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function tU(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tU(t,e[o],n,r,i);return null}return n=Wb(n),t&&t[Ml]?t.P(e,n,Sl(r)?!!r.capture:!!r,i):eU(t,e,n,!0,r,i)}function nU(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nU(t,e[o],n,r,i);else r=Sl(r)?!!r.capture:!!r,n=Wb(n),t&&t[Ml]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=$b(o=t.g[e],n,r,i))&&(Gp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=zb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$b(e,n,r,i)),(n=-1<t?e[t]:null)&&Gb(n))}function Gb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ml])Bb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zb(e))?(Bb(n,t),0==n.h&&(n.src=null,e[jb]=null)):Gp(t)}}}function rU(t){return t in Hb?Hb[t]:Hb[t]="on"+t}function kae(t,e){if(t.fa)t=!0;else{e=new Al(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Gb(t),t=n.call(r,e)}return t}function zb(t){return(t=t[jb])instanceof zp?t:null}var qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wb(t){return"function"==typeof t?t:(t[qb]||(t[qb]=function(e){return t.handleEvent(e)}),t[qb])}function Rt(){co.call(this),this.i=new zp(this),this.S=this,this.J=null}function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;J2(e=new rn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=qp(s,r,!0,e)&&i}if(i=qp(s=e.g=t,r,!0,e)&&i,i=qp(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qp(s=e.g=n[o],r,!1,e)&&i}function qp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&Bb(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nt(Rt,co),Rt.prototype[Ml]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){nU(this,t,e,n,r)},Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gp(n[r]);delete t.g[e],t.h--}}this.J=null},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Kb=te.JSON.stringify;function Pae(){var t=sU;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Qb,iU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Fae,t=>t.reset());class Fae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Lae(t){te.setTimeout(()=>{throw t},0)}function oU(t,e){Qb||function Vae(){var t=te.Promise.resolve(void 0);Qb=function(){t.then(Uae)}}(),Yb||(Qb(),Yb=!0),sU.add(t,e)}var Yb=!1,sU=new class Oae{constructor(){this.h=this.g=null}add(e,n){const r=iU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Uae(){for(var t;t=Pae();){try{t.h.call(t.g)}catch(n){Lae(n)}var e=iU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yb=!1}function Wp(t,e){Rt.call(this),this.h=t||1,this.g=e||te,this.j=nn(this.qb,this),this.l=Date.now()}function Xb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Jb(t,e,n){if("function"==typeof t)n&&(t=nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function aU(t){t.g=Jb(()=>{t.g=null,t.i&&(t.i=!1,aU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nt(Wp,Rt),(k=Wp.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(Xb(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){Wp.$.N.call(this),Xb(this),delete this.g};class Bae extends co{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aU(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xl(t){co.call(this),this.h=t,this.g={}}Nt(xl,co);var uU=[];function cU(t,e,n,r){Array.isArray(n)||(n&&(uU[0]=n.toString()),n=uU);for(var i=0;i<n.length;i++){var o=Z2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function lU(t){Ub(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gb(e)},t),t.g={}}function Kp(){this.g=!0}function Ja(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Kb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}xl.prototype.N=function(){xl.$.N.call(this),lU(this)},xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kp.prototype.Ea=function(){this.g=!1},Kp.prototype.info=function(){};var ps={},dU=null;function Qp(){return dU=dU||new Rt}function hU(t){rn.call(this,ps.Ta,t)}function Nl(t){const e=Qp();Ht(e,new hU(e))}function fU(t,e){rn.call(this,ps.STAT_EVENT,t),this.stat=e}function _n(t){const e=Qp();Ht(e,new fU(e,t))}function pU(t,e){rn.call(this,ps.Ua,t),this.size=e}function Rl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}ps.Ta="serverreachability",Nt(hU,rn),ps.STAT_EVENT="statevent",Nt(fU,rn),ps.Ua="timingevent",Nt(pU,rn);var Yp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zb(){}function yU(){}Zb.prototype.h=null;var nT,kl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eT(){rn.call(this,"d")}function tT(){rn.call(this,"c")}function Xp(){}function Pl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xl(this),this.P=zae,this.V=new Wp(t=Pb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new _U}function _U(){this.i=null,this.g="",this.h=!1}Nt(eT,rn),Nt(tT,rn),Nt(Xp,Zb),Xp.prototype.g=function(){return new XMLHttpRequest},Xp.prototype.i=function(){return{}},nT=new Xp;var zae=45e3,rT={},Jp={};function iT(t,e,n){t.L=1,t.v=ng(Ti(e)),t.s=n,t.S=!0,vU(t,null)}function vU(t,e){t.G=Date.now(),Ol(t),t.A=Ti(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MU(n.i,"t",r),t.C=0,n=t.l.I,t.h=new _U,t.g=ZU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Bae(nn(t.Pa,t,t.g),t.O)),cU(t.U,t.g,"readystatechange",t.nb),e=t.I?Y2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nl(),function $ae(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function wU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function IU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=qae(t,n),i==Jp){4==e&&(t.o=4,_n(14),r=!1),Ja(t.j,t.m,null,"[Incomplete Response]");break}if(i==rT){t.o=4,_n(15),Ja(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ja(t.j,t.m,i,null),oT(t,i)}wU(t)&&i!=Jp&&i!=rT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,(e=t.l).g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fT(e),e.L=!0,_n(11))):(Ja(t.j,t.m,n,"[Invalid Chunked Response]"),gs(t),Fl(t))}function qae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Jp:(n=Number(e.substring(n,r)),isNaN(n)?rT:(r+=1)+n>e.length?Jp:(e=e.substr(r,n),t.C=r+n,e))}function Ol(t){t.Y=Date.now()+t.P,EU(t,t.P)}function EU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Rl(nn(t.lb,t),e)}function Zp(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Fl(t){0==t.l.H||t.J||QU(t.l,t)}function gs(t){Zp(t);var e=t.M;e&&"function"==typeof e.ra&&e.ra(),t.M=null,Xb(t.V),lU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function oT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||sT(n.h,t)))if(!t.K&&sT(n.h,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ug(n),sg(n)}hT(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Rl(nn(n.ib,n),6e3));if(1>=RU(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ys(n,11)}else if((t.K||n.g==t)&&ug(n),!$p(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const l=c[3];null!=l&&(n.qa=l,n.j.info("VER="+n.qa));const d=c[4];null!=d&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(aT(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.G,r.F,m))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=JU(r,r.I?r.oa:null,r.Y),s.K){kU(r.h,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(Zp(a),Ol(a)),r.g=s}else WU(r);0<n.i.length&&ag(n)}else"stop"!=c[0]&&"close"!=c[0]||ys(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ys(n,7):dT(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}Nl()}catch{}}function DU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Up(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Kae(t){if(t.sa&&"function"==typeof t.sa)return t.sa();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Up(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Wae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Up(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(k=Pl.prototype).setTimeout=function(t){this.P=t},k.nb=function(t){t=t.target;const e=this.M;e&&3==Si(t)?e.l():this.Pa(t)},k.Pa=function(t){try{if(t==this.g)e:{const l=Si(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Pb||this.g&&(this.h.h||this.g.ja()||$U(this.g)))){this.J||4!=l||7==e||Nl(),Zp(this);var n=this.g.da();this.aa=n;t:if(wU(this)){var r=$U(this.g);t="";var i=r.length,o=4==Si(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Fl(this);var s="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function jae(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$p(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),gs(this),Fl(this);break e}Ja(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oT(this,n)}this.S?(IU(this,l,s),Pb&&this.i&&3==l&&(cU(this.U,this.V,"tick",this.mb),this.V.start())):(Ja(this.j,this.m,s,null),oT(this,s)),4==l&&gs(this),this.i&&!this.J&&(4==l?QU(this.l,this):(this.i=!1,Ol(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),gs(this),Fl(this)}}}catch{}},k.mb=function(){if(this.g){var t=Si(this.g),e=this.g.ja();this.C<e.length&&(Zp(this),IU(this,t,e),this.i&&4!=t&&Ol(this))}},k.cancel=function(){this.J=!0,gs(this)},k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Hae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Nl(),_n(17)),gs(this),this.o=2,Fl(this)):EU(this,this.Y-t)};var CU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ms(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ms){this.h=void 0!==e?e:t.h,eg(this,t.j),this.s=t.s,this.g=t.g,tg(this,t.m),this.l=t.l,e=t.i;var n=new Ul;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bU(this,n),this.o=t.o}else t&&(n=String(t).match(CU))?(this.h=!!e,eg(this,n[1]||"",!0),this.s=Ll(n[2]||""),this.g=Ll(n[3]||"",!0),tg(this,n[4]),this.l=Ll(n[5]||"",!0),bU(this,n[6]||"",!0),this.o=Ll(n[7]||"")):(this.h=!!e,this.i=new Ul(null,this.h))}function Ti(t){return new ms(t)}function eg(t,e,n){t.j=n?Ll(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bU(t,e,n){e instanceof Ul?(t.i=e,function tue(t,e){e&&!t.j&&(lo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SU(this,r),MU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Vl(e,Zae)),t.i=new Ul(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function ng(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ll(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Yae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Yae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vl(e,TU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Vl(e,TU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vl(n,"/"==n.charAt(0)?Jae:Xae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vl(n,eue)),t.join("")};var TU=/[#\/\?@]/g,Xae=/[#\?:]/g,Jae=/[#\?]/g,Zae=/[#\?@]/g,eue=/#/g;function Ul(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Qae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function SU(t,e){lo(t),e=Za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function AU(t,e){return lo(t),e=Za(t,e),t.g.has(e)}function MU(t,e,n){SU(t,e),0<n.length&&(t.i=null,t.g.set(Za(t,e),Nb(n)),t.h+=n.length)}function Za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xU(t){this.l=t||rue,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Ul.prototype).add=function(t,e){lo(this),this.i=null,t=Za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){lo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},k.sa=function(){lo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},k.Z=function(t){lo(this);let e=[];if("string"==typeof t)AU(this,t)&&(e=e.concat(this.g.get(Za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},k.set=function(t,e){return lo(this),this.i=null,AU(this,t=Za(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var rue=10;function NU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function RU(t){return t.h?1:t.g?t.g.size:0}function sT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function aT(t,e){t.g?t.g.add(e):t.h=e}function kU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function PU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Nb(t.i)}function uT(){}function iue(){this.g=new uT}function oue(t,e,n){const r=n||"";try{DU(t,function(i,o){let s=i;Sl(i)&&(s=Kb(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bl(t){this.l=t.fc||null,this.j=t.ob||!1}function ig(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xU.prototype.cancel=function(){if(this.i=PU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},uT.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)},uT.prototype.parse=function(t){return te.JSON.parse(t,void 0)},Nt(Bl,Zb),Bl.prototype.g=function(){return new ig(this.l,this.j)},Bl.prototype.i=function(t){return function(){return t}}({}),Nt(ig,Rt);var cT=0;function OU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function $l(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jl(t)}function jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=ig.prototype).open=function(t,e){if(this.readyState!=cT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jl(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$l(this)),this.readyState=cT},k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$l(this):jl(this),3==this.readyState&&OU(this)}},k.Za=function(t){this.g&&(this.response=this.responseText=t,$l(this))},k.Ya=function(t){this.g&&(this.response=t,$l(this))},k.ka=function(){this.g&&$l(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var aue=te.JSON.parse;function nt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FU,this.L=this.M=!1}Nt(nt,Rt);var FU="",uue=/^https?$/i,cue=["POST","PUT"];function LU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VU(t),og(t)}function VU(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}function UU(t){if(t.h&&typeof Mb<"u"&&(!t.C[1]||4!=Si(t)||2!=t.da()))if(t.v&&4==Si(t))Jb(t.La,0,t);else if(Ht(t,"readystatechange"),4==Si(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(CU)[1]||null;if(!i&&te.self&&te.self.location){var o=te.self.location.protocol;i=o.substr(0,o.length-1)}r=!uue.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var s=2<Si(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",VU(t)}}finally{og(t)}}}function og(t,e){if(t.g){BU(t);const n=t.g,r=t.C[0]?Vp:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function BU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Si(t){return t.g?t.g.readyState:0}function $U(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jU(t){let e="";return Ub(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function lT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Hl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HU(t){this.Ga=0,this.i=[],this.j=new Kp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hl("baseRetryDelayMs",5e3,t),this.hb=Hl("retryDelaySeedMs",1e4,t),this.eb=Hl("forwardChannelMaxRetries",2,t),this.xa=Hl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new xU(t&&t.concurrentRequestLimit),this.Ja=new iue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function dT(t){if(GU(t),3==t.H){var e=t.W++,n=Ti(t.G);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),Gl(t,n),(e=new Pl(t,t.j,e,void 0)).L=2,e.v=ng(Ti(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=ZU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ol(e)}XU(t)}function sg(t){t.g&&(fT(t),t.g.cancel(),t.g=null)}function GU(t){sg(t),t.u&&(te.clearTimeout(t.u),t.u=null),ug(t),t.h.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function ag(t){NU(t.h)||t.m||(t.m=!0,oU(t.Na,t),t.C=0)}function zU(t,e){var n;n=e?e.m:t.W++;const r=Ti(t.G);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.V),Gl(t,r),t.o&&t.s&&lT(r,t.o,t.s),n=new Pl(t,t.j,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=qU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),aT(t.h,n),iT(n,r,e)}function Gl(t,e){t.ma&&Ub(t.ma,function(n,r){$e(e,r,n)}),t.l&&DU({},function(n,r){$e(e,r,n)})}function qU(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nn(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{oue(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function WU(t){t.g||t.u||(t.ba=1,oU(t.Ma,t),t.A=0)}function hT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Rl(nn(t.Ma,t),YU(t,t.A)),t.A++,0))}function fT(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function KU(t){t.g=new Pl(t,t.j,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ti(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.M?"0":"1"),$e(e,"AID",t.V),$e(e,"TYPE","xmlhttp"),Gl(t,e),t.o&&t.s&&lT(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=ng(Ti(e)),n.s=null,n.S=!0,vU(n,t)}function ug(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function QU(t,e){var n=null;if(t.g==e){ug(t),fT(t),t.g=null;var r=2}else{if(!sT(t.h,e))return;n=e.F,kU(t.h,e),r=1}if(0!=t.H)if(t.ta=e.aa,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ht(r=Qp(),new pU(r,n)),ag(t)}else WU(t);else if(3==(i=e.o)||0==i&&0<t.ta||!(1==r&&function due(t,e){return!(RU(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.F.concat(t.i),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Rl(nn(t.Na,t,e),YU(t,t.C)),t.C++,0)))}(t,e)||2==r&&hT(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ys(t,5);break;case 4:ys(t,10);break;case 3:ys(t,6);break;default:ys(t,2)}}function YU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ys(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=nn(t.pb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||eg(n,"https"),ng(n)),function sue(t,e){const n=new Kp;if(te.Image){const r=new Image;r.onload=Bp(rg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bp(rg,n,r,"TestLoadImage: error",!1,e),r.onabort=Bp(rg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bp(rg,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.l&&t.l.za(e),XU(t),GU(t)}function XU(t){if(t.H=0,t.pa=[],t.l){const e=PU(t.h);(0!=e.length||0!=t.i.length)&&(H2(t.pa,e),H2(t.pa,t.i),t.h.i.length=0,Nb(t.i),t.i.length=0),t.l.ya()}}function JU(t,e,n){var r=n instanceof ms?Ti(n):new ms(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),tg(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ms(null,void 0);r&&eg(o,r),e&&(o.g=e),i&&tg(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.qa),Gl(t,r),r}function ZU(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(n&&t.Ha&&!t.va?new Bl({ob:!0}):t.va)).Oa(t.I),e}function eB(){}function cg(){if(Xa&&!(10<=Number(Aae)))throw Error("Environmental error: no available transport.")}function Gn(t,e){Rt.call(this),this.g=new HU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$p(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$p(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new eu(this)}function tB(t){eT.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function nB(){tT.call(this),this.status=1}function eu(t){this.g=t}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(k=nt.prototype).Oa=function(t){this.M=t},k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nT.g(),this.C=function mU(t){return t.h||(t.h=t.i())}(this.u?this.u:nT),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void LU(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=j2(cue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{BU(this),0<this.B&&((this.L=function lue(t){return Xa&&function Sae(){return z2(Tae,9,function(){let t=0;const e=G2(String(Hp)).split("."),n=G2("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=Rb(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Rb(0==i[2].length,0==o[2].length)||Rb(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=Jb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){LU(this,o)}},k.ua=function(){typeof Mb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),og(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),og(this,!0)),nt.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?UU(this):this.kb())},k.kb=function(){UU(this)},k.da=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),aue(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=HU.prototype).qa=8,k.H=1,k.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pl(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=Y2(o),J2(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qU(this,i,e),$e(n=Ti(this.G),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Gl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(jU(o)))+"&"+e:this.o&&lT(n,this.o,o)),aT(this.h,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.ba=!0,iT(i,n,null)):iT(i,n,e),this.H=2}}else 3==this.H&&(t?zU(this,t):0==this.i.length||NU(this.h)||zU(this))},k.Ma=function(){if(this.u=null,KU(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Rl(nn(this.jb,this),t)}},k.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,_n(10),sg(this),KU(this))},k.ib=function(){null!=this.v&&(this.v=null,sg(this),hT(this),_n(19))},k.pb=function(t){t?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))},(k=eB.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.Va=function(){},cg.prototype.g=function(t,e){return new Gn(t,e)},Nt(Gn,Rt),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=JU(t,null,t.Y),ag(t)},Gn.prototype.close=function(){dT(this.g)},Gn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Kb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.fb++,t)),3==e.H&&ag(e)},Gn.prototype.N=function(){this.g.l=null,delete this.j,dT(this.g),delete this.g,Gn.$.N.call(this)},Nt(tB,eT),Nt(nB,tT),Nt(eu,eB),eu.prototype.Ba=function(){Ht(this.g,"a")},eu.prototype.Aa=function(t){Ht(this.g,new tB(t))},eu.prototype.za=function(t){Ht(this.g,new nB)},eu.prototype.ya=function(){Ht(this.g,"b")},Nt(vr,function hue(){this.blockSize=-1}),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)pT(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){pT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){pT(this,r),i=0;break}}this.h=i,this.i+=e},vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var fue={};function gT(t){return-128<=t&&128>t?z2(fue,t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Gr(t){if(isNaN(t)||!isFinite(t))return tu;if(0>t)return Gt(Gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mT;return new Ce(e,0)}var mT=4294967296,tu=gT(0),yT=gT(1),iB=gT(16777216);function Ai(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function rr(t){return-1==t.h}function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(yT)}function lg(t,e){return t.add(Gt(e))}function dg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zl(t,e){this.g=t,this.h=e}function hg(t,e){if(Ai(e))throw Error("division by zero");if(Ai(t))return new zl(tu,tu);if(rr(t))return e=hg(Gt(t),e),new zl(Gt(e.g),Gt(e.h));if(rr(e))return e=hg(t,Gt(e)),new zl(Gt(e.g),e.h);if(30<t.g.length){if(rr(t)||rr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=yT,r=e;0>=r.X(t);)n=oB(n),r=oB(r);var i=nu(n,1),o=nu(r,1);for(r=nu(r,2),n=nu(n,2);!Ai(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=nu(r,1),n=nu(n,1)}return e=lg(t,i.R(e)),new zl(i,e)}for(i=tu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Gr(n)).R(e);rr(s)||0<s.X(t);)s=(o=Gr(n-=r)).R(e);Ai(o)&&(o=yT),i=i.add(o),t=lg(t,s)}return new zl(i,t)}function oB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function nu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ce(i,t.h)}(k=Ce.prototype).ea=function(){if(rr(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mT+r)*e,e*=mT}return t},k.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ai(this))return"0";if(rr(this))return"-"+Gt(this).toString(t);for(var e=Gr(Math.pow(t,6)),n=this,r="";;){var i=hg(n,e).g,o=((0<(n=lg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ai(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},k.X=function(t){return rr(t=lg(this,t))?-1:Ai(t)?0:1},k.abs=function(){return rr(this)?Gt(this):this},k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},k.R=function(t){if(Ai(this)||Ai(t))return tu;if(rr(this))return rr(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(rr(t))return Gt(this.R(Gt(t)));if(0>this.X(iB)&&0>t.X(iB))return Gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,dg(n,2*r+2*i),n[2*r+2*i+1]+=o*u,dg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,dg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,dg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},k.gb=function(t){return hg(this,t).h},k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},cg.prototype.createWebChannel=cg.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Yp.NO_ERROR=0,Yp.TIMEOUT=8,Yp.HTTP_ERROR=6,gU.COMPLETE="complete",yU.EventType=kl,kl.OPEN="a",kl.CLOSE="b",kl.ERROR="c",kl.MESSAGE="d",Rt.prototype.listen=Rt.prototype.O,nt.prototype.listenOnce=nt.prototype.P,nt.prototype.getLastError=nt.prototype.Sa,nt.prototype.getLastErrorCode=nt.prototype.Ia,nt.prototype.getStatus=nt.prototype.da,nt.prototype.getResponseJson=nt.prototype.Wa,nt.prototype.getResponseText=nt.prototype.ja,nt.prototype.send=nt.prototype.ha,nt.prototype.setWithCredentials=nt.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Gr,Ce.fromString=function rB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Gt(rB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gr(Math.pow(e,8)),r=tu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Gr(Math.pow(e,o)),r=r.R(o).add(Gr(s))):r=(r=r.R(n)).add(Gr(s))}return r};var pue=_r.createWebChannelTransport=function(){return new cg},gue=_r.getStatEventTarget=function(){return Qp()},_T=_r.ErrorCode=Yp,mue=_r.EventType=gU,yue=_r.Event=ps,sB=_r.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_ue=_r.FetchXmlHttpFactory=Bl,fg=_r.WebChannel=yU,vue=_r.XhrIo=nt,wue=_r.Md5=vr,ru=_r.Integer=Ce;const aB="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let iu="9.22.0";const ho=new $a("@firebase/firestore");function vT(){return ho.logLevel}function S(t,...e){if(ho.logLevel<=Y.DEBUG){const n=e.map(wT);ho.debug(`Firestore (${iu}): ${t}`,...n)}}function st(t,...e){if(ho.logLevel<=Y.ERROR){const n=e.map(wT);ho.error(`Firestore (${iu}): ${t}`,...n)}}function wr(t,...e){if(ho.logLevel<=Y.WARN){const n=e.map(wT);ho.warn(`Firestore (${iu}): ${t}`,...n)}}function wT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function U(t,e){t||F()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class uB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Eue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Due{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new uB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new kt(e)}}class Cue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Cue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new cB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class lB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Sue(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new We(0,0))}static max(){return new B(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ql{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ql.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends ql{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const Aue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends ql{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return Aue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ge.fromString(e))}static fromName(e){return new M(ge.fromString(e).popFirst(5))}static empty(){return new M(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ge(e.slice()))}}function fB(t){return new zn(t.readTime,t.key,-1)}class zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zn(B.min(),M.empty(),-1)}static max(){return new zn(B.max(),M.empty(),-1)}}function ET(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const pB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fo(t){return DT.apply(this,arguments)}function DT(){return DT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==pB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),DT.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function po(t){return"IndexedDbTransactionError"===t.name}let qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ql(t){return null==t}function Yl(t){return 0===t&&1/t==-1/0}function DB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ke{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1,zt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bB(this.data.getIterator())}getIteratorFrom(e){return new bB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class bB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Oe(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class TB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TB("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const ece=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(U(!!t),"string"==typeof t){let e=0;const n=ece.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mi(t){return"string"==typeof t?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function vg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wg(t){const e=t.mapValue.fields.__previous_value__;return vg(e)?wg(e):e}function Xl(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class tce{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}const yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vg(t)?4:xB(t)?9007199254740991:10:F()}function qr(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=mo(r.timestampValue),s=mo(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Mi(t.bytesValue).isEqual(Mi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=rt(r.doubleValue),s=rt(i.doubleValue);return o===s?Yl(o)===Yl(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(DB(o)!==DB(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!qr(o[a],s[a])))return!1;return!0}(t,e);default:return F()}var i}function Jl(t,e){return void 0!==(t.values||[]).find(n=>qr(n,e))}function vo(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=rt(i.integerValue||i.doubleValue),a=rt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return SB(t.timestampValue,e.timestampValue);case 4:return SB(Xl(t),Xl(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Mi(i),a=Mi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=J(s[u],a[u]);if(0!==c)return c}return J(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=J(rt(i.latitude),rt(o.latitude));return 0!==s?s:J(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=vo(s[u],a[u]);if(c)return c}return J(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===yo.mapValue&&o===yo.mapValue)return 0;if(i===yo.mapValue)return 1;if(o===yo.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=vo(s[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function SB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=mo(t),r=mo(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function au(t){return TT(t)}function TT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=mo(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mi(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=TT(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${TT(r.fields[a])}`;return o+"}"}(t.mapValue):F();var e}function ST(t){return!!t&&"integerValue"in t}function Zl(t){return!!t&&"arrayValue"in t}function AB(t){return!!t&&"nullValue"in t}function MB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dg(t){return!!t&&"mapValue"in t}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ed(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ed(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qt(ed(this.value))}}function kB(t){const e=[];return go(t.fields,(n,r)=>{const i=new at([n]);if(Dg(r)){const o=kB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Nn(e)}class Fe{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fe(e,0,B.min(),B.min(),B.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new Fe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Fe(e,2,n,B.min(),B.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,B.min(),B.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wo{constructor(e,n){this.position=e,this.inclusive=n}}function PB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):vo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function OB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ice(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FB{}class de extends FB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new oce(e,n,r):"array-contains"===n?new uce(e,r):"in"===n?new jB(e,r):"not-in"===n?new cce(e,r):"array-contains-any"===n?new lce(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new sce(e,r):new ace(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(vo(n,this.value)):null!==n&&_o(this.value)===_o(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends FB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return cu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function cu(t){return"and"===t.op}function MT(t){return function LB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&cu(t)}function xT(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+au(t.value);if(MT(t))return t.filters.map(e=>xT(e)).join(",");{const e=t.filters.map(n=>xT(n)).join(",");return`${t.op}(${e})`}}function VB(t,e){return t instanceof de?(n=t,(r=e)instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&qr(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&VB(o,r.filters[s]),!0)}(t,e):void F();var n,r}function BB(t){return t instanceof de?`${(e=t).field.canonicalString()} ${e.op} ${au(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(BB).join(" ,")+"}"}(t):"Filter";var e}class oce extends de{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class sce extends de{constructor(e,n){super(e,"in",n),this.keys=$B(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ace extends de{constructor(e,n){super(e,"not-in",n),this.keys=$B(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $B(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class uce extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zl(n)&&Jl(n.arrayValue,this.value)}}class jB extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Jl(this.value.arrayValue,n)}}class cce extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Jl(this.value.arrayValue,n)}}class lce extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}class dce{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function NT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dce(t,e,n,r,i,o,s)}function Es(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ql(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.dt=n}return e.dt}function td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ice(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OB(t.startAt,e.startAt)&&OB(t.endAt,e.endAt)}function Cg(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function lu(t){return new xi(t)}function qB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ds(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Tg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function RT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new uu(n)),e.wt.push(new uu(at.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new uu(at.keyField(),o))}}}return e.wt}function vn(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=NT(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ds(e))n.push(new uu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new wo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new wo(e.startAt.position,e.startAt.inclusive):null;e._t=NT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Sg(t,e,n){return new xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nd(t,e){return td(vn(t),vn(e))&&t.limitType===e.limitType}function WB(t){return`${Es(vn(t))}|lt:${t.limitType}`}function OT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>BB(r)).join(", ")}]`),Ql(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function rd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ds(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=PB(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Ds(n),r)||n.endAt&&!function(i,o,s){const a=PB(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Ds(n),r)));var n,r}function QB(t){return(e,n)=>{let r=!1;for(const i of Ds(t)){const o=hce(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function hce(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?vo(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CB(this.inner)}size(){return this.innerSize}}const fce=new ke(M.comparator);function Rn(){return fce}const YB=new ke(M.comparator);function id(...t){let e=YB;for(const n of t)e=e.insert(n.key,n);return e}function XB(t){let e=YB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return od()}function JB(){return od()}function od(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const pce=new ke(M.comparator),gce=new Oe(M.comparator);function se(...t){let e=gce;for(const n of t)e=e.add(n);return e}const mce=new Oe(J);function ZB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function e$(t){return{integerValue:""+t}}function t$(t,e){return function mB(t){return"number"==typeof t&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?e$(e):ZB(t,e)}class Ag{constructor(){this._=void 0}}function yce(t,e,n){return t instanceof du?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&vg(i)&&(i=wg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Cs?r$(t,e):t instanceof bs?i$(t,e):function(r,i){const o=n$(r,i),s=o$(o)+o$(r.gt);return ST(o)&&ST(r.gt)?e$(s):ZB(r.serializer,s)}(t,e)}function _ce(t,e,n){return t instanceof Cs?r$(t,e):t instanceof bs?i$(t,e):n}function n$(t,e){return t instanceof hu?ST(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class du extends Ag{}class Cs extends Ag{constructor(e){super(),this.elements=e}}function r$(t,e){const n=s$(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class bs extends Ag{constructor(e){super(),this.elements=e}}function i$(t,e){let n=s$(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class hu extends Ag{constructor(e,n){super(),this.serializer=e,this.gt=n}}function o$(t){return rt(t.integerValue||t.doubleValue)}function s$(t){return Zl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class wce{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class xg{}function a$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pu(t.key,je.none()):new fu(t.key,t.data,je.none());{const n=t.data,r=qt.empty();let i=new Oe(at.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ri(t.key,r,new Nn(i.toArray()),je.none())}}function Ice(t,e,n){t instanceof fu?function(r,i,o){const s=r.value.clone(),a=l$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(r,i,o){if(!Mg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=l$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(c$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ad(t,e,n,r){return t instanceof fu?function(i,o,s,a){if(!Mg(i.precondition,o))return s;const u=i.value.clone(),c=d$(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(i,o,s,a){if(!Mg(i.precondition,o))return s;const u=d$(i.fieldTransforms,a,o),c=o.data;return c.setAll(c$(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Mg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Ece(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=n$(r.transform,i||null);null!=o&&(null===n&&(n=qt.empty()),n.set(r.field,o))}return n||null}function u$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ou(n,r,(i,o)=>function vce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Cs&&r instanceof Cs||n instanceof bs&&r instanceof bs?ou(n.elements,r.elements,qr):n instanceof hu&&r instanceof hu?qr(n.gt,r.gt):n instanceof du&&r instanceof du);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class fu extends xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends xg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function l$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_ce(s,a,n[i]))}return r}function d$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,yce(o,s,e))}return r}class pu extends xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LT extends xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ice(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=a$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>u$(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>u$(n,r))}}class UT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=pce;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new UT(e,n,r,i)}}class BT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cce{constructor(e,n){this.count=e,this.unchangedNames=n}}var gt,me;function f$(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case gt.OK:return I.OK;case gt.CANCELLED:return I.CANCELLED;case gt.UNKNOWN:return I.UNKNOWN;case gt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case gt.INTERNAL:return I.INTERNAL;case gt.UNAVAILABLE:return I.UNAVAILABLE;case gt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case gt.NOT_FOUND:return I.NOT_FOUND;case gt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case gt.ABORTED:return I.ABORTED;case gt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case gt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(me=gt||(gt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class $T{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ng}static getOrCreateInstance(){return null===Ng&&(Ng=new $T),Ng}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ng=null;const bce=new ru([4294967295,4294967295],0);function g$(t){const e=function p$(){return new TextEncoder}().encode(t),n=new wue;return n.update(e),new Uint8Array(n.digest())}function m$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ru([n,r],0),new ru([i,o],0)]}class jT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ud(`Invalid padding: ${n}`);if(r<0)throw new ud(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ud(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ud(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ru.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ru.fromNumber(r)));return 1===i.compare(bce)&&(i=new ru([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=g$(e),[r,i]=m$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new jT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=g$(e),[r,i]=m$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cd(B.min(),i,new ke(J),Rn(),se())}}class ld{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ld(r,n,se(),se(),se())}}class Rg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class y${constructor(e,n){this.targetId=e,this.Vt=n}}class _${constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v${constructor(){this.St=0,this.Dt=I$(),this.Ct=Ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new ld(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=I$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Tce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rn(),this.zt=w$(),this.Wt=new ke(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Cg(s))if(0===i){const a=new M(s.path);this.Yt(r,a,Fe.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=$T.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,w;const _={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=C?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=C?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(w=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Mi(o).toUint8Array()}catch(l){if(l instanceof TB)return wr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new jT(u,s,a)}catch(l){return wr(l instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Cg(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Fe.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=se();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new cd(e,n,this.Wt,this.jt,r);return this.jt=Rn(),this.zt=w$(),this.Wt=new ke(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new v$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Oe(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new v$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function w$(){return new ke(M.comparator)}function I$(){return new ke(M.comparator)}const Sce={asc:"ASCENDING",desc:"DESCENDING"},Ace={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mce={and:"AND",or:"OR"};class xce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HT(t,e){return t.useProto3Json||Ql(e)?e:{value:e}}function gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nce(t,e){return gu(t,e.toTimestamp())}function ut(t){return U(!!t),B.fromTimestamp(function(e){const n=mo(e);return new We(n.seconds,n.nanos)}(t))}function GT(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function D$(t){const e=ge.fromString(t);return U(R$(e)),e}function dd(t,e){return GT(t.databaseId,e.path)}function Kr(t,e){const n=D$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(b$(n))}function zT(t,e){return GT(t.databaseId,e)}function hd(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function T$(t,e,n){return{name:dd(t,e),fields:n.value.mapValue.fields}}function A$(t,e){return{documents:[zT(t,e.path)]}}function WT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return N$(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Io((l=c).field),direction:Fce(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=HT(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function M$(t){let e=function C$(t){const e=D$(t);return 4===e.length?ge.emptyPath():b$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=x$(l);return d instanceof be&&MT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new uu(mu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ql(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new wo((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new wo(l.values||[],!l.before)}(n.endAt)),function zB(t,e,n,r,i,o,s,a){return new xi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function x$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=mu(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=mu(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mu(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mu(e.unaryFilter.field);return de.create(o,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?de.create(mu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>x$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Fce(t){return Sce[t]}function Lce(t){return Ace[t]}function Vce(t){return Mce[t]}function Io(t){return{fieldPath:t.canonicalString()}}function mu(t){return at.fromServerFormat(t.fieldPath)}function N$(t){return t instanceof de?function(e){if("=="===e.op){if(MB(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(AB(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(MB(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(AB(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:Lce(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>N$(r));return 1===n.length?n[0]:{compositeFilter:{op:Vce(e.op),filters:n}}}(t):F()}function Uce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ki{constructor(e,n,r,i,o=B.min(),s=B.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k${constructor(e){this.fe=e}}function KT(t){const e=M$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Sg(e,e.limit,"L"):e}class Ms{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Yl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Mi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?xB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ms.Ve=new Ms;class Kce{constructor(){this.rn=new e0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(zn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class e0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(ge.comparator)).toArray()}}new Uint8Array(0);class sn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Ns{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ns(0)}static Mn(){return new Ns(-1)}}class ele{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ad(r.mutation,i,Nn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=id();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rn();const s=od(),a=od();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ri)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),ad(l.mutation,c,l.mutation.getFieldMask(),We.now())):s.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new rle(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=od();let i=new ke((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=JB();l.forEach(h=>{if(!o.has(h)){const f=a$(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function kT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(Wr());let a=-1,u=o;return s.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:XB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=id();return this.indexManager.getCollectionParents(e,i).next(s=>v.forEach(s,a=>{const u=(c=n,l=a.child(i),new xi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Fe.newInvalidDocument(c)))});let s=id();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ad(c.mutation,u,Nn.empty(),We.now()),rd(n,u)&&(s=s.insert(a,u))}),s})}}class ile{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:KT(r.bundledQuery),readTime:ut(r.readTime)}),v.resolve();var r}}class ole{constructor(){this.overlays=new ke(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Wr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Wr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BT(n,r));let o=this.ls.get(n);void 0===o&&(o=se(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class t0{constructor(){this.fs=new Oe(Ot.ds),this.ws=new Oe(Ot._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ot(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ge([])),r=new Ot(n,e),i=new Ot(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ge([])),r=new Ot(n,e),i=new Ot(n,e+1);let o=se();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ot(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||M.comparator(e.key,n.key)}}class sle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Oe(Ot.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new VT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(J);return n.forEach(i=>{const o=new Ot(i,0),s=new Ot(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new Ot(new M(o),0);let a=new Oe(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const o=new Ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ale{constructor(e){this.Ds=e,this.docs=new ke(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fe.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rn();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ET(fB(l),r)<=0||(i.has(l.key)||rd(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ule(this)}getSize(e){return v.resolve(this.size)}}class ule extends ele{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class cle{constructor(e){this.persistence=e,this.xs=new Ni(n=>Es(n),td),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new t0,this.targetCount=0,this.Ms=Ns.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class n0{constructor(e,n){this.$s={},this.overlays={},this.Os=new qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new cle(this),this.indexManager=new Kce,this.remoteDocumentCache=new ale(r=>this.referenceDelegate.Ls(r)),this.serializer=new k$(n),this.qs=new ile(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ole,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new sle(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new lle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class lle extends Nue{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Qs=new t0,this.js=null}static zs(e){return new $g(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class a0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new a0(e,n.fromCache,r,i)}}class aj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(qB(n))return v.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Sg(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,Sg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return qB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(vT()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),OT(n)),this.Wi(e,s,n,function hB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new We(n+1,0):new We(n,r));return new zn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Oe(QB(e));return n.forEach((i,o)=>{rd(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return vT()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",OT(n)),this.Ui.getDocumentsMatchingQuery(e,n,zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class hle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(J),this.Yi=new Ni(o=>Es(o),td),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function cj(t,e){return u0.apply(this,arguments)}function u0(){return u0=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=se();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),u0.apply(this,arguments)}function lj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gle(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wu(t,e,n){return c0.apply(this,arguments)}function c0(){return c0=g(function*(t,e,n){const r=x(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!po(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),c0.apply(this,arguments)}function Gg(t,e,n){const r=x(t);let i=B.min(),o=se();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:B.min(),n?o:se())).next(a=>(function pj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function KB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class p0{constructor(){this.activeTargetIds=function FT(){return mce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.Hr=new p0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new p0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _le{Yr(e){}shutdown(){}}class _j{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wg=null;function m0(){return null===Wg?Wg=268435456+Math.round(2147483648*Math.random()):Wg++,"0x"+Wg.toString(16)}const vle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wle{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const an="WebChannelConnection";class Ile extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=m0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw wr("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${vle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=m0();return new Promise((s,a)=>{const u=new vue;u.setWithCredentials(!0),u.listenOnce(mue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _T.NO_ERROR:const l=u.getResponseJson();S(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case _T.TIMEOUT:S(an,`RPC '${e}' ${o} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case _T.HTTP_ERROR:const d=u.getStatus();if(S(an,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(an,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);S(an,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=m0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pue(),a=gue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new _ue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");S(an,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new wle({ro:y=>{f?S(an,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(an,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,w,_)=>{y.listen(w,C=>{try{_(C)}catch(P){setTimeout(()=>{throw P},0)}})};return m(d,fg.EventType.OPEN,()=>{f||S(an,`RPC '${e}' stream ${i} transport opened.`)}),m(d,fg.EventType.CLOSE,()=>{f||(f=!0,S(an,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,fg.EventType.ERROR,y=>{f||(f=!0,wr(an,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,fg.EventType.MESSAGE,y=>{var w;if(!f){const _=y.data[0];U(!!_);const P=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(P){S(an,`RPC '${e}' stream ${i} received error:`,P);const V=P.status;let ue=function(Oi){const Ou=gt[Oi];if(void 0!==Ou)return f$(Ou)}(V),yt=P.message;void 0===ue&&(ue=I.INTERNAL,yt="Unknown error status: "+V+" with message "+P.message),f=!0,p.wo(new b(ue,yt)),d.close()}else S(an,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,yue.STAT_EVENT,y=>{y.stat===sB.PROXY?S(an,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===sB.NOPROXY&&S(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Kg(){return typeof document<"u"?document:null}function Ed(t){return new xce(t,!0)}class y0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class wj{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new y0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ele extends wj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function kce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Ct.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?I.UNKNOWN:f$(u.code);return new b(c,u.message||"")}(s);n=new _$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Kr(t,r.document.name),o=ut(r.document.updateTime),s=r.document.createTime?ut(r.document.createTime):B.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=Fe.newFoundDocument(i,o,s,a);n=new Rg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Kr(t,r.document),o=r.readTime?ut(r.readTime):B.min(),s=Fe.newNoDocument(i,o);n=new Rg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Kr(t,r.document);n=new Rg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Cce(i,o);n=new y$(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?ut(o.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=hd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Cg(a)?{documents:A$(i,a)}:{query:WT(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=E$(i,o.resumeToken);const u=HT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){s.readTime=gu(i,o.snapshotVersion.toTimestamp());const u=HT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function Oce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=hd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Dle extends wj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Pce(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let o=ut(r.updateTime?r.updateTime:i);return o.isEqual(B.min())&&(o=ut(i)),new wce(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=hd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function fd(t,e){let n;if(e instanceof fu)n={update:T$(t,e.key,e.value)};else if(e instanceof pu)n={delete:dd(t,e.key)};else if(e instanceof Ri)n={update:T$(t,e.key,e.data),updateMask:Uce(e.fieldMask)};else{if(!(e instanceof LT))return F();n={verify:dd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof bs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof hu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Nce(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class Cle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Tle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sle{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;bo(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.vu.add(4),yield Iu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Dd(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new Tle(r,i)}}function Dd(t){return v0.apply(this,arguments)}function v0(){return v0=g(function*(t){if(bo(t))for(const e of t.Ru)yield e(!0)}),v0.apply(this,arguments)}function Iu(t){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t){for(const e of t.Ru)yield e(!1)}),w0.apply(this,arguments)}function Qg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),D0(n)?E0(n):Du(n).Ko()&&I0(n,e))}function Cd(t,e){const n=x(t),r=Du(n);n.Au.delete(e),r.Ko()&&Ij(n,e),0===n.Au.size&&(r.Ko()?r.jo():bo(n)&&n.bu.set("Unknown"))}function I0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).su(e)}function Ij(t,e){t.Vu.qt(e),Du(t).iu(e)}function E0(t){t.Vu=new Tce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.bu.gu()}function D0(t){return bo(t)&&!Du(t).Uo()&&t.Au.size>0}function bo(t){return 0===x(t).vu.size}function Ej(t){t.Vu=void 0}function Ale(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){t.Au.forEach((e,n)=>{I0(t,e)})}),C0.apply(this,arguments)}function Mle(t,e){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t,e){Ej(t),D0(t)?(t.bu.Iu(e),E0(t)):t.bu.set("Unknown")}),b0.apply(this,arguments)}function xle(t,e,n){return T0.apply(this,arguments)}function T0(){return T0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof _$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yg(t,r)}else if(e instanceof Rg?t.Vu.Ht(e):e instanceof y$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield lj(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),Ij(i,a);const l=new ki(c.target,a,u,c.sequenceNumber);I0(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Yg(t,r)}var r}),T0.apply(this,arguments)}function Yg(t,e,n){return S0.apply(this,arguments)}function S0(){return S0=g(function*(t,e,n){if(!po(e))throw e;t.vu.add(1),yield Iu(t),t.bu.set("Offline"),n||(n=()=>lj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Dd(t)}))}),S0.apply(this,arguments)}function Dj(t,e){return e().catch(n=>Yg(t,n,e))}function Eu(t){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t){const e=x(t),n=To(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nle(e);)try{const i=yield gle(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Rle(e,i)}catch(i){yield Yg(e,i)}Cj(e)&&bj(e)}),A0.apply(this,arguments)}function Nle(t){return bo(t)&&t.Eu.length<10}function Rle(t,e){t.Eu.push(e);const n=To(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Cj(t){return bo(t)&&!To(t).Uo()&&t.Eu.length>0}function bj(t){To(t).start()}function kle(t){return M0.apply(this,arguments)}function M0(){return M0=g(function*(t){To(t).hu()}),M0.apply(this,arguments)}function Ple(t){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t){const e=To(t);for(const n of t.Eu)e.uu(n.mutations)}),x0.apply(this,arguments)}function Ole(t,e,n){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t,e,n){const r=t.Eu.shift(),i=UT.from(r,e,n);yield Dj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eu(t)}),N0.apply(this,arguments)}function Fle(t,e){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t,e){var n;e&&To(t).ou&&(yield(n=g(function*(r,i){if(function h$(t){switch(t){default:return F();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(o=i.code)&&o!==I.ABORTED){const s=r.Eu.shift();To(r).Qo(),yield Dj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Eu(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Cj(t)&&bj(t)}),R0.apply(this,arguments)}function Tj(t,e){return k0.apply(this,arguments)}function k0(){return k0=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=bo(n);n.vu.add(3),yield Iu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Dd(n)}),k0.apply(this,arguments)}function O0(){return O0=g(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield Dd(n)):e||(n.vu.add(2),yield Iu(n),n.bu.set("Unknown"))}),O0.apply(this,arguments)}function Du(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Ele(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ale.bind(null,t),ao:Mle.bind(null,t),nu:xle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),D0(t)?E0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Ej(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function To(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Dle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:kle.bind(null,t),ao:Fle.bind(null,t),au:Ple.bind(null,t),cu:Ole.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Eu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class F0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new F0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(t,e){if(st("AsyncQueue",`${e}: ${t}`),po(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Sj{constructor(){this.Cu=new ke(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tu{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Tu(e,n,bu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lle{constructor(){this.Nu=void 0,this.listeners=[]}}class Vle{constructor(){this.queries=new Ni(e=>WB(e),nd),this.onlineState="Unknown",this.ku=new Set}}function V0(){return V0=g(function*(t,e){const n=x(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Lle),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Cu(s,`Initialization of query '${OT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&$0(n)}),V0.apply(this,arguments)}function B0(){return B0=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),B0.apply(this,arguments)}function Ule(t,e){const n=x(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&$0(n)}function Ble(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function $0(t){t.ku.forEach(e=>{e.next()})}class j0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xj{constructor(e){this.key=e}}class Nj{constructor(e){this.key=e}}class Rj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=QB(e),this.ec=new bu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Sj,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=rd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new Tu(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Nj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new xj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Tu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Hle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gle{constructor(e){this.key=e,this.fc=!1}}class zle{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ni(a=>WB(a),nd),this._c=new Map,this.mc=new Set,this.gc=new ke(M.comparator),this.yc=new Map,this.Ic=new t0,this.Tc={},this.Ec=new Map,this.Ac=Ns.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function qle(t,e){return H0.apply(this,arguments)}function H0(){return H0=g(function*(t,e){const n=function hS(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qle.bind(null,e),e.dc.nu=Ule.bind(null,e.eventManager),e.dc.Pc=Ble.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function vu(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new ki(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function G0(t,e,n,r,i){return z0.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Qg(n.remoteStore,s)}return i}),H0.apply(this,arguments)}function z0(){return z0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,w,_){let C=y.view.sc(w);C.zi&&(C=yield Gg(m.localStore,y.query,!1).then(({documents:ue})=>y.view.sc(ue,C)));const P=_&&_.targetChanges.get(y.targetId),V=y.view.applyChanges(C,m.isPrimaryClient,P);return tS(m,y.targetId,V.cc),V.snapshot}),function(m,y,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Gg(t.localStore,e,!0),s=new Rj(e,o.ir),a=s.sc(o.documents),u=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);tS(t,n,c.cc);const l=new Hle(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),z0.apply(this,arguments)}function Wle(t,e){return q0.apply(this,arguments)}function q0(){return q0=g(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!nd(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cd(n.remoteStore,r.targetId),Su(n,r.targetId)}).catch(fo))):(Su(n,r.targetId),yield wu(n.localStore,r.targetId,!0))}),q0.apply(this,arguments)}function W0(){return W0=g(function*(t,e,n){const r=function fS(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xle.bind(null,e),e}(t);try{const i=yield function(o,s){const a=x(o),u=We.now(),c=s.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Rn(),p=se();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const w of s){const _=Ece(w,l.get(w.key).overlayedDocument);null!=_&&y.push(new Ri(w.key,_,kB(_.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:XB(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new ke(J)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Pi(r,i.changes),yield Eu(r.remoteStore)}catch(i){const o=Cu(i,"Failed to persist write");n.reject(o)}}),W0.apply(this,arguments)}function kj(t,e){return K0.apply(this,arguments)}function K0(){return K0=g(function*(t,e){const n=x(t);try{const r=yield function ple(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let u=Rn(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function dj(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?U(s.fc):i.removedDocuments.size>0&&(U(s.fc),s.fc=!1))}),yield Pi(n,r,e)}catch(r){yield fo(r)}}),K0.apply(this,arguments)}function Pj(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=x(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&$0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qle(t,e,n){return Q0.apply(this,arguments)}function Q0(){return Q0=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ke(M.comparator);s=s.insert(o,Fe.newNoDocument(o,B.min()));const a=se().add(o),u=new cd(B.min(),new Map,new ke(J),s,a);yield kj(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),nS(r)}else yield wu(r.localStore,e,!1).then(()=>Su(r,e,n)).catch(fo)}),Q0.apply(this,arguments)}function Yle(t,e){return Y0.apply(this,arguments)}function Y0(){return Y0=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function fle(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=se();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);eS(n,r,null),Z0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Pi(n,i)}catch(i){yield fo(i)}}),Y0.apply(this,arguments)}function Xle(t,e,n){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e,n){const r=x(t);try{const i=yield function(o,s){const a=x(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);eS(r,e,n),Z0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Pi(r,i)}catch(i){yield fo(i)}}),X0.apply(this,arguments)}function Z0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function eS(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Su(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Oj(t,r)})}function Oj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Cd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),nS(t))}function tS(t,e,n){for(const r of n)r instanceof xj?(t.Ic.addReference(r.key,e),Zle(t,r)):r instanceof Nj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Oj(t,r.key)):F()}function Zle(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),nS(t))}function nS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new Gle(n)),t.gc=t.gc.insert(n,r),Qg(t.remoteStore,new ki(vn(lu(n.path)),r,"TargetPurposeLimboResolution",qn.ct))}}function Pi(t,e,n){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t,e,n){const r=x(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=a0.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!po(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),rS.apply(this,arguments)}function ede(t,e){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield cj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pi(n,r.er)}var i}),iS.apply(this,arguments)}function tde(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class Xg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Ed(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function uj(t,e,n,r){return new hle(t,e,n,r)}(this.persistence,new aj,e.initialUser,this.serializer)}createPersistence(e){return new n0($g.zs,this.serializer)}createSharedClientState(e){return new yj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Au{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Pj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ede.bind(null,r.syncEngine),yield function P0(t,e){return O0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vle}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=new Ile(e.databaseInfo);return new Cle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Pj(this.syncEngine,a,0),s=_j.D()?new _j:new _le,new Sle(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new zle(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Iu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class pde{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=lB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Cu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Zg(t,e){return pS.apply(this,arguments)}function pS(){return pS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield cj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),pS.apply(this,arguments)}function gS(t,e){return mS.apply(this,arguments)}function mS(){return mS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function yS(t){return _S.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Tj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Tj(e.remoteStore,o)),t._onlineComponents=e}),mS.apply(this,arguments)}function _S(){return _S=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function $j(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;wr("Error using user provided cache. Falling back to memory cache: "+n),yield Zg(t,new Xg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Zg(t,new Xg);return t._offlineComponents}),_S.apply(this,arguments)}function em(t){return vS.apply(this,arguments)}function vS(){return vS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield gS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield gS(t,new Au))),t._onlineComponents}),vS.apply(this,arguments)}function IS(){return IS=g(function*(t){const e=yield em(t),n=e.eventManager;return n.onListen=qle.bind(null,e.syncEngine),n.onUnlisten=Wle.bind(null,e.syncEngine),n}),IS.apply(this,arguments)}function qj(t,e,n={}){const r=new Dt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,o,s,a,u){const c=new Jg({next:d=>{o.enqueueAndForget(()=>function U0(t,e){return B0.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new j0(s,c,{includeMetadataChanges:!0,Ku:!0});return function L0(t,e){return V0.apply(this,arguments)}(i,l)}(yield function Mu(t){return IS.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}function Wj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Kj=new Map;function ES(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qj(t){if(!M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yj(t){if(M.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Jj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Dde(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Iue;switch(n.type){case"firstParty":return new bue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Kj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Kj.delete(e),n.terminate())}(this),Promise.resolve()}}class ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Qr extends Wt{constructor(e,n,r){super(e,n,lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new M(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function bde(t,e,...n){if(t=gn(t),ES("collection","path",e),t instanceof bd){const r=ge.fromString(e,...n);return Yj(r),new Qr(t,null,r)}{if(!(t instanceof ct||t instanceof Qr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Yj(r),new Qr(t.firestore,null,r)}}class Sde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new y0(this,"async_queue_retry"),this.Xc=()=>{const n=Kg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Kg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Kg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!po(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=F0.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Le extends bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eH(this),this._firestoreClient.terminate()}}function Mde(t,e){const r="string"==typeof t?t:e||"(default)",i=ja("object"==typeof t?t:Yw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=BF("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function Cde(t,e,n,r={}){var i;const o=(t=he(t,bd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=kt.MOCK_USER;else{s=function VJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zf(JSON.stringify({alg:"none",type:"JWT"})),Zf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(u)}t._authCredentials=new Eue(new uB(s,a))}}(i,...o)}return i}function mt(t){return t._firestoreClient||eH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eH(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new tce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Wj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new pde(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(Ct.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rH{constructor(e){this._methodName=e}}class CS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Nde=/^__.*__$/;class Rde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}function oH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class rm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return om(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oH(this.ca)&&Nde.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}ya(e,n,r,i=!1){return new rm({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(t){const e=t._freezeSettings(),n=Ed(t._databaseId);return new kde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);SS("Data must be an object, but it was:",s,r);const a=lH(r,s);let u,c;if(o.merge)u=new Nn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Ad(e,d,n);if(!s.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hH(l,h)||l.push(h)}u=new Nn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Rde(new qt(a),u,c)}function Ps(t,e){if(dH(t=gn(t)))return SS("Unsupported field value:",e,t),lH(t,e);if(t instanceof rH)return function(n,r){if(!oH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Ps(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=gn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return t$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:gu(r.serializer,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gu(r.serializer,i)}}if(n instanceof CS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ks)return{bytesValue:E$(r.serializer,n._byteString)};if(n instanceof ct){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:GT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${nm(n)}`)}(t,e)}function lH(t,e){const n={};return CB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,i)=>{const o=Ps(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function dH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof We||t instanceof CS||t instanceof ks||t instanceof ct||t instanceof rH)}function SS(t,e,n){if(!dH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=nm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Ad(t,e,n){if((e=gn(e))instanceof xu)return e._internalPath;if("string"==typeof e)return im(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lde=new RegExp("[~\\*/\\[\\]]");function im(t,e,n){if(e.search(Lde)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function hH(t,e){return t.some(n=>n.isEqual(e))}class AS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Vde extends AS{data(){return super.data()}}function sm(t,e){return"string"==typeof e?im(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}class Bde{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new CS(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=mo(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);U(R$(r));const i=new ws(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||st(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Os{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends AS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lm extends ku{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lm(this._firestore,this._userDataWriter,r.key,r,new Os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new lm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Os(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new lm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Os(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:jde(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class So extends Bde{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function Hde(t){t=he(t,Wt);const e=he(t.firestore,Le),n=mt(e),r=new So(e);return function fH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),qj(n,t._query).then(i=>new Pu(e,r,t,i))}function Gde(t,e){const n=he(t.firestore,Le),r=function Tde(t,e,...n){if(t=gn(t),1===arguments.length&&(e=lB.A()),ES("doc","path",e),t instanceof bd){const r=ge.fromString(e,...n);return Qj(r),new ct(t,null,new M(r))}{if(!(t instanceof ct||t instanceof Qr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Qj(r),new ct(t.firestore,t instanceof Qr?t.converter:null,new M(r))}}(t),i=function xS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function xd(t,e){return function(n,r){const i=new Dt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Kle(t,e,n){return W0.apply(this,arguments)}(yield function wS(t){return em(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}(n,[bS(Nu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}!function(t,e=!0){iu=is,mn(new tn("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Le(new Due(n.getProvider("auth-internal")),new Tue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Ze(aB,"3.12.0",t),Ze(aB,"3.12.0","esm2017")}();class hm{constructor(e){return e}}const IH="firestore",RS=new L("angularfire2.firestore-instances");function ihe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hm(r)}}const ohe={provide:class nhe{constructor(){return JE(IH)}},deps:[[new dn,RS]]},she={provide:hm,useFactory:function rhe(t,e){const n=XE(IH,t,e);return n&&new hm(n)},deps:[[new dn,RS],qa]};let ahe=(()=>{class t{constructor(){Ze("angularfire",pp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t}),t.\u0275inj=Kt({providers:[she,ohe]}),t})();function uhe(t,...e){return{ngModule:ahe,providers:[{provide:RS,useFactory:ihe(t),multi:!0,deps:[Se,Bn,ZE,eD,[new dn,U2],[new dn,ED],...e]}]}}const che=io(Gde,!0),EH=io(bde,!0),lhe=io(Hde,!0),dhe=io(Mde,!0);let DH=(()=>{class t{constructor(n){this.db=n,this.supplierList=[],this.supplierDocumentList=[]}createSupplier(n){var r=this;return g(function*(){try{yield che(EH(r.db,"suppliers"),{name:n.name,address:n.address,contactNumber:n.contactNumber,contactEmail:n.contactEmail,items:n.items,methodsOfPayment:n.methodsOfPayment}),console.log("Supplier data added.")}catch(i){console.error("Error adding data.",i)}})()}fetchData(){var n=this;return g(function*(){try{(yield lhe(EH(n.db,"suppliers"))).forEach(i=>{n.supplierList.push(i.data()),n.supplierDocumentList.push(i)})}catch(r){console.error(r)}})()}}return t.\u0275fac=function(n){return new(n||t)($(hm))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hhe(t,e){if(1&t){const n=Ia();j(0,"div")(1,"div",16),Ye(2,"input",17),H(),j(3,"div",16),Ye(4,"input",18),H(),j(5,"div",16),Ye(6,"input",19),H(),j(7,"div")(8,"button",20),Ue("click",function(){const o=Bi(n).index;return $i(cr(2).removeItem(o))}),pe(9," Remove Item "),H()()()}if(2&t){const n=e.index;Me(1),Ve("formGroupName",n),Me(2),Ve("formGroupName",n),Me(2),Ve("formGroupName",n)}}function fhe(t,e){if(1&t){const n=Ia();j(0,"div"),Ye(1,"input",21),j(2,"button",20),Ue("click",function(){const o=Bi(n).index;return $i(cr(2).removeMethodOfPayment(o))}),pe(3," Remove Method of Payment "),H()()}if(2&t){const n=e.index;Me(1),Ve("formControlName",n)}}function phe(t,e){if(1&t){const n=Ia();va(0),j(1,"div",3)(2,"form",4),Ue("ngSubmit",function(){return Bi(n),$i(cr().submitAddSupplier())}),j(3,"div",5),Ye(4,"input",6),H(),j(5,"div",5),Ye(6,"input",7),H(),j(7,"div",5),Ye(8,"input",8),H(),j(9,"div",5),Ye(10,"input",9),H(),Ye(11,"hr"),j(12,"h1",10),pe(13,"Items"),H(),j(14,"div",11),ur(15,hhe,10,3,"div",12),H(),j(16,"div")(17,"button",13),Ue("click",function(){return Bi(n),$i(cr().addItem())}),pe(18," Add Item "),H()(),j(19,"h1",10),pe(20,"Methods of Payment"),H(),j(21,"div",14),ur(22,fhe,4,1,"div",12),H(),j(23,"div")(24,"button",13),Ue("click",function(){return Bi(n),$i(cr().addMethodOfPayment())}),pe(25," Add Method of Payment "),H()(),j(26,"button",15),pe(27," Submit "),H()()(),wa()}if(2&t){const n=cr();Me(2),Ve("formGroup",n.supplierForm),Me(13),Ve("ngForOf",n.getItemsControls()),Me(7),Ve("ngForOf",n.getMethodsOfPaymentControls()),Me(4),Ve("disabled",n.supplierForm.invalid)}}function ghe(t,e){if(1&t){const n=Ia();va(0),j(1,"div",22)(2,"div",23)(3,"h1",24),pe(4,"Supplier Name:"),H(),j(5,"p",25),pe(6),H()(),j(7,"div",23)(8,"h1",24),pe(9,"Supplier Address:"),H(),j(10,"p",25),pe(11),H()(),j(12,"div",23)(13,"h1",24),pe(14,"Contact Number:"),H(),j(15,"p",25),pe(16),H()(),j(17,"div",23)(18,"h1",24),pe(19,"Contact Email:"),H(),j(20,"p",25),pe(21),H()(),j(22,"div",23)(23,"h1",24),pe(24,"Methods of Payment:"),H(),j(25,"p",25),pe(26),R_(27,"uppercase"),H()(),j(28,"div",26)(29,"a",27),Ue("click",function(i){return Bi(n),$i(cr().deleteSupplier(i))}),pe(30," Delete Supplier"),H()()(),wa()}if(2&t){const n=cr();Me(6),qi(n.supplierName),Me(5),qi(n.supplierAddress),Me(5),qi(n.supplierNumber),Me(5),qi(n.supplierEmail),Me(5),qi(k_(27,5,n.supplierMOP))}}let mhe=(()=>{class t{constructor(n,r){this.modal=n,this.masterlistService=r,this.supplierModalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber="",this.supplierEmail="",this.supplierMOP="",this.supplierForm=new Na({name:new jn(""),address:new jn(""),contactNumber:new jn(""),contactEmail:new jn(""),items:new aw([]),methodsOfPayment:new aw([])})}ngOnInit(){this.modal.register("supplier"),this.getItemsControls()}ngOnDestroy(){this.modal.unregister("supplier")}getItemsControls(){return this.supplierForm.get("items").controls}getMethodsOfPaymentControls(){return this.supplierForm.get("methodsOfPayment").controls}addItem(){const n=this.supplierForm.get("items"),r=new Na({itemName:new jn(""),pricePerUnit:new jn(""),moq:new jn("")});n.push(r)}addMethodOfPayment(){this.supplierForm.get("methodsOfPayment").push(new jn(""))}removeItem(n){this.supplierForm.get("items").removeAt(n)}removeMethodOfPayment(n){this.supplierForm.get("methodsOfPayment").removeAt(n)}submitAddSupplier(){var n=this;return g(function*(){try{yield n.masterlistService.createSupplier(n.supplierForm.value),console.log(n.supplierForm.value),location.reload()}catch(r){return void console.error(r)}})()}deleteSupplier(n){return g(function*(){n.preventDefault(),console.log("deleteSupplier called")})()}}return t.\u0275fac=function(n){return new(n||t)(D(Tl),D(DH))},t.\u0275cmp=ti({type:t,selectors:[["app-supplier"]],inputs:{supplierModalTitle:"supplierModalTitle",supplierAction:"supplierAction",supplierName:"supplierName",supplierAddress:"supplierAddress",supplierNumber:"supplierNumber",supplierEmail:"supplierEmail",supplierMOP:"supplierMOP"},decls:5,vars:3,consts:[["modalID","supplier"],["heading","",1,"text-xl","font-bold"],[4,"ngIf"],[1,"w-64"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["formControlName","name","type","text","placeholder","Supplier Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","address","type","text","placeholder","Supplier Address",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactNumber","type","text","placeholder","Supplier Number",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","contactEmail","type","text","placeholder","Supplier Email",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],[1,"mb-2"],["formArrayName","items"],[4,"ngFor","ngForOf"],["type","button",1,"rounded-lg","p-0.5","bg-amber-300","hover:bg-amber-400","w-full","mb-2",3,"click"],["formArrayName","methodsOfPayment"],["type","submit",1,"w-full","bg-blue-500","text-white","rounded-lg","p-0.5","hover:bg-blue-600","disabled:opacity-50",3,"disabled"],[1,"mb-2",3,"formGroupName"],["formControlName","itemName","type","text","placeholder","Item Name",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","pricePerUnit","type","text","placeholder","Price per Unit",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["formControlName","moq","type","text","placeholder","MOQ (Minimum Order Quantity)",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full"],["type","button",1,"p-0.5","text-red-500","w-full","mb-2",3,"click"],["type","text","placeholder","Payment Method",1,"border","py-2","px-3","bg-transparent","block","rounded","w-full","mb-2",3,"formControlName"],[1,"flex","flex-col","w-64"],[1,"flex","flex-col","align-middle","justify-between"],[1,"font-bold","pb-1"],[1,"pb-4","font-light"],[1,"flex","justify-center","align-middle"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(j(0,"app-modal",0)(1,"p",1),pe(2),H(),ur(3,phe,28,4,"ng-container",2),ur(4,ghe,31,7,"ng-container",2),H()),2&n&&(Me(2),qi(r.supplierModalTitle),Me(1),Ve("ngIf","isAdd"===r.supplierAction),Me(1),Ve("ngIf","isView"===r.supplierAction))},dependencies:[bv,_f,B2,kf,Fc,zv,Cf,jc,rw,Pf,Of,Av]}),t})();function yhe(t,e){if(1&t){const n=Ia();j(0,"li",16),Ue("click",function(){const o=Bi(n).$implicit;return $i(cr().viewSupplier(o))}),pe(1),R_(2,"uppercase"),H()}if(2&t){const n=e.$implicit;Me(1),Wh(" ",k_(2,1,n.name)," ")}}let _he=(()=>{class t{constructor(n,r=O(bi),i){this.modal=n,this.auth=r,this.masterlistService=i,this.modalTitle="",this.supplierAction="",this.supplierName="",this.supplierAddress="",this.supplierNumber="",this.supplierEmail="",this.supplierMOP=""}ngOnInit(){var n=this;return g(function*(){yield n.masterlistService.fetchData()})()}addSupplier(){this.modalTitle="Add Supplier",this.modal.toggleModal("supplier"),this.supplierAction="isAdd"}viewSupplier(n){this.modalTitle="Supplier Details",this.modal.toggleModal("supplier"),this.supplierAction="isView",this.supplierName=n.name,this.supplierAddress=n.address,this.supplierNumber=n.contactNumber,this.supplierEmail=n.contactEmail,this.supplierMOP=n.methodsOfPayment.join(", "),console.log(this.supplierMOP)}logout(n){var r=this;return g(function*(){n.preventDefault(),yield aae(r.auth),location.reload()})()}}return t.\u0275fac=function(n){return new(n||t)(D(Tl),D(bi),D(DH))},t.\u0275cmp=ti({type:t,selectors:[["app-masterlist"]],decls:30,vars:8,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow"],[1,"font-bold","pb-1","text-center","text-xl"],[1,"flex","justify-center","align-middle"],["type","search","placeholder","Search item or supplier",1,"w-full"],["type","submit",1,"bg-blue-500","hover:bg-blue-600","text-white","w-20"],[1,"flex","justify-around","align-middle","py-2"],[1,"mr-2"],["type","radio"],[1,"mb-2"],[1,"flex","justify-center","align-middle","mb-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","p-0.5","w-1/2",3,"click"],[1,"flex","flex-col"],["class","flex justify-center align-middle mb-2 hover:cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"text-red-500","font-light","hover:cursor-pointer",3,"click"],[3,"supplierModalTitle","supplierAction","supplierName","supplierAddress","supplierNumber","supplierEmail","supplierMOP"],[1,"flex","justify-center","align-middle","mb-2","hover:cursor-pointer",3,"click"]],template:function(n,r){1&n&&(j(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),pe(4,"Supplier Masterlist"),H(),j(5,"form")(6,"div",3),Ye(7,"app-input",4),j(8,"button",5),pe(9," Search "),H()(),j(10,"div",6)(11,"div")(12,"label",7),pe(13,"Supplier"),H(),Ye(14,"input",8),H(),j(15,"div")(16,"label",7),pe(17,"Item"),H(),Ye(18,"input",8),H()()()(),Ye(19,"hr",9),j(20,"div",10)(21,"button",11),Ue("click",function(){return r.addSupplier()}),pe(22," Add Supplier "),H()(),j(23,"div",12)(24,"ul"),ur(25,yhe,3,3,"li",13),H()()(),j(26,"div",3)(27,"a",14),Ue("click",function(o){return r.logout(o)}),pe(28,"Log Out"),H()(),Ye(29,"app-supplier",15),H()),2&n&&(Me(25),Ve("ngForOf",r.masterlistService.supplierList),Me(4),Ve("supplierModalTitle",r.modalTitle)("supplierAction",r.supplierAction)("supplierName",r.supplierName)("supplierAddress",r.supplierAddress)("supplierNumber",r.supplierNumber)("supplierEmail",r.supplierEmail)("supplierMOP",r.supplierMOP))},dependencies:[bv,$2,kf,Cf,Rf,mhe,Av]}),t})();function vhe(t,e){1&t&&(j(0,"div"),Ye(1,"app-home")(2,"app-auth-modal"),H())}function whe(t,e){1&t&&Ye(0,"app-masterlist")}let Ihe=(()=>{class t{constructor(n){this.auth=n,this.title="ffc-ipad"}}return t.\u0275fac=function(n){return new(n||t)(D(uae))},t.\u0275cmp=ti({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["authMasterlist",""]],template:function(n,r){if(1&n&&(ur(0,vhe,3,0,"div",0),ur(1,whe,1,0,"ng-template",null,1,OR)),2&n){const i=function NN(t){return zs(function v4(){return K.lFrame.contextLView}(),le+t)}(2);Ve("ngIf",!r.auth.isAuthenticated)("ngIfElse",i)}},dependencies:[_f,cae,mae,_he]}),t})();const CH_firebase={apiKey:"AIzaSyDSC0bjZyz5JeKdGzDXf9rwsRHoh4_C9So",authDomain:"ffc-ipad.firebaseapp.com",projectId:"ffc-ipad",storageBucket:"ffc-ipad.appspot.com",messagingSenderId:"444173880131",appId:"1:444173880131:web:262b35ec914939335fbdf6"};let Ehe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=un({type:t,bootstrap:[Ihe]}),t.\u0275inj=Kt({imports:[qK,TJ,tY,xO,eY,Ere(()=>Dre(CH_firebase)),iae(()=>oae()),uhe(()=>dhe())]}),t})();const Che=L2(Qw(CH_firebase));let bH=!1;Che.onAuthStateChanged(()=>{bH||GK().bootstrapModule(Ehe).catch(t=>console.error(t)),bH=!0})}},Te=>{Te(Te.s=114)}]);